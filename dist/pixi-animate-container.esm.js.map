{"version":3,"file":"pixi-animate-container.esm.js","sources":["../src/createjs/modules/ButtonHelper.ts","../src/createjs/modules/utils.ts","../src/createjs/modules/core.ts","../src/createjs/modules/Stage.ts","../src/createjs/modules/StageGL.ts","../src/createjs/modules/EventManager.ts","../src/createjs/modules/MovieClip.ts","../src/createjs/modules/Sprite.ts","../src/createjs/modules/Shape.ts","../src/createjs/modules/Bitmap.ts","../src/createjs/modules/Graphics.ts","../src/createjs/modules/Text.ts","../src/createjs/modules/ColorFilter.ts","../src/createjs/core.ts","../src/Container.ts","../src/index.ts"],"sourcesContent":["import createjs from '@tawaship/createjs-module';\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nexport class CreatejsButtonHelper extends createjs.ButtonHelper {\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tconst createjs = args[0];\r\n\t\tconst pixi = createjs.pixi;\r\n\t\t\r\n\t\tconst baseFrame = args[1];\r\n\t\tconst overFrame = args[2];\r\n\t\tconst downFrame = args[3];\r\n\t\tconst hit = arguments[5];\r\n\t\tconst hitFrame = args[6];\r\n\t\t\r\n\t\thit.gotoAndStop(hitFrame);\r\n\t\tconst hitPixi = pixi.addChild(hit.pixi);\r\n\t\thitPixi.alpha = 0.00001;\r\n\t\t\r\n\t\tlet isOver = false;\r\n\t\tlet isDown = false;\r\n\t\t\r\n\t\thitPixi.on('pointerover', function() {\r\n\t\t\tisOver = true;\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerout', function() {\r\n\t\t\tisOver = false;\r\n\t\t\t\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerdown', function() {\r\n\t\t\tisDown = true;\r\n\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerup', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerupoutside', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.interactive = true;\r\n\t\thitPixi.cursor = 'pointer';\r\n\t}\r\n}","export function createObject<T>(proto: object): T {\r\n\treturn Object.create(proto);\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport const DEG_TO_RAD = Math.PI / 180;","import { Container, Point } from 'pixi.js';\r\nimport { CreatejsButtonHelper } from './ButtonHelper';\r\nimport { CreatejsStage } from './Stage';\r\nimport { CreatejsStageGL } from './StageGL';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { CreatejsShape } from './Shape';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsGraphics } from './Graphics';\r\nimport { CreatejsText } from './Text';\r\nimport { EventManager, ICreatejsInteractionEventDelegate, createjsInteractionEvents } from './EventManager';\r\nimport { DEG_TO_RAD } from './utils';\r\n\r\nexport interface ITickerData {\r\n\tdelta: number;\r\n}\r\n\r\nexport interface IPixiData<T extends Container> {\r\n\tregObj: Point;\r\n\tinstance: T;\r\n}\r\n\r\nexport function createPixiData<TPixiDisplayObject extends Container>(pixi: TPixiDisplayObject, regObj: Point): IPixiData<TPixiDisplayObject> {\r\n\treturn {\r\n\t\tregObj,\r\n\t\tinstance: pixi\r\n\t};\r\n}\r\n\r\nexport type TCreatejsMask = CreatejsShape | null;\r\n\r\nexport interface ICreatejsParam {\r\n\tx: number;\r\n\ty: number;\r\n\tscaleX: number;\r\n\tscaleY: number;\r\n\tregX: number;\r\n\tregY: number;\r\n\tskewX: number;\r\n\tskewY: number;\r\n\trotation: number;\r\n\tvisible: boolean;\r\n\talpha: number;\r\n\t_off: boolean;\r\n\tmask: TCreatejsMask;\r\n}\r\n\r\nexport type TCreatejsObject =\r\n\tCreatejsStage\r\n\t| CreatejsStageGL\r\n\t| CreatejsMovieClip\r\n\t| CreatejsSprite\r\n\t| CreatejsShape\r\n\t| CreatejsBitmap\r\n\t| CreatejsGraphics\r\n\t| CreatejsText;\r\n\r\nexport function createCreatejsParams(): ICreatejsParam {\r\n\treturn {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tscaleX: 0,\r\n\t\tscaleY: 0,\r\n\t\tregX: 0,\r\n\t\tregY: 0,\r\n\t\tskewX: 0,\r\n\t\tskewY: 0,\r\n\t\trotation: 0,\r\n\t\tvisible: true,\r\n\t\talpha: 1,\r\n\t\t_off: false,\r\n\t\tmask: null\r\n\t};\r\n}\r\n\r\nexport type TCreatejsDisplayObject = any/* createjs.DisplayObject */;\r\n\r\nexport interface ICreatejsDisplayObjectUpdater extends TCreatejsDisplayObject {\r\n\tupdateForPixi(e: ITickerData): boolean;\r\n}\r\n\r\nexport interface ICreatejsDisplayObjectInitializer {\r\n\tinitialize(...args: any[]): any;\r\n}\r\n\r\nexport function updateDisplayObjectChildren(cjs: ICreatejsDisplayObjectUpdater, e: ITickerData) {\r\n\tconst list = cjs.children.slice();\r\n\tfor (let i = 0, l = list.length; i < l; i++) {\r\n\t\tconst child = list[i];\r\n\t\tchild.updateForPixi(e);\r\n\t}\r\n\t\r\n\treturn true;\r\n}\r\n\r\nexport interface IMixinedCreatejsDisplayObject extends ICreatejsParam, TCreatejsDisplayObject {\r\n\tpixi: Container;\r\n\taddEventListener(type: string, cb: ICreatejsInteractionEventDelegate | CreatejsButtonHelper, ...args: any[]): any;\r\n\tremoveEventListener(type: string, cb: ICreatejsInteractionEventDelegate, ...args: any[]): any;\r\n\tremoveAllEventListeners(type?: string, ...args: any[]): any;\r\n}\r\n\r\ntype TMixinedCreatejsDisplayObjectClass = abstract new (...args: any[]) => IMixinedCreatejsDisplayObject;\r\n\r\nexport function mixinCreatejsDisplayObject(superClass: new (...args: any[]) => TCreatejsDisplayObject): TMixinedCreatejsDisplayObjectClass {\r\n\tabstract class C extends superClass {\r\n\t\tprotected abstract _pixiData: IPixiData<Container>;\r\n\t\tprotected abstract _createjsParams: ICreatejsParam;\r\n\t\tprotected abstract _createjsEventManager: EventManager;\r\n\t\t\r\n\t\tget pixi() {\r\n\t\t\treturn this._pixiData.instance;\r\n\t\t}\r\n\t\t\r\n\t\tget x() {\r\n\t\t\treturn this._createjsParams.x;\r\n\t\t}\r\n\t\t\r\n\t\tset x(value) {\r\n\t\t\tthis._pixiData.instance.x = value;\r\n\t\t\tthis._createjsParams.x = value;\r\n\t\t}\r\n\t\t\r\n\t\tget y() {\r\n\t\t\treturn this._createjsParams.y;\r\n\t\t}\r\n\t\t\r\n\t\tset y(value) {\r\n\t\t\tthis._pixiData.instance.y = value;\r\n\t\t\tthis._createjsParams.y = value;\r\n\t\t}\r\n\t\t\r\n\t\tget scaleX() {\r\n\t\t\treturn this._createjsParams.scaleX;\r\n\t\t}\r\n\t\t\t\r\n\t\tset scaleX(value) {\r\n\t\t\tthis._pixiData.instance.scale.x = value;\r\n\t\t\tthis._createjsParams.scaleX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget scaleY() {\r\n\t\t\treturn this._createjsParams.scaleY;\r\n\t\t}\r\n\t\t\r\n\t\tset scaleY(value) {\r\n\t\t\tthis._pixiData.instance.scale.y = value;\r\n\t\t\tthis._createjsParams.scaleY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget skewX() {\r\n\t\t\treturn this._createjsParams.skewX;\r\n\t\t}\r\n\t\t\r\n\t\tset skewX(value) {\r\n\t\t\tthis._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.skewX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget skewY() {\r\n\t\t\treturn this._createjsParams.skewY;\r\n\t\t}\r\n\t\t\r\n\t\tset skewY(value) {\r\n\t\t\tthis._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.skewY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget regX() {\r\n\t\t\treturn this._createjsParams.regX;\r\n\t\t}\r\n\t\t\r\n\t\tset regX(value) {\r\n\t\t\tthis._pixiData.regObj.x = value;\r\n\t\t\tthis._createjsParams.regX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget regY() {\r\n\t\t\treturn this._createjsParams.regY;\r\n\t\t}\r\n\t\t\r\n\t\tset regY(value) {\r\n\t\t\tthis._pixiData.regObj.y = value;\r\n\t\t\tthis._createjsParams.regY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget rotation() {\r\n\t\t\treturn this._createjsParams.rotation;\r\n\t\t}\r\n\t\t\r\n\t\tset rotation(value) {\r\n\t\t\tthis._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.rotation = value;\r\n\t\t}\r\n\t\t\r\n\t\tget visible() {\r\n\t\t\treturn this._createjsParams.visible;\r\n\t\t}\r\n\t\t\r\n\t\tset visible(value) {\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._pixiData.instance.visible = value;\r\n\t\t\tthis._createjsParams.visible = value;\r\n\t\t}\r\n\t\t\r\n\t\tget alpha() {\r\n\t\t\treturn this._createjsParams.alpha;\r\n\t\t}\r\n\t\t\r\n\t\tset alpha(value) {\r\n\t\t\tthis._pixiData.instance.alpha = value;\r\n\t\t\tthis._createjsParams.alpha = value;\r\n\t\t}\r\n\t\t\r\n\t\tget _off() {\r\n\t\t\treturn this._createjsParams._off;\r\n\t\t}\r\n\t\t\r\n\t\tset _off(value) {\r\n\t\t\tthis._pixiData.instance.renderable = !value;\r\n\t\t\tthis._createjsParams._off = value;\r\n\t\t}\r\n\t\t\r\n\t\taddEventListener(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate | CreatejsButtonHelper, ...args: any[]) {\r\n\t\t\tconst p = super.addEventListener(type, cb, ...args);\r\n\t\t\tif (!(cb instanceof CreatejsButtonHelper)) {\r\n\t\t\t\tthis._createjsEventManager.add(type, cb);\r\n\t\t\t}\r\n\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\t\r\n\t\tremoveEventListener(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate, ...args: any[]) {\r\n\t\t\tconst p = super.removeEventListener(type, cb, ...args);\r\n\t\t\tif (!(cb instanceof CreatejsButtonHelper)) {\r\n\t\t\t\tthis._createjsEventManager.remove(type, cb);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\t\r\n\t\tremoveAllEventListeners(type?: string, ...args: any[]) {\r\n\t\t\tconst p = super.removeAllEventListeners(type, ...args);\r\n\t\t\tthis._createjsEventManager.removeAll(type);\r\n\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\t\r\n\t\tget mask() {\r\n\t\t\treturn this._createjsParams.mask;\r\n\t\t}\r\n\t\t\r\n\t\tset mask(value: TCreatejsMask) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue.masked.push(this._pixiData.instance);\r\n\t\t\t\tthis._pixiData.instance.mask = value.pixi;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.once('added', () => {\r\n\t\t\t\t\tthis._pixiData.instance.parent.addChild(value.pixi);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._pixiData.instance.mask = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._createjsParams.mask = value;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn C;\r\n}","import createjs from '@tawaship/createjs-module';\r\nimport { updateDisplayObjectChildren, ITickerData, ICreatejsDisplayObjectUpdater } from './core';\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nexport class CreatejsStage extends createjs.Stage implements ICreatejsDisplayObjectUpdater {\r\n\tupdateForPixi(props: ITickerData) {\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tupdateDisplayObjectChildren(this, props);\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n}","import createjs from '@tawaship/createjs-module';\r\nimport { updateDisplayObjectChildren, ITickerData, ICreatejsDisplayObjectUpdater } from './core';\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nexport class CreatejsStageGL extends createjs.StageGL implements ICreatejsDisplayObjectUpdater {\r\n\tupdateForPixi(props: ITickerData) {\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tupdateDisplayObjectChildren(this, props);\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n}","import { TCreatejsObject } from './core';\r\nimport { utils } from 'pixi.js';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst createjsInteractionEventsa = {\r\n\tmousedown: true,\r\n\tpressmove: true,\r\n\tpressup: true,\r\n\trollover: true,\r\n\trollout: true,\r\n\tclick: true\r\n};\r\n\r\nexport enum createjsInteractionEvents {\r\n\tmousedown = \"mousedown\",\r\n\tpressmove = \"pressmove\",\r\n\tpressup = \"pressup\",\r\n\trollover = \"rollover\",\r\n\trollout = \"rollout\",\r\n\tclick = \"click\",\r\n}\r\n\r\n/**\r\n * Event object passed to createjs interaction event handler.\r\n * \r\n * It is different from the createjs event because it converts the event that occurred on pixi.js.\r\n * There may be fewer properties and the property values may not match the createjs event values.\r\n * Therefore, we recommend that you do not implement interaction processing with createjs, but with pixi.js.\r\n * \r\n * - `target`\r\n * A different object may be stored than the createjs event.\r\n *\r\n * - `rawX`, `rawY`\r\n * Global coordinates in the pixi.js canvas are stored.\r\n * When playing with createjs, the content is always placed at the canvas's global coordinates (0, 0), but this plugin allows you to freely change the coordinates of the createjs instance, so the values may shift.\r\n */\r\nexport interface ICreatejsInteractionEvent {\r\n\ttype: createjsInteractionEvents | null;\r\n\tcurrentTarget: TCreatejsObject | null;\r\n\ttarget: TCreatejsObject | null;\r\n\trawX: number;\r\n\trawY: number;\r\n}\r\n\r\nexport interface ICreatejsInteractionEventDelegate {\r\n\t (e: any): void;\r\n}\r\n\r\nexport class EventManager {\r\n\tprivate _downTarget: TCreatejsObject | null = null;\r\n\tprivate _emitter: utils.EventEmitter;\r\n\tprivate _cjs: TCreatejsObject;\r\n\t\r\n\tconstructor(cjs: TCreatejsObject) {\r\n\t\tthis._cjs = cjs;\r\n\t\tthis._emitter = new utils.EventEmitter();\r\n\t\t\r\n\t\tconst pixi = cjs.pixi;\r\n\t\t\r\n\t\tpixi\r\n\t\t.on('pointerdown', this._onPointerDown, this)\r\n\t\t.on('pointermove', this._onPointerMove, this)\r\n\t\t.on('pointerup', this._onPointerUp, this)\r\n\t\t.on('pointerupoutside', this._onPointerUpOutside, this)\r\n\t\t.on('pointertap', this._onPointerTap, this)\r\n\t\t.on('pointerover', this._onPointerOver, this)\r\n\t\t.on('pointerout', this._onPointerOut, this);\r\n\t}\r\n\t\r\n\tprivate _onPointerDown(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.mousedown,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.target.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\t\t\r\n\t\tthis._downTarget = e.target.createjs;\r\n\t\t\r\n\t\tthis._emitter.emit('mousedown', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerMove(e: any) {\r\n\t\tif (!this._downTarget) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.pressmove,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: this._downTarget,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\t\t\r\n\t\tthis._emitter.emit('pressmove', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerUp(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.pressup,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: this._downTarget,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._downTarget = null;\r\n\t\t\r\n\t\tthis._emitter.emit('pressup', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerUpOutside(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.pressup,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: this._downTarget,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._downTarget = null;\r\n\t\t\r\n\t\tthis._emitter.emit('pressup', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerTap(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.click,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.target.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._emitter.emit('click', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerOver(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.rollover,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.currentTarget.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._emitter.emit('rollover', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerOut(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.rollout,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.currentTarget.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._emitter.emit('rollout', ev);\r\n\t}\r\n\t\r\n\tadd(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate) {\r\n\t\tif (!(type in createjsInteractionEvents)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis._emitter.on(type, cb);\r\n\t\t\r\n\t\tif (this._emitter.eventNames().length > 0) {\r\n\t\t\tthis._cjs.pixi.interactive = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tremove(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate) {\r\n\t\tif (!(type in createjsInteractionEvents)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis._emitter.off(type, cb);\r\n\t\t\r\n\t\tif (this._emitter.eventNames().length === 0) {\r\n\t\t\tthis._cjs.pixi.interactive = false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tremoveAll(type?: string) {\r\n\t\tif (type && !(type in createjsInteractionEvents)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis._emitter.removeAllListeners(type);\r\n\t\t\r\n\t\tif (this._emitter.eventNames().length === 0) {\r\n\t\t\tthis._cjs.pixi.interactive = false;\r\n\t\t}\r\n\t}\r\n}","import { Container } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { CreatejsColorFilter, PixiColorMatrixFilter } from './ColorFilter';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, updateDisplayObjectChildren, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject } from './utils';\r\nimport { EventManager } from './EventManager';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nexport class PixiMovieClip extends Container {\r\n\tprivate _createjs: CreatejsMovieClip;\r\n\tprivate _filterContainer: Container | null = null;\r\n\t\r\n\tconstructor(cjs: CreatejsMovieClip) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget filterContainer() {\r\n\t\treturn this._filterContainer;\r\n\t}\r\n\t\r\n\tset filterContainer(value) {\r\n\t\tthis._filterContainer = value;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport type TCreatejsColorFilters = CreatejsColorFilter[] | null;\r\n\r\nexport interface ICreatejsMovieClipParam extends ICreatejsParam {\r\n\tfilters: TCreatejsColorFilters;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams(): ICreatejsMovieClipParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\tfilters: null\r\n\t});\r\n}\r\n\r\nexport interface IPixiMovieClipData extends IPixiData<PixiMovieClip> {\r\n\tsubInstance: Container;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs: CreatejsMovieClip): IPixiMovieClipData {\r\n\tconst pixi = new PixiMovieClip(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData<PixiMovieClip>(pixi, pixi.pivot), {\r\n\t\tsubInstance: pixi\r\n\t});\r\n}\r\n\r\nexport class AnimateEvent extends createjs.Event {\r\n\tconstructor(type: string) {\r\n\t\tsuper(type);\r\n\t}\r\n};\r\n\r\nexport interface IReachLabelData {\r\n\t/**\r\n\t * Label name.\r\n\t */\r\n\tlabel: string;\r\n\t\r\n\t/**\r\n\t * Frame number of label.\r\n\t */\r\n\tposition: number;\r\n}\r\n\r\nexport class ReachLabelEvent extends AnimateEvent {\r\n\tdata: IReachLabelData;\r\n\t\r\n\tconstructor(type: string, label: IReachLabelData) {\r\n\t\tsuper(type);\r\n\t\t\r\n\t\tthis.data = label;\r\n\t}\r\n}\r\n\r\nexport interface IFrameEventOption {\r\n\t/**\r\n\t * Whether to fire [[CreatejsMovieClip.endAnimation]]\r\n\t */\r\n\tendAnimation?: boolean;\r\n\r\n\t/**\r\n\t * Whether to fire [[CreatejsMovieClip.reachLabel]]\r\n\t */\r\n\treachLabel?: boolean;\r\n}\r\n\r\nconst P = createjs.MovieClip;\r\n\r\nconst T: number = 1000 / 60;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends mixinCreatejsDisplayObject(createjs.MovieClip) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiMovieClipData;\r\n\tprotected _createjsParams: ICreatejsMovieClipParam;\r\n\tprotected _createjsEventManager: EventManager;\r\n\r\n\tdeclare protected _framerateBase: number;\r\n\tdeclare protected _listenFrameEvents: IFrameEventOption;\r\n\r\n\t/**\r\n\t * When the last frame of the timeline is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\tendAnimation?(e: AnimateEvent): void {}\r\n\t\r\n\t/**\r\n\t * When either labels is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\treachLabel?(e: ReachLabelEvent): void {}\r\n\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._pixiData = createPixiMovieClipData(this);\r\n\t\tthis._createjsParams = createCreatejsMovieClipParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\tP.apply(this, args);\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiMovieClipData(this);\r\n\t\tthis._createjsParams = createCreatejsMovieClipParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\tsuper.initialize(...args);\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData): boolean {\r\n\t\tconst currentFrame = this.currentFrame;\r\n\t\t\r\n\t\tthis.advance(T * e.delta);\r\n\t\t\r\n\t\tif (this._listenFrameEvents && currentFrame !== this.currentFrame) {\r\n\t\t\tif (this._listenFrameEvents.endAnimation && this.currentFrame === (this.totalFrames - 1)) {\r\n\t\t\t\tthis.dispatchEvent(new AnimateEvent('endAnimation'));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this._listenFrameEvents.reachLabel) {\r\n\t\t\t\tfor (let i = 0; i < this.labels.length; i++) {\r\n\t\t\t\t\tconst label = this.labels[i];\r\n\t\t\t\t\tif (this.currentFrame === label.position) {\r\n\t\t\t\t\t\tthis.dispatchEvent(new ReachLabelEvent('reachLabel', label));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._updateState();\r\n\t\t\r\n\t\treturn updateDisplayObjectChildren(this, e);\r\n\t}\r\n\t\r\n\tget filters() {\r\n\t\treturn this._createjsParams.filters;\r\n\t}\r\n\t\r\n\t//*\r\n\tset filters(value: TCreatejsColorFilters) {\r\n\t\tconst list: PixiColorMatrixFilter[] = [];\r\n\r\n\t\tif (value && value.length > 0) {\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tlet f = value[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!(f instanceof createjs.ColorFilter)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlist.push(f.pixi);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._pixiData.instance.filters = list;\r\n\t\tthis._createjsParams.filters = value;\r\n\t}\r\n\t//*/\r\n\t/*\r\n\tset filters(value: TCreatejsColorFilters) {\r\n\t\tif (value) {\r\n\t\t\tconst list = [];\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tconst f = value[i];\r\n\t\t\t\t\r\n\t\t\t\tif (f instanceof createjs.ColorMatrixFilter) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst m = new filters.ColorMatrixFilter();\r\n\t\t\t\tm.matrix = [\r\n\t\t\t\t\tf.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n\t\t\t\t\t0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n\t\t\t\t\t0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n\t\t\t\t\t0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n\t\t\t\t\t0, 0, 0, 0, 1\r\n\t\t\t\t];\r\n\t\t\t\tlist.push(m);\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tlet f = value[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!(f instanceof createjs.ColorFilter)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlist.push(f.pixi);\r\n\t\t\t}\r\n\r\n\t\t\tvar o = this._pixiData.instance;\r\n\t\t\tvar c = o.children;\r\n\t\t\tvar n = new Container();\r\n\t\t\tvar nc = this._pixiData.subInstance = n.addChild(new Container());\r\n\t\t\t\r\n\t\t\twhile (c.length) {\r\n\t\t\t\tnc.addChild(c[0]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\to.addChild(n);\r\n\t\t\to.filterContainer = nc;\r\n\t\t\t\r\n\t\t\tnc.updateTransform();\r\n\t\t\tnc.calculateBounds();\r\n\t\t\t\r\n\t\t\tconst b = nc.getLocalBounds();\r\n\t\t\tconst x = b.x;\r\n\t\t\tconst y = b.y;\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < nc.children.length; i++) {\r\n\t\t\t\tconst child = nc.children[i];\r\n\t\t\t\t\r\n\t\t\t\tchild.x -= x;\r\n\t\t\t\tchild.y -= y;\r\n\t\t\t\t\r\n\t\t\t\tif (child instanceof PixiMovieClip) {\r\n\t\t\t\t\tconst fc = child.filterContainer;\r\n\t\t\t\t\tif (fc) {\r\n\t\t\t\t\t\t//fc.cacheAsBitmap = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tn.x = x;\r\n\t\t\tn.y = y;\r\n\t\t\t\r\n\t\t\tnc.filters = list;\r\n\t\t\t//nc.cacheAsBitmap = true;\r\n\t\t} else {\r\n\t\t\tconst o = this._pixiData.instance;\r\n\t\t\t\r\n\t\t\tif (o.filterContainer) {\r\n\t\t\t\tconst nc = this._pixiData.subInstance;\r\n\t\t\t\tconst n = nc.parent;\r\n\t\t\t\tconst c = nc.children;\r\n\t\t\t\t\r\n\t\t\t\to.removeChildren();\r\n\t\t\t\to.filterContainer = null;\r\n\t\t\t\twhile (c.length) {\r\n\t\t\t\t\tconst v = o.addChild(c[0]);\r\n\t\t\t\t\tv.x += n.x;\r\n\t\t\t\t\tv.y += n.y;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tnc.filters = [];\r\n\t\t\t\t//nc.cacheAsBitmap = false;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.subInstance = o;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis._createjsParams.filters = value;\r\n\t}\r\n\t//*/\r\n\t\r\n\taddChild(child: ICreatejsDisplayObjectUpdater) {\r\n\t\tthis._pixiData.subInstance.addChild(child.pixi);\r\n\t\t\r\n\t\treturn super.addChild(child);\r\n\t}\r\n\t\r\n\taddChildAt(child: ICreatejsDisplayObjectUpdater, index: number) {\r\n\t\tthis._pixiData.subInstance.addChildAt(child.pixi, index);\r\n\t\t\r\n\t\treturn super.addChildAt(child, index);\r\n\t}\r\n\t\r\n\tremoveChild(child: ICreatejsDisplayObjectUpdater) {\r\n\t\tthis._pixiData.subInstance.removeChild(child.pixi);\r\n\t\t\r\n\t\treturn super.removeChild(child);\r\n\t}\r\n\t\r\n\tremoveChildAt(index: number) {\r\n\t\tthis._pixiData.subInstance.removeChildAt(index);\r\n\t\t\r\n\t\treturn super.removeChildAt(index);\r\n\t}\r\n\t\r\n\tremoveAllChldren() {\r\n\t\tthis._pixiData.subInstance.removeChildren();\r\n\t\t\r\n\t\treturn super.removeAllChldren();\r\n\t}\r\n}\r\n\r\ndelete(CreatejsMovieClip.prototype.endAnimation);\r\ndelete(CreatejsMovieClip.prototype.reachLabel);\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsMovieClipParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiMovieClipData(createObject<CreatejsMovieClip>(CreatejsMovieClip.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});\r\n\r\n","import { Sprite, Texture, BaseTexture } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject } from './utils';\r\nimport { EventManager } from './EventManager';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nexport class PixiSprite extends Sprite {\r\n\tprivate _createjs: CreatejsSprite | {};\r\n\t\r\n\tconstructor(cjs: CreatejsSprite | {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t\tthis.interactive = true;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsSpriteParam extends ICreatejsParam {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams(): ICreatejsSpriteParam {\r\n\treturn createCreatejsParams();\r\n}\r\n\r\nexport interface IPixiSpriteData extends IPixiData<PixiSprite> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs: CreatejsSprite | {}): IPixiSpriteData {\r\n\tconst pixi = new PixiSprite(cjs);\r\n\t\r\n\treturn createPixiData<PixiSprite>(pixi, pixi.anchor)\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Sprite;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nexport class CreatejsSprite extends mixinCreatejsDisplayObject(createjs.Sprite) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiSpriteData;\r\n\tprotected _createjsParams: ICreatejsSpriteParam;\r\n\tprotected _createjsEventManager: EventManager;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiSpriteData(this);\r\n\t\tthis._createjsParams = createCreatejsSpriteParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiSpriteData(this);\r\n\t\tthis._createjsParams = createCreatejsSpriteParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tgotoAndStop(...args: any[]) {\r\n\t\tsuper.gotoAndStop(...args);\r\n\t\t\r\n\t\tconst frame = this.spriteSheet.getFrame(this.currentFrame);\r\n\t\tconst baseTexture = BaseTexture.from(frame.image);\r\n\t\tconst texture = new Texture(baseTexture, frame.rect);\r\n\t\t\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsSpriteParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiSpriteData(createObject<CreatejsSprite>(CreatejsSprite.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import { DisplayObject, Container } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { CreatejsGraphics } from './Graphics';\r\nimport { createObject } from './utils';\r\nimport { EventManager } from './EventManager';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nexport class PixiShape extends Container {\r\n\tprivate _createjs: CreatejsShape;\r\n\t\r\n\tconstructor(cjs: CreatejsShape) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t\tthis.interactive = true;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsShapeParam extends ICreatejsParam {\r\n\tgraphics: CreatejsGraphics | null;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics: CreatejsGraphics | null): ICreatejsShapeParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\tgraphics\r\n\t});\r\n}\r\n\r\nexport interface IPixiShapeData extends IPixiData<PixiShape> {\r\n\t/**\r\n\t * [[http://pixijs.download/release/docs/PIXI.DisplayObject.html | PIXI.DisplayObject]]\r\n\t */\r\n\tmasked: DisplayObject[];\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs: CreatejsShape): IPixiShapeData {\r\n\tconst pixi = new PixiShape(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData<PixiShape>(pixi, pixi.pivot), {\r\n\t\tmasked: []\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Shape;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nexport class CreatejsShape extends mixinCreatejsDisplayObject(createjs.Shape) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiShapeData;\r\n\tprotected _createjsParams: ICreatejsShapeParam;\r\n\tprotected _createjsEventManager: EventManager;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiShapeData(this);\r\n\t\tthis._createjsParams = createCreatejsShapeParams(null);\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiShapeData(this);\r\n\t\tthis._createjsParams = createCreatejsShapeParams(null);\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tget graphics() {\r\n\t\treturn this._createjsParams.graphics;\r\n\t}\r\n\t\r\n\tset graphics(value) {\r\n\t\tif (this._pixiData.masked.length) {\r\n\t\t\tthis._pixiData.instance.removeChildren();\r\n\t\t\t\r\n\t\t\tif (value) {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = this._pixiData.instance;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (value) {\r\n\t\t\tthis._pixiData.instance.addChild(value.pixi);\r\n\t\t}\r\n\t\t\r\n\t\tthis._createjsParams.graphics = value;\r\n\t}\r\n\t\r\n\tget masked() {\r\n\t\treturn this._pixiData.masked;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsShapeParams(null),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiShapeData(createObject<CreatejsShape>(CreatejsShape.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import { Sprite, Texture } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject } from './utils';\r\nimport { EventManager } from './EventManager';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nexport class PixiBitmap extends Sprite {\r\n\tprivate _createjs: CreatejsBitmap;\r\n\t\r\n\tconstructor(cjs: CreatejsBitmap) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t\tthis.interactive = true;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsBitmapParam extends ICreatejsParam {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams(): ICreatejsBitmapParam {\r\n\treturn createCreatejsParams();\r\n}\r\n\r\nexport interface IPixiBitmapData extends IPixiData<PixiBitmap> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs: CreatejsBitmap): IPixiBitmapData {\r\n\tconst pixi = new PixiBitmap(cjs);\r\n\t\r\n\treturn createPixiData<PixiBitmap>(pixi, pixi.anchor);\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Bitmap;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nexport class CreatejsBitmap extends mixinCreatejsDisplayObject(createjs.Bitmap) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiBitmapData;\r\n\tprotected _createjsParams: ICreatejsBitmapParam;\r\n\tprotected _createjsEventManager: EventManager;\r\n\t \r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiBitmapData(this);\r\n\t\tthis._createjsParams = createCreatejsBitmapParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiBitmapData(this);\r\n\t\tthis._createjsParams = createCreatejsBitmapParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\tconst res = super.initialize(...args);\r\n\t\tconst texture = Texture.from(this.image);\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsBitmapParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiBitmapData(createObject<CreatejsBitmap>(CreatejsBitmap.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});\r\n","import { Graphics, LINE_CAP, LINE_JOIN} from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam,  ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject, DEG_TO_RAD } from './utils';\r\nimport { EventManager } from './EventManager';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nexport class PixiGraphics extends Graphics {\r\n\tprivate _createjs: CreatejsGraphics;\r\n\t\r\n\tconstructor(cjs: CreatejsGraphics) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsGraphicsParam extends ICreatejsParam {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams(): ICreatejsGraphicsParam {\r\n\treturn createCreatejsParams();\r\n}\r\n\r\nexport interface IPixiGraphicsData extends IPixiData<PixiGraphics> {\r\n\tstrokeFill: number;\r\n\tstrokeAlpha: number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs: CreatejsGraphics): IPixiGraphicsData {\r\n\tconst pixi = new PixiGraphics(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData<PixiGraphics>(pixi, pixi.pivot), {\r\n\t\tstrokeFill: 0,\r\n\t\tstrokeAlpha: 1\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n\t0: LINE_CAP.BUTT,\r\n\t1: LINE_CAP.ROUND,\r\n\t2: LINE_CAP.SQUARE\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n\t0: LINE_JOIN.MITER,\r\n\t1: LINE_JOIN.ROUND,\r\n\t2: LINE_JOIN.BEVEL\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Graphics;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nexport class CreatejsGraphics extends mixinCreatejsDisplayObject(createjs.Graphics) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiGraphicsData;\r\n\tprotected _createjsParams: ICreatejsGraphicsParam;\r\n\tprotected _createjsEventManager: EventManager;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiGraphicsData(this);\r\n\t\tthis._createjsParams = createCreatejsGraphicsParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t\t\r\n\t\tthis._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n\t\tthis._pixiData.strokeFill = 0;\r\n\t\tthis._pixiData.strokeAlpha = 1;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiGraphicsData(this);\r\n\t\tthis._createjsParams = createCreatejsGraphicsParams();\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t// path methods\r\n\t\r\n\tmoveTo(x: number, y: number) {\r\n\t\tif (this._pixiData.instance.clone().endFill().containsPoint({x: x, y: y})) {\r\n\t\t\tthis._pixiData.instance.beginHole();\r\n\t\t} else {\r\n\t\t\tthis._pixiData.instance.endHole();\r\n\t\t}\r\n\t\t\r\n\t\tthis._pixiData.instance.moveTo(x, y);\r\n\t\t\r\n\t\treturn super.moveTo(x, y);\r\n\t}\r\n\t\r\n\tmt(x: number, y: number) {\r\n\t\treturn this.moveTo(x, y);\r\n\t}\r\n\t\r\n\tlineTo(x: number, y: number) {\r\n\t\tthis._pixiData.instance.lineTo(x, y);\r\n\t\t\r\n\t\treturn super.lineTo(x, y);\r\n\t}\r\n\t\r\n\tlt(x: number, y: number) {\r\n\t\treturn this.lineTo(x, y);\r\n\t}\r\n\t\r\n\tarcTo(x1: number, y1: number, x2: number, y2: number, radius: number) {\r\n\t\tthis._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n\t\t\r\n\t\treturn super.arcTo(x1, y1, x2, y2, radius);\r\n\t}\r\n\t\r\n\tat(x1: number, y1: number, x2: number, y2: number, radius: number) {\r\n\t\treturn this.arcTo(x1, y1, x2, y2, radius);\r\n\t}\r\n\t\r\n\tarc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\r\n\t\tthis._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t\t\r\n\t\treturn super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t}\r\n\t\r\n\ta(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\r\n\t\treturn this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t}\r\n\t\r\n\tquadraticCurveTo(cpx: number, cpy: number, x: number, y: number) {\r\n\t\tthis._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n\t\t\r\n\t\treturn super.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tqt(cpx: number, cpy: number, x: number, y: number) {\r\n\t\treturn this.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tcurveTo(cpx: number, cpy: number, x: number, y: number) {\r\n\t\treturn this.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tbezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number) {\r\n\t\tthis._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t\t\r\n\t\treturn super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t}\r\n\t\r\n\tbt(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number) {\r\n\t\treturn this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t}\r\n\t\r\n\trect(x: number, y: number, w: number, h: number) {\r\n\t\tthis._pixiData.instance.drawRect(x, y, w, h);\r\n\t\t\r\n\t\treturn super.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tr(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tdrawRect(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tdr(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tclosePath() {\r\n\t\tthis._pixiData.instance.closePath();\r\n\t\t\r\n\t\treturn super.closePath();\r\n\t}\r\n\t\r\n\tcp() {\r\n\t\treturn this.closePath();\r\n\t}\r\n\t\r\n\tclear() {\r\n\t\tthis._pixiData.instance.clear();\r\n\t\t\r\n\t\treturn super.clear();\r\n\t}\r\n\t\r\n\tc() {\r\n\t\treturn this.clear();\r\n\t}\r\n\t\r\n\tprivate _parseColor(color: string) {\r\n\t\tconst res = {\r\n\t\t\tcolor: 0,\r\n\t\t\talpha: 1\r\n\t\t};\r\n\t\t\r\n\t\tif (!color) {\r\n\t\t\tres.alpha = 0;\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tif (color.charAt(0) === '#') {\r\n\t\t\tres.color = parseInt(color.slice(1), 16);\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tconst colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n\t\t\r\n\t\tres.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n\t\tres.alpha = Number(colors[3]);\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tbeginFill(color: string) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.instance.beginFill(c.color, c.alpha);\r\n\t\t\r\n\t\treturn super.beginFill(color);\r\n\t}\r\n\t\r\n\tf(color: string) {\r\n\t\treturn this.beginFill(color);\r\n\t}\r\n\t\r\n\tendFill() {\r\n\t\tthis._pixiData.instance.endFill();\r\n\t\t\r\n\t\treturn super.endFill();\r\n\t}\r\n\t\r\n\tef() {\r\n\t\treturn this.endFill();\r\n\t}\r\n\t\r\n\tsetStrokeStyle(thickness: number, caps: 0 | 1 | 2, joints: 0 | 1 | 2, miterLimit: number, ignoreScale: boolean) {\r\n\t\tthis._pixiData.instance.lineTextureStyle({\r\n\t\t\twidth: thickness,\r\n\t\t\tcolor: this._pixiData.strokeFill,\r\n\t\t\talpha: this._pixiData.strokeAlpha,\r\n\t\t\tcap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n\t\t\tjoin: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n\t\t\tmiterLimit\r\n\t\t});\r\n\t\t\r\n\t\treturn super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\t}\r\n\t\r\n\tss(thickness: number, caps: 0 | 1 | 2, joints: 0 | 1 | 2, miterLimit: number, ignoreScale: boolean) {\r\n\t\treturn this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\t}\r\n\t\r\n\tbeginStroke(color: string) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.strokeFill = c.color;\r\n\t\tthis._pixiData.strokeAlpha = c.alpha;\r\n\t\t\r\n\t\treturn super.beginStroke(color);\r\n\t}\r\n\t\r\n\ts(color: string) {\r\n\t\treturn this.beginStroke(color);\r\n\t}\r\n\t\r\n\tdrawRoundRect(x: number, y: number, w: number, h: number, radius: number) {\r\n\t\tthis._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n\t\t\r\n\t\treturn super.drawRoundRect(x, y, w, h, radius);\r\n\t}\r\n\t\r\n\trr(x: number, y: number, w: number, h: number, radius: number) {\r\n\t\treturn this.drawRoundRect(x, y, w, h, radius);\r\n\t}\r\n\t\r\n\tdrawCircle(x: number, y: number, radius: number) {\r\n\t\tthis._pixiData.instance.drawCircle(x, y, radius);\r\n\t\t\r\n\t\treturn super.drawCircle(x, y, radius);\r\n\t}\r\n\t\r\n\tdc(x: number, y: number, radius: number) {\r\n\t\treturn this.drawCircle(x, y, radius);\r\n\t}\r\n\t\r\n\tdrawEllipse(x: number, y: number, w: number, h: number) {\r\n\t\tthis._pixiData.instance.drawEllipse(x, y, w, h);\r\n\t\t\r\n\t\treturn super.drawEllipse(x, y, w, h);\r\n\t}\r\n\t\r\n\tde(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.drawEllipse(x, y, w, h);\r\n\t}\r\n\t\r\n\tdrawPolyStar(x: number, y: number, radius: number, sides: number, pointSize: number, angle: number) {\r\n\t\tthis._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n\t\t\r\n\t\treturn super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n\t}\r\n\t\r\n\tdp(x: number, y: number, radius: number, sides: number, pointSize: number, angle: number) {\r\n\t\treturn this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsGraphicsParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiGraphicsData(createObject<CreatejsGraphics>(CreatejsGraphics.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import { Container, Text } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater } from './core';\r\nimport { createObject } from './utils';\r\nimport { EventManager } from './EventManager';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nexport class PixiText extends Text {}\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nexport class PixiTextContainer extends Container {\r\n\tprivate _createjs: CreatejsText;\r\n\tprivate _text: PixiText;\r\n\t\r\n\tconstructor(cjs: CreatejsText, text: PixiText) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t\tthis._text = text;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._text;\r\n\t}\r\n}\r\n\r\nexport type TTextAlign = 'left' | 'center' | 'right';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN: TTextAlign = 'left';\r\n\r\nexport interface ICreatejsTextParam extends ICreatejsParam {\r\n\ttext: string;\r\n\tfont: string;\r\n\tcolor: string;\r\n\ttextAlign: TTextAlign;\r\n\tlineHeight: number;\r\n\tlineWidth: number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text: string, font: string, color: string): ICreatejsTextParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\ttext: text,\r\n\t\tfont: font,\r\n\t\tcolor: color,\r\n\t\ttextAlign: DEF_ALIGN,\r\n\t\tlineHeight: 0,\r\n\t\tlineWidth: 0\r\n\t});\r\n}\r\n\r\nexport interface IPixiTextData extends IPixiData<PixiTextContainer> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs: CreatejsText, text: PixiText): IPixiTextData {\r\n\tconst pixi = new PixiTextContainer(cjs, text);\r\n\t\r\n\treturn createPixiData<PixiTextContainer>(pixi, pixi.pivot);\r\n}\r\n\r\nexport interface IParsedText {\r\n\tfontSize: number;\r\n\tfontFamily: string;\r\n\tfontWeight?: string | number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Text;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nexport class CreatejsText extends mixinCreatejsDisplayObject(createjs.Text) implements ICreatejsDisplayObjectUpdater {\r\n\tprotected _pixiData: IPixiTextData;\r\n\tprotected _createjsParams: ICreatejsTextParam;\r\n\tprotected _createjsEventManager: EventManager;\r\n\t\r\n\tconstructor(text: string, font: string, color: string = '#000000', ...args: any[]) {\r\n\t\tsuper(text, font, color, ...args);\r\n\t\t\r\n\t\tthis._createjsParams = createCreatejsTextParams(text, font, color);\r\n\t\t\r\n\t\tconst _font = this._parseFont(font);\r\n\t\t\r\n\t\tconst t = new PixiText(text, {\r\n\t\t\tfontWeight: _font.fontWeight,\r\n\t\t\tfontSize: _font.fontSize,\r\n\t\t\tfontFamily: _font.fontFamily,\r\n\t\t\tfill: this._parseColor(color),\r\n\t\t\twordWrap: true\r\n\t\t});\r\n\t\t\r\n\t\tthis._pixiData = createPixiTextData(this, t);\r\n\t\tthis._pixiData.instance.addChild(t);\r\n\t\t\r\n\t\tthis._createjsEventManager = new EventManager(this);\r\n\t\t\r\n\t\tP.call(this, text, font, color, ...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._createjsParams.text;\r\n\t}\r\n\t\r\n\tset text(text) {\r\n\t\tthis._pixiData.instance.text.text = text;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\tthis._createjsParams.text = text;\r\n\t}\r\n\t\r\n\tprivate _parseFont(font: string): IParsedText {\r\n\t\tconst p = font.split(' ');\r\n\t\t\r\n\t\tlet w = 'normal';\r\n\t\tlet s = p.shift() || '';\r\n\t\t\r\n\t\tif (s.indexOf('px') === -1) {\r\n\t\t\tw = s;\r\n\t\t\ts = p.shift() || '';\r\n\t\t}\r\n\t\t\r\n\t\treturn {\r\n\t\t\tfontWeight: w,\r\n\t\t\tfontSize: Number((s || '0px').replace('px', '')),\r\n\t\t\tfontFamily: p.join(' ').replace(/'/g, '') //'\r\n\t\t};\r\n\t}\r\n\t\r\n\tget font() {\r\n\t\treturn this._createjsParams.font;\r\n\t}\r\n\t\r\n\tset font(font) {\r\n\t\tconst _font = this._parseFont(font);\r\n\t\tthis._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n\t\tthis._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n\t\t\r\n\t\tthis._createjsParams.font = font;\r\n\t}\r\n\t\r\n\tprivate _parseColor(color: string) {\r\n\t\treturn parseInt(color.slice(1), 16);\r\n\t}\r\n\t\r\n\tget color() {\r\n\t\treturn this._createjsParams.color;\r\n\t}\r\n\t\r\n\tset color(color) {\r\n\t\tthis._pixiData.instance.text.style.fill = this._parseColor(color);\r\n\t\t\r\n\t\tthis._createjsParams.color = color;\r\n\t}\r\n\t\r\n\tprivate _align(align: TTextAlign) {\r\n\t\tif (align === 'left') {\r\n\t\t\tthis._pixiData.instance.text.x = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'center') {\r\n\t\t\tthis._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'right') {\r\n\t\t\tthis._pixiData.instance.text.x =  -this._pixiData.instance.text.width;\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tget textAlign() {\r\n\t\treturn this._createjsParams.textAlign;\r\n\t}\r\n\t\r\n\tset textAlign(align) {\r\n\t\tthis._pixiData.instance.text.style.align = align;\r\n\t\tthis._align(align);\r\n\t\t\r\n\t\tthis._createjsParams.textAlign = align;\r\n\t}\r\n\t\r\n\tget lineHeight() {\r\n\t\treturn this._createjsParams.lineHeight;\r\n\t}\r\n\t\r\n\tset lineHeight(height) {\r\n\t\tthis._pixiData.instance.text.style.lineHeight = height;\r\n\t\t\r\n\t\tthis._createjsParams.lineHeight = height;\r\n\t}\r\n\t\r\n\tget lineWidth() {\r\n\t\treturn this._createjsParams.lineWidth;\r\n\t}\r\n\t\r\n\tset lineWidth(width) {\r\n\t\tthis._pixiData.instance.text.style.wordWrapWidth = width;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\tthis._createjsParams.lineWidth = width;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsTextParams('', '', ''),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiTextData(createObject<CreatejsText>(CreatejsText.prototype), new PixiText('')),\r\n\t\twritable: true\r\n\t}\r\n});","import { filters } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { ICreatejsParam, createCreatejsParams } from './core';\r\nimport { createObject } from './utils';\r\n\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.ColorMatrixFilter.html | PIXI.Sprite]]\r\n */\r\nexport class PixiColorMatrixFilter extends filters.ColorMatrixFilter {\r\n\tprivate _createjs: CreatejsColorFilter;\r\n\t\r\n\tconstructor(cjs: CreatejsColorFilter) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface IPixiColorMatrixFilterData {\r\n\tinstance: PixiColorMatrixFilter;\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiColorMatrixFilterData(cjs: CreatejsColorFilter): IPixiColorMatrixFilterData {\r\n\tconst pixi = new PixiColorMatrixFilter(cjs);\r\n\t\r\n\treturn { instance: pixi };\r\n}\r\n\r\nexport interface ICreatejsColorFilterParam extends ICreatejsParam {\r\n\tredMultiplier: number;\r\n    greenMultiplier: number;\r\n    blueMultiplier: number;\r\n    alphaMultiplier: number;\r\n    redOffset: number;\r\n    greenOffset: number;\r\n    blueOffset: number;\r\n    alphaOffset: number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsColorFilterParams(): ICreatejsColorFilterParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\tredMultiplier: 1,\r\n        greenMultiplier: 1,\r\n        blueMultiplier: 1,\r\n        alphaMultiplier: 1,\r\n        redOffset: 0,\r\n        greenOffset: 0,\r\n        blueOffset: 0,\r\n        alphaOffset: 0\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.ColorFilter;\r\n\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ColorFilter.html | createjs.ColorFilter]]\r\n */\r\nexport class CreatejsColorFilter extends createjs.ColorFilter {\r\n    protected _pixiData: IPixiColorMatrixFilterData;\r\n    protected _createjsParams: ICreatejsColorFilterParam;\r\n\r\n    constructor(...args: number[]) {\r\n        super(args);\r\n\r\n        const pixiData = this._pixiData = createPixiColorMatrixFilterData(this);\r\n        const createjsParams = this._createjsParams = createCreatejsColorFilterParams();\r\n\r\n        // ColorFiltertween hasOwnPropery enumerable\r\n        Object.defineProperties(this, {\r\n            _pixiData: {\r\n                enumerable: false,\r\n                value: pixiData\r\n            },\r\n            _createjsParams: {\r\n                enumerable: false,\r\n                value: createjsParams\r\n            },\r\n            redMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.redMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[0] = value, this._createjsParams.redMultiplier = value;\r\n                }\r\n            },\r\n            greenMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.greenMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[6] = value, this._createjsParams.greenMultiplier = value;\r\n                }\r\n            },\r\n            blueMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.blueMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[12] = value, this._createjsParams.blueMultiplier = value;\r\n                }\r\n            },\r\n            alphaMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.alphaMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[18] = value, this._createjsParams.alphaMultiplier = value;\r\n                },\r\n            },\r\n            redOffset: {\r\n                get() {\r\n                    return this._createjsParams.redOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[4] = value / 255, this._createjsParams.redOffset = value;\r\n                }\r\n            },\r\n            greenOffset: {\r\n                get() {\r\n                    return this._createjsParams.greenOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[9] = value / 255, this._createjsParams.greenOffset = value;\r\n                }\r\n            },\r\n            blueOffset: {\r\n                get() {\r\n                    return this._createjsParams.blueOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[14] = value / 255, this._createjsParams.blueOffset = value;\r\n                }\r\n            },\r\n            alphaOffset: {\r\n                get() {\r\n                    return this._createjsParams.alphaOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[19] = value / 255, this._createjsParams.alphaOffset = value;\r\n                }\r\n            }\r\n        });\r\n\r\n        P.apply(this, args);\r\n    }\r\n    \r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsColorFilter.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsColorFilterParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiColorMatrixFilterData(createObject<CreatejsColorFilter>(CreatejsColorFilter.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport * as PA from './modules';\r\nimport createjs from '@tawaship/createjs-module';\r\n\r\ndeclare const AdobeAn: any;\r\ndeclare const window: any;\r\n\r\nexport interface IAnimateLibrary {\r\n\t[ name: string ]: any;\r\n}\r\n\r\nexport interface ILoadAssetOption {\r\n\t/**\r\n\t * Whether to use assets on a server in another domain.\r\n\t */\r\n\tcrossOrigin?: boolean;\r\n\r\n\t/**\r\n\t * Whether to use sound on createjs.\r\n\t * \r\n\t * However, if possible, try to use an external library such as ***howler.js***.\r\n\t */\r\n\tuseSound?: boolean;\r\n\r\n\t/**\r\n\t * Whether to fire events related to frames.\r\n\t */\r\n\tlistenFrameEvents?: PA.IFrameEventOption;\r\n};\r\n\r\nexport interface IPrepareTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\toptions?: ILoadAssetOption;\r\n};\r\n\r\nfunction playSound(id: string, loop: boolean, offset: number) {\r\n\treturn createjs.Sound.play(id, {\r\n\t\tinterrupt: createjs.Sound.INTERRUPT_EARLY,\r\n\t\tloop,\r\n\t\toffset\r\n\t});\r\n}\r\n\r\nexport interface IAnimateManifest {\r\n\tsrc: string;\r\n\tid: string;\r\n\ttype?: string;\r\n\tcrossOrigin?: boolean;\r\n\t[key: string]: any;\r\n}\r\n\r\n\r\nexport function dataURLToBlobURL(dataURL: string) {\r\n\tconst bin = atob(dataURL.replace(/^.*,/, ''));\r\n\tconst buffer = new Uint8Array(bin.length);\r\n\tfor (let i = 0; i < bin.length; i++) {\r\n\t\tbuffer[i] = bin.charCodeAt(i);\r\n\t}\r\n\r\n\tconst p = dataURL.slice(5);\r\n\ttry{\r\n\t\tconst blob = new Blob([buffer.buffer], {\r\n\t\t\ttype: p.slice(0, p.indexOf(\";\"))\r\n\t\t});\r\n\t\tconsole.log(p.slice(0, p.indexOf(\";\")))\r\n\t\treturn (URL || webkitURL).createObjectURL(blob);\r\n\t} catch (e){\r\n\t\tthrow e;\r\n\t};\r\n}\r\n\r\n/**\r\n * Load the assets of createjs content published by Adobe Animate.\r\n * If you use multiple contents, each composition ID must be unique.\r\n * Please run \"Pixim.animate.init\" before running.\r\n */\r\nexport function loadAssetAsync(targets: IPrepareTarget | IPrepareTarget[]) {\r\n\tif (!Array.isArray(targets)) {\r\n\t\ttargets = [targets];\r\n\t}\r\n\t\r\n\tconst promises: Promise<IAnimateLibrary>[] = [];\r\n\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst target = targets[i];\r\n\r\n\t\tif (target.options?.useSound) {\r\n\t\t\twindow.playSound = playSound;\r\n\t\t}\r\n\t\t\r\n\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t}\r\n\t\t\r\n\t\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\tconst manifests: IAnimateManifest[] = lib.properties.manifest.map((v: any) => {\r\n\t\t\treturn JSON.parse(JSON.stringify(v));\r\n\t\t});\r\n\t\tconst crossOrigin = typeof(target.options?.crossOrigin) === 'boolean' ? target.options.crossOrigin : true;\r\n\t\t\r\n\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\tconst manifest = manifests[i];\r\n\t\t\tif (manifest.src.indexOf('data:image') === 0) {\r\n\t\t\t\tmanifest.src = dataURLToBlobURL(manifest.src);\r\n\t\t\t\tmanifest.type = createjs.Types.IMAGE;\r\n\t\t\t} else if (manifest.src.indexOf('data:audio') === 0) {\r\n\t\t\t\t/* note\r\n\t\t\t\t\tIt seems that data URL format sounds are not supported by the createjs loader.\r\n\t\t\t\t\tConverting to blob URL also didn't work.\r\n\t\t\t\t*/\r\n\t\t\t\tthrow new Error(\"data URL formatted sound is not supported.\");\r\n\t\t\t\t/*\r\n\t\t\t\tmanifest.type = createjs.Types.SOUND;\r\n\t\t\t\tmanifest.src = dataURLToBlobURL(manifest.src);\r\n\t\t\t\t*/\r\n\t\t\t} else if (manifest.src.indexOf('blob:') === 0) {\r\n\r\n\t\t\t} else if (manifest.src.indexOf('file:') === 0) {\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tmanifest.src = PIXI.utils.url.resolve(target.basepath, manifest.src);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (crossOrigin) {\r\n\t\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\t\tmanifests[i].crossOrigin = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst loadPromise = new Promise((resolve, reject) => {\r\n\t\t\tif (manifests.length === 0) {\r\n\t\t\t\tresolve({});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst loader = new createjs.LoadQueue(false);\r\n\t\t\t\r\n\t\t\tif (target.options?.useSound) {\r\n\t\t\t\tloader.installPlugin(createjs.Sound);\r\n\t\t\t}\r\n\r\n\t\t\tconst errors: any[] = [];\r\n\t\t\t\r\n\t\t\tloader.addEventListener('fileload', (evt: any) => {\r\n\t\t\t\thandleFileLoad(evt, comp);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tloader.addEventListener('complete', (evt: any) => {\r\n\t\t\t\tif (errors.length) {\r\n\t\t\t\t\treject(errors);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tresolve(evt);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tloader.addEventListener('error', (evt: any) => {\r\n\t\t\t\terrors.push(evt.data);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tloader.loadManifest(manifests || []);\r\n\t\t})\r\n\t\t.then((evt: any) => {\r\n\t\t\tconst ss = comp.getSpriteSheet();\r\n\t\t\tconst queue = evt.target;\r\n\t\t\tconst ssMetadata = lib.ssMetadata;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < ssMetadata.length; i++) {\r\n\t\t\t\tss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n\t\t\t\t\timages: [\r\n\t\t\t\t\t\tqueue.getResult(ssMetadata[i].name)\r\n\t\t\t\t\t],\r\n\t\t\t\t\tframes: ssMetadata[i].frames\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn lib;\r\n\t\t});\r\n\r\n\t\tpromises.push(\r\n\t\t\tloadPromise\r\n\t\t\t.then((lib: IAnimateLibrary) => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof PA.CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t\tlib[i].prototype._listenFrameEvents = target.options?.listenFrameEvents;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn lib;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn Promise.all(promises)\r\n\t\t.then((resolvers: IAnimateLibrary[]) => {\r\n\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\treturn resolvers[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn resolvers;\r\n\t\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt: any, comp: any) {\r\n\tconst images = comp.getImages();\r\n\tif (evt && (evt.item.type == 'image')) {\r\n\t\timages[evt.item.id] = evt.result;\r\n\t}\r\n}","import { Container as PixiContainer } from 'pixi.js';\r\nimport { CreatejsMovieClip, TCreatejsObject } from './createjs';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface IAnimateContainer extends PixiContainer {\r\n\thandleTick(delta: number): void;\r\n\taddCreatejs(cjs: TCreatejsObject): TCreatejsObject;\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number): TCreatejsObject;\r\n\tremoveCreatejs(cjs: TCreatejsObject): TCreatejsObject;\r\n}\r\n\r\nexport class CreatejsController {\r\n\tprivate _createjsData: {\r\n\t\tid: number;\r\n\t\ttargets: ICreatejsMovieClipDictionary;\r\n\t\tcontainer: IAnimateContainer;\r\n\t};\r\n\t\r\n\tconstructor(container: IAnimateContainer) {\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {},\r\n\t\t\tcontainer\r\n\t\t};\r\n\t}\r\n\t\r\n\thandleTick(delta: number) {\r\n\t\t// delta time1\r\n\t\tconst e = { delta: Math.min(delta, 1)};\r\n\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\tfor (let i in targets) {\r\n\t\t\ttargets[i].updateForPixi(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis._createjsData.container.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis._createjsData.container.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._createjsData.container.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends PixiContainer implements IAnimateContainer {\r\n\tprivate _createjsData: {\r\n\t\tcontroller: CreatejsController;\r\n\t};\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tcontroller: new CreatejsController(this)\r\n\t\t};\r\n\t}\r\n\t\r\n\thandleTick(delta: number) {\r\n\t\treturn this._createjsData.controller.handleTick(delta);\r\n\t}\r\n\t\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\treturn this._createjsData.controller.addCreatejs(cjs);\r\n\t}\r\n\t\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\treturn this._createjsData.controller.addCreatejsAt(cjs, index);\r\n\t}\r\n\t\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\treturn this._createjsData.controller.removeCreatejs(cjs);\r\n\t}\r\n}","import * as PA from './createjs/modules';\r\nimport createjs from '@tawaship/createjs-module';\r\n\r\n// overrides\r\ncreatejs.Stage = PA.CreatejsStage;\r\ncreatejs.StageGL = PA.CreatejsStageGL;\r\ncreatejs.MovieClip = PA.CreatejsMovieClip;\r\ncreatejs.Sprite = PA.CreatejsSprite;\r\ncreatejs.Shape = PA.CreatejsShape;\r\ncreatejs.Bitmap = PA.CreatejsBitmap;\r\ncreatejs.Graphics = PA.CreatejsGraphics;\r\ncreatejs.Text = PA.CreatejsText;\r\ncreatejs.ButtonHelper = PA.CreatejsButtonHelper;\r\ncreatejs.ColorFilter = PA.CreatejsColorFilter;\r\n\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n\r\nexport * from './createjs';\r\nexport * from './Container';"],"names":["Container","P","PIXI.utils","PA.CreatejsMovieClip","PixiContainer","PA.CreatejsStage","PA.CreatejsStageGL","PA.CreatejsSprite","PA.CreatejsShape","PA.CreatejsBitmap","PA.CreatejsGraphics","PA.CreatejsText","PA.CreatejsButtonHelper","PA.CreatejsColorFilter"],"mappings":"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"}
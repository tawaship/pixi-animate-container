{"version":3,"file":"pixi-animate-container.cjs.js","sources":["../src/createjs/modules/ButtonHelper.ts","../src/createjs/modules/utils.ts","../src/createjs/modules/core.ts","../src/createjs/modules/Stage.ts","../src/createjs/modules/StageGL.ts","../src/createjs/modules/EventManager.ts","../src/createjs/modules/MovieClip.ts","../src/createjs/modules/Sprite.ts","../src/createjs/modules/Shape.ts","../src/createjs/modules/Bitmap.ts","../src/createjs/modules/Graphics.ts","../src/createjs/modules/Text.ts","../src/createjs/modules/ColorFilter.ts","../src/createjs/core.ts","../src/Container.ts","../src/index.ts"],"sourcesContent":["import createjs from '@tawaship/createjs-module';\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper}\r\n */\r\nexport class CreatejsButtonHelper extends createjs.ButtonHelper {\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tconst createjs = args[0];\r\n\t\tconst pixi = createjs.pixi;\r\n\t\t\r\n\t\tconst baseFrame = args[1];\r\n\t\tconst overFrame = args[2];\r\n\t\tconst downFrame = args[3];\r\n\t\tconst hit = arguments[5];\r\n\t\tconst hitFrame = args[6];\r\n\t\t\r\n\t\thit.gotoAndStop(hitFrame);\r\n\t\tconst hitPixi = pixi.addChild(hit.pixi);\r\n\t\thitPixi.alpha = 0.00001;\r\n\t\t\r\n\t\tlet isOver = false;\r\n\t\tlet isDown = false;\r\n\t\t\r\n\t\thitPixi.on('pointerover', function() {\r\n\t\t\tisOver = true;\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerout', function() {\r\n\t\t\tisOver = false;\r\n\t\t\t\r\n\t\t\tif (isDown) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerdown', function() {\r\n\t\t\tisDown = true;\r\n\t\t\tcreatejs.gotoAndStop(downFrame);\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerup', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.on('pointerupoutside', function() {\r\n\t\t\tisDown = false;\r\n\t\t\tif (isOver) {\r\n\t\t\t\tcreatejs.gotoAndStop(overFrame);\r\n\t\t\t} else {\r\n\t\t\t\tcreatejs.gotoAndStop(baseFrame);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\thitPixi.interactive = true;\r\n\t\thitPixi.cursor = 'pointer';\r\n\t}\r\n}","export function createObject<T>(proto: object): T {\r\n\treturn Object.create(proto);\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nexport const DEG_TO_RAD = Math.PI / 180;","import { Container, Point } from 'pixi.js';\r\nimport { CreatejsButtonHelper } from './ButtonHelper';\r\nimport { CreatejsStage } from './Stage';\r\nimport { CreatejsStageGL } from './StageGL';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nimport { CreatejsSprite } from './Sprite';\r\nimport { CreatejsShape } from './Shape';\r\nimport { CreatejsBitmap } from './Bitmap';\r\nimport { CreatejsGraphics } from './Graphics';\r\nimport { CreatejsText } from './Text';\r\nimport { CreatejsEventManager, ICreatejsInteractionEventDelegate, createjsInteractionEvents } from './EventManager';\r\nimport { DEG_TO_RAD } from './utils';\r\n\r\nexport interface ITickerData {\r\n\tdelta: number;\r\n}\r\n\r\nexport interface IPixiData<T extends Container> {\r\n\tregObj: Point;\r\n\tinstance: T;\r\n\treservedBlendMode: PIXI.BLEND_MODES;\r\n}\r\n\r\nexport function createPixiData<TPixiDisplayObject extends Container>(pixi: TPixiDisplayObject, regObj: Point): IPixiData<TPixiDisplayObject> {\r\n\treturn {\r\n\t\tregObj,\r\n\t\tinstance: pixi,\r\n\t\treservedBlendMode: PIXI.BLEND_MODES.NORMAL\r\n\t};\r\n}\r\n\r\nexport type TCreatejsMask = CreatejsShape | null;\r\n\r\nexport interface ICreatejsParam {\r\n\tx: number;\r\n\ty: number;\r\n\tscaleX: number;\r\n\tscaleY: number;\r\n\tregX: number;\r\n\tregY: number;\r\n\tskewX: number;\r\n\tskewY: number;\r\n\trotation: number;\r\n\tvisible: boolean;\r\n\talpha: number;\r\n\t_off: boolean;\r\n\tmask: TCreatejsMask;\r\n}\r\n\r\nexport type TCreatejsObject =\r\n\tCreatejsStage\r\n\t| CreatejsStageGL\r\n\t| CreatejsMovieClip\r\n\t| CreatejsSprite\r\n\t| CreatejsShape\r\n\t| CreatejsBitmap\r\n\t| CreatejsGraphics\r\n\t| CreatejsText;\r\n\r\nexport function createCreatejsParams(): ICreatejsParam {\r\n\treturn {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tscaleX: 0,\r\n\t\tscaleY: 0,\r\n\t\tregX: 0,\r\n\t\tregY: 0,\r\n\t\tskewX: 0,\r\n\t\tskewY: 0,\r\n\t\trotation: 0,\r\n\t\tvisible: true,\r\n\t\talpha: 1,\r\n\t\t_off: false,\r\n\t\tmask: null\r\n\t};\r\n}\r\n\r\nexport type TCreatejsDisplayObject = any/* createjs.DisplayObject */;\r\n\r\nexport interface ICreatejsDisplayObjectUpdater extends TCreatejsDisplayObject {\r\n\tupdateForPixi(e: ITickerData): boolean;\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void;\r\n}\r\n\r\nexport interface ICreatejsDisplayObjectInitializer {\r\n\tinitialize(...args: any[]): any;\r\n}\r\n\r\nexport function updateDisplayObjectChildren(cjs: ICreatejsDisplayObjectUpdater, e: ITickerData) {\r\n\tconst list = cjs.children.slice();\r\n\tfor (let i = 0, l = list.length; i < l; i++) {\r\n\t\tconst child = list[i];\r\n\t\tchild.updateForPixi(e);\r\n\t}\r\n\t\r\n\treturn true;\r\n}\r\n\r\nexport interface IMixinedCreatejsDisplayObject<T extends Container> extends ICreatejsParam, TCreatejsDisplayObject {\r\n\tpixi: T;\r\n\taddEventListener(type: string, cb: ICreatejsInteractionEventDelegate | CreatejsButtonHelper, ...args: any[]): any;\r\n\tremoveEventListener(type: string, cb: ICreatejsInteractionEventDelegate, ...args: any[]): any;\r\n\tremoveAllEventListeners(type?: string, ...args: any[]): any;\r\n}\r\n\r\n// export type TMixinedCreatejsDisplayObjectClass = abstract new (...args: any[]) => IMixinedCreatejsDisplayObject;\r\n\r\nexport function mixinCreatejsDisplayObject<T extends Container, U extends ICreatejsParam>(superClass: new (...args: any[]) => IMixinedCreatejsDisplayObject<T>): abstract new (...args: any[]) => IMixinedCreatejsDisplayObject<T> {\r\n\tabstract class C extends superClass {\r\n\t\tprotected abstract _pixiData: IPixiData<T>;\r\n\t\tprotected abstract _createjsParams: ICreatejsParam;\r\n\t\tprotected abstract _createjsEventManager: CreatejsEventManager;\r\n\r\n\t\tget pixi() {\r\n\t\t\treturn this._pixiData.instance;\r\n\t\t}\r\n\t\t\r\n\t\tget x() {\r\n\t\t\treturn this._createjsParams.x;\r\n\t\t}\r\n\t\t\r\n\t\tset x(value) {\r\n\t\t\tthis._pixiData.instance.x = value;\r\n\t\t\tthis._createjsParams.x = value;\r\n\t\t}\r\n\t\t\r\n\t\tget y() {\r\n\t\t\treturn this._createjsParams.y;\r\n\t\t}\r\n\t\t\r\n\t\tset y(value) {\r\n\t\t\tthis._pixiData.instance.y = value;\r\n\t\t\tthis._createjsParams.y = value;\r\n\t\t}\r\n\t\t\r\n\t\tget scaleX() {\r\n\t\t\treturn this._createjsParams.scaleX;\r\n\t\t}\r\n\t\t\t\r\n\t\tset scaleX(value) {\r\n\t\t\tthis._pixiData.instance.scale.x = value;\r\n\t\t\tthis._createjsParams.scaleX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget scaleY() {\r\n\t\t\treturn this._createjsParams.scaleY;\r\n\t\t}\r\n\t\t\r\n\t\tset scaleY(value) {\r\n\t\t\tthis._pixiData.instance.scale.y = value;\r\n\t\t\tthis._createjsParams.scaleY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget skewX() {\r\n\t\t\treturn this._createjsParams.skewX;\r\n\t\t}\r\n\t\t\r\n\t\tset skewX(value) {\r\n\t\t\tthis._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.skewX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget skewY() {\r\n\t\t\treturn this._createjsParams.skewY;\r\n\t\t}\r\n\t\t\r\n\t\tset skewY(value) {\r\n\t\t\tthis._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.skewY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget regX() {\r\n\t\t\treturn this._createjsParams.regX;\r\n\t\t}\r\n\t\t\r\n\t\tset regX(value) {\r\n\t\t\tthis._pixiData.regObj.x = value;\r\n\t\t\tthis._createjsParams.regX = value;\r\n\t\t}\r\n\t\t\r\n\t\tget regY() {\r\n\t\t\treturn this._createjsParams.regY;\r\n\t\t}\r\n\t\t\r\n\t\tset regY(value) {\r\n\t\t\tthis._pixiData.regObj.y = value;\r\n\t\t\tthis._createjsParams.regY = value;\r\n\t\t}\r\n\t\t\r\n\t\tget rotation() {\r\n\t\t\treturn this._createjsParams.rotation;\r\n\t\t}\r\n\t\t\r\n\t\tset rotation(value) {\r\n\t\t\tthis._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n\t\t\tthis._createjsParams.rotation = value;\r\n\t\t}\r\n\t\t\r\n\t\tget visible() {\r\n\t\t\treturn this._createjsParams.visible;\r\n\t\t}\r\n\t\t\r\n\t\tset visible(value) {\r\n\t\t\tvalue = !!value;\r\n\t\t\tthis._pixiData.instance.visible = value;\r\n\t\t\tthis._createjsParams.visible = value;\r\n\t\t}\r\n\t\t\r\n\t\tget alpha() {\r\n\t\t\treturn this._createjsParams.alpha;\r\n\t\t}\r\n\t\t\r\n\t\tset alpha(value) {\r\n\t\t\tthis._pixiData.instance.alpha = value;\r\n\t\t\tthis._createjsParams.alpha = value;\r\n\t\t}\r\n\t\t\r\n\t\tget _off() {\r\n\t\t\treturn this._createjsParams._off;\r\n\t\t}\r\n\t\t\r\n\t\tset _off(value) {\r\n\t\t\tthis._pixiData.instance.renderable = !value;\r\n\t\t\tthis._createjsParams._off = value;\r\n\t\t}\r\n\t\t\r\n\t\taddEventListener(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate | CreatejsButtonHelper, ...args: any[]) {\r\n\t\t\tconst p = super.addEventListener(type, cb, ...args);\r\n\t\t\tif (!(cb instanceof CreatejsButtonHelper)) {\r\n\t\t\t\tthis._createjsEventManager.add(type, cb);\r\n\t\t\t}\r\n\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\t\r\n\t\tremoveEventListener(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate, ...args: any[]) {\r\n\t\t\tconst p = super.removeEventListener(type, cb, ...args);\r\n\t\t\tif (!(cb instanceof CreatejsButtonHelper)) {\r\n\t\t\t\tthis._createjsEventManager.remove(type, cb);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\t\r\n\t\tremoveAllEventListeners(type?: string, ...args: any[]) {\r\n\t\t\tconst p = super.removeAllEventListeners(type, ...args);\r\n\t\t\tthis._createjsEventManager.removeAll(type);\r\n\r\n\t\t\treturn p;\r\n\t\t}\r\n\t\t\r\n\t\tget mask() {\r\n\t\t\treturn this._createjsParams.mask;\r\n\t\t}\r\n\t\t\r\n\t\tset mask(value: TCreatejsMask) {\r\n\t\t\tif (value) {\r\n\t\t\t\tvalue.masked.push(this._pixiData.instance);\r\n\t\t\t\tthis._pixiData.instance.mask = value.pixi;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.instance.once('added', () => {\r\n\t\t\t\t\tthis._pixiData.instance.parent.addChild(value.pixi);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis._pixiData.instance.mask = null;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis._createjsParams.mask = value;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn C;\r\n}","import createjs from '@tawaship/createjs-module';\r\nimport { updateDisplayObjectChildren, ITickerData, ICreatejsDisplayObjectUpdater } from './core';\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage}\r\n */\r\nexport class CreatejsStage extends createjs.Stage implements ICreatejsDisplayObjectUpdater {\r\n\tupdateForPixi(props: ITickerData) {\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tupdateDisplayObjectChildren(this, props);\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\t\r\n\t}\r\n}","import createjs from '@tawaship/createjs-module';\r\nimport { updateDisplayObjectChildren, ITickerData, ICreatejsDisplayObjectUpdater } from './core';\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL}\r\n */\r\nexport class CreatejsStageGL extends createjs.StageGL implements ICreatejsDisplayObjectUpdater {\r\n\tupdateForPixi(props: ITickerData) {\r\n\t\tif (this.tickOnUpdate) { this.tick(props); }\r\n\t\tthis.dispatchEvent(\"drawstart\");\r\n\t\tupdateDisplayObjectChildren(this, props);\r\n\t\tthis.dispatchEvent(\"drawend\");\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\t\r\n\t}\r\n}","import { TCreatejsObject } from './core';\r\nimport { utils } from 'pixi.js';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst createjsInteractionEventsa = {\r\n\tmousedown: true,\r\n\tpressmove: true,\r\n\tpressup: true,\r\n\trollover: true,\r\n\trollout: true,\r\n\tclick: true\r\n};\r\n\r\nexport enum createjsInteractionEvents {\r\n\tmousedown = \"mousedown\",\r\n\tpressmove = \"pressmove\",\r\n\tpressup = \"pressup\",\r\n\trollover = \"rollover\",\r\n\trollout = \"rollout\",\r\n\tclick = \"click\",\r\n}\r\n\r\n/**\r\n * Event object passed to createjs interaction event handler.\r\n * \r\n * It is different from the createjs event because it converts the event that occurred on pixi.js.\r\n * There may be fewer properties and the property values may not match the createjs event values.\r\n * Therefore, we recommend that you do not implement interaction processing with createjs, but with pixi.js.\r\n * \r\n * - `target`\r\n * A different object may be stored than the createjs event.\r\n *\r\n * - `rawX`, `rawY`\r\n * Global coordinates in the pixi.js canvas are stored.\r\n * When playing with createjs, the content is always placed at the canvas's global coordinates (0, 0), but this plugin allows you to freely change the coordinates of the createjs instance, so the values may shift.\r\n */\r\nexport interface ICreatejsInteractionEvent {\r\n\ttype: createjsInteractionEvents | null;\r\n\tcurrentTarget: TCreatejsObject | null;\r\n\ttarget: TCreatejsObject | null;\r\n\trawX: number;\r\n\trawY: number;\r\n}\r\n\r\nexport interface ICreatejsInteractionEventDelegate {\r\n\t (e: any): void;\r\n}\r\n\r\nexport class CreatejsEventManager {\r\n\tprivate _downTarget: TCreatejsObject | null = null;\r\n\tprivate _emitter: utils.EventEmitter;\r\n\tprivate _cjs: TCreatejsObject;\r\n\t\r\n\tconstructor(cjs: TCreatejsObject) {\r\n\t\tthis._cjs = cjs;\r\n\t\tthis._emitter = new utils.EventEmitter();\r\n\t\t\r\n\t\tconst pixi = cjs.pixi;\r\n\t\t\r\n\t\tpixi\r\n\t\t.on('pointerdown', this._onPointerDown, this)\r\n\t\t.on('pointermove', this._onPointerMove, this)\r\n\t\t.on('pointerup', this._onPointerUp, this)\r\n\t\t.on('pointerupoutside', this._onPointerUpOutside, this)\r\n\t\t.on('pointertap', this._onPointerTap, this)\r\n\t\t.on('pointerover', this._onPointerOver, this)\r\n\t\t.on('pointerout', this._onPointerOut, this);\r\n\t}\r\n\t\r\n\tprivate _onPointerDown(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.mousedown,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.target.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\t\t\r\n\t\tthis._downTarget = e.target.createjs;\r\n\t\t\r\n\t\tthis._emitter.emit('mousedown', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerMove(e: any) {\r\n\t\tif (!this._downTarget) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.pressmove,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: this._downTarget,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\t\t\r\n\t\tthis._emitter.emit('pressmove', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerUp(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.pressup,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: this._downTarget,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._downTarget = null;\r\n\t\t\r\n\t\tthis._emitter.emit('pressup', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerUpOutside(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.pressup,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: this._downTarget,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._downTarget = null;\r\n\t\t\r\n\t\tthis._emitter.emit('pressup', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerTap(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.click,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.target.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._emitter.emit('click', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerOver(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.rollover,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.currentTarget.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._emitter.emit('rollover', ev);\r\n\t}\r\n\t\r\n\tprivate _onPointerOut(e: any) {\r\n\t\tconst ev: ICreatejsInteractionEvent = {\r\n\t\t\ttype: createjsInteractionEvents.rollout,\r\n\t\t\tcurrentTarget: e.currentTarget.createjs,\r\n\t\t\ttarget: e.currentTarget.createjs,\r\n\t\t\trawX: e.data.global.x,\r\n\t\t\trawY: e.data.global.y,\r\n\t\t};\r\n\r\n\t\tthis._emitter.emit('rollout', ev);\r\n\t}\r\n\t\r\n\tadd(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate) {\r\n\t\tif (!(type in createjsInteractionEvents)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis._emitter.on(type, cb);\r\n\t\t\r\n\t\tif (this._emitter.eventNames().length > 0) {\r\n\t\t\tthis._cjs.pixi.interactive = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tremove(type: createjsInteractionEvents, cb: ICreatejsInteractionEventDelegate) {\r\n\t\tif (!(type in createjsInteractionEvents)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis._emitter.off(type, cb);\r\n\t\t\r\n\t\tif (this._emitter.eventNames().length === 0) {\r\n\t\t\tthis._cjs.pixi.interactive = false;\r\n\t\t}\r\n\t}\r\n\t\r\n\tremoveAll(type?: string) {\r\n\t\tif (type && !(type in createjsInteractionEvents)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tthis._emitter.removeAllListeners(type);\r\n\t\t\r\n\t\tif (this._emitter.eventNames().length === 0) {\r\n\t\t\tthis._cjs.pixi.interactive = false;\r\n\t\t}\r\n\t}\r\n}","import { Container } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { CreatejsColorFilter, PixiColorMatrixFilter } from './ColorFilter';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, updateDisplayObjectChildren, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject } from './utils';\r\nimport { CreatejsEventManager } from './EventManager';\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container}\r\n */\r\nexport class PixiMovieClip extends Container {\r\n\tprivate _createjs: CreatejsMovieClip;\r\n\tprivate _filterContainer: Container | null = null;\r\n\t\r\n\tconstructor(cjs: CreatejsMovieClip) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget filterContainer() {\r\n\t\treturn this._filterContainer;\r\n\t}\r\n\t\r\n\tset filterContainer(value) {\r\n\t\tthis._filterContainer = value;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport type TCreatejsColorFilters = CreatejsColorFilter[] | null;\r\n\r\nexport interface ICreatejsMovieClipParam extends ICreatejsParam {\r\n\tfilters: TCreatejsColorFilters;\r\n\tcompositeOperation: CompositeOpeations | null;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams(): ICreatejsMovieClipParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\tfilters: null,\r\n\t\tcompositeOperation: null\r\n\t});\r\n}\r\n\r\nexport interface IPixiMovieClipData extends IPixiData<PixiMovieClip> {\r\n\tsubInstance: Container;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs: CreatejsMovieClip): IPixiMovieClipData {\r\n\tconst pixi = new PixiMovieClip(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData<PixiMovieClip>(pixi, pixi.pivot), {\r\n\t\tsubInstance: pixi\r\n\t});\r\n}\r\n\r\nexport class AnimateEvent extends createjs.Event {\r\n\tconstructor(type: string) {\r\n\t\tsuper(type);\r\n\t}\r\n};\r\n\r\nexport interface IAnimateReachLabelData {\r\n\t/**\r\n\t * Label name.\r\n\t */\r\n\tlabel: string;\r\n\t\r\n\t/**\r\n\t * Frame number of label.\r\n\t */\r\n\tposition: number;\r\n}\r\n\r\nexport class AnimateReachLabelEvent extends AnimateEvent {\r\n\tdata: IAnimateReachLabelData;\r\n\t\r\n\tconstructor(type: string, label: IAnimateReachLabelData) {\r\n\t\tsuper(type);\r\n\t\t\r\n\t\tthis.data = label;\r\n\t}\r\n}\r\n\r\nexport interface IAnimateFrameEventOption {\r\n\t/**\r\n\t * Whether to fire {@link CreatejsMovieClip.endAnimation}\r\n\t */\r\n\tendAnimation?: boolean;\r\n\r\n\t/**\r\n\t * Whether to fire {@link CreatejsMovieClip.reachLabel}\r\n\t */\r\n\treachLabel?: boolean;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n\r\n/**\r\n * @ignore\r\n */\r\nenum CompositeOpeations {\r\n\tLighter = \"lighter\",\r\n\tMultiply = \"multiply\",\r\n\tScreen = \"screen\"\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst blendModes = {\r\n\t[CompositeOpeations.Lighter]: PIXI.BLEND_MODES.ADD,\r\n\t[CompositeOpeations.Multiply]: PIXI.BLEND_MODES.MULTIPLY,\r\n\t[CompositeOpeations.Screen]: PIXI.BLEND_MODES.SCREEN,\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst T: number = 1000 / 60;\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip}\r\n */\r\nexport class CreatejsMovieClip extends mixinCreatejsDisplayObject<PixiMovieClip, ICreatejsMovieClipParam>(createjs.MovieClip) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiMovieClipData;\r\n\tprotected _createjsParams: ICreatejsMovieClipParam;\r\n\tprotected _createjsEventManager: CreatejsEventManager;\r\n\r\n\tdeclare protected _framerateBase: number;\r\n\tdeclare protected _listenFrameEvents: IAnimateFrameEventOption;\r\n\r\n\t/**\r\n\t * When the last frame of the timeline is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\tendAnimation?(e: AnimateEvent): void {}\r\n\t\r\n\t/**\r\n\t * When either labels is reached.\r\n\t * \r\n\t * @event\r\n\t */\r\n\treachLabel?(e: AnimateReachLabelEvent): void {}\r\n\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._pixiData = createPixiMovieClipData(this);\r\n\t\tthis._createjsParams = createCreatejsMovieClipParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\tP.apply(this, args);\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiMovieClipData(this);\r\n\t\tthis._createjsParams = createCreatejsMovieClipParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\tsuper.initialize(...args);\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData): boolean {\r\n\t\tconst currentFrame = this.currentFrame;\r\n\t\t\r\n\t\t// challenge\r\n\t\tif (!this.paused) {\r\n\t\t\tthis.advance(T * e.delta);\r\n\t\t\t\r\n\t\t\tif (this._listenFrameEvents && currentFrame !== this.currentFrame) {\r\n\t\t\t\tif (this._listenFrameEvents.endAnimation && this.currentFrame === (this.totalFrames - 1)) {\r\n\t\t\t\t\tthis.dispatchEvent(new AnimateEvent('endAnimation'));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this._listenFrameEvents.reachLabel) {\r\n\t\t\t\t\tfor (let i = 0; i < this.labels.length; i++) {\r\n\t\t\t\t\t\tconst label = this.labels[i];\r\n\t\t\t\t\t\tif (this.currentFrame === label.position) {\r\n\t\t\t\t\t\t\tthis.dispatchEvent(new AnimateReachLabelEvent('reachLabel', label));\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._updateState();\r\n\t\t}\r\n\t\treturn updateDisplayObjectChildren(this, e);\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\tif (this._createjsParams.compositeOperation && blendModes[this._createjsParams.compositeOperation] === mode) return;\r\n\t\tthis._pixiData.reservedBlendMode = mode;\r\n\t\tfor (let i = 0; i < this.children.length; i++) {\r\n\t\t\tthis.children[i].updateBlendModeForPixi(mode);\r\n\t\t}\r\n\t}\r\n\r\n\tget compositeOperation() {\r\n\t\treturn this._createjsParams.compositeOperation;\r\n\t}\r\n\r\n\tset compositeOperation(value) {\r\n\t\tif (this._createjsParams.compositeOperation === value) return;\r\n\r\n\t\tconst blendMode = (value && blendModes[value]) || this._pixiData.reservedBlendMode;\r\n\t\tthis.updateBlendModeForPixi(blendMode);\r\n\t\tthis._createjsParams.compositeOperation = value;\r\n\t}\r\n\t\r\n\tget filters() {\r\n\t\treturn this._createjsParams.filters;\r\n\t}\r\n\t\r\n\t//*\r\n\tset filters(value: TCreatejsColorFilters) {\r\n\t\tconst list: PixiColorMatrixFilter[] = [];\r\n\r\n\t\tif (value && value.length > 0) {\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tlet f = value[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!(f instanceof createjs.ColorFilter)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlist.push(f.pixi);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis._pixiData.instance.filters = list;\r\n\t\tthis._createjsParams.filters = value;\r\n\t}\r\n\t//*/\r\n\t/*\r\n\tset filters(value: TCreatejsColorFilters) {\r\n\t\tif (value) {\r\n\t\t\tconst list = [];\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tconst f = value[i];\r\n\t\t\t\t\r\n\t\t\t\tif (f instanceof createjs.ColorMatrixFilter) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst m = new filters.ColorMatrixFilter();\r\n\t\t\t\tm.matrix = [\r\n\t\t\t\t\tf.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n\t\t\t\t\t0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n\t\t\t\t\t0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n\t\t\t\t\t0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n\t\t\t\t\t0, 0, 0, 0, 1\r\n\t\t\t\t];\r\n\t\t\t\tlist.push(m);\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < value.length; i++) {\r\n\t\t\t\tlet f = value[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!(f instanceof createjs.ColorFilter)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlist.push(f.pixi);\r\n\t\t\t}\r\n\r\n\t\t\tvar o = this._pixiData.instance;\r\n\t\t\tvar c = o.children;\r\n\t\t\tvar n = new Container();\r\n\t\t\tvar nc = this._pixiData.subInstance = n.addChild(new Container());\r\n\t\t\t\r\n\t\t\twhile (c.length) {\r\n\t\t\t\tnc.addChild(c[0]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\to.addChild(n);\r\n\t\t\to.filterContainer = nc;\r\n\t\t\t\r\n\t\t\tnc.updateTransform();\r\n\t\t\tnc.calculateBounds();\r\n\t\t\t\r\n\t\t\tconst b = nc.getLocalBounds();\r\n\t\t\tconst x = b.x;\r\n\t\t\tconst y = b.y;\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < nc.children.length; i++) {\r\n\t\t\t\tconst child = nc.children[i];\r\n\t\t\t\t\r\n\t\t\t\tchild.x -= x;\r\n\t\t\t\tchild.y -= y;\r\n\t\t\t\t\r\n\t\t\t\tif (child instanceof PixiMovieClip) {\r\n\t\t\t\t\tconst fc = child.filterContainer;\r\n\t\t\t\t\tif (fc) {\r\n\t\t\t\t\t\t//fc.cacheAsBitmap = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tn.x = x;\r\n\t\t\tn.y = y;\r\n\t\t\t\r\n\t\t\tnc.filters = list;\r\n\t\t\t//nc.cacheAsBitmap = true;\r\n\t\t} else {\r\n\t\t\tconst o = this._pixiData.instance;\r\n\t\t\t\r\n\t\t\tif (o.filterContainer) {\r\n\t\t\t\tconst nc = this._pixiData.subInstance;\r\n\t\t\t\tconst n = nc.parent;\r\n\t\t\t\tconst c = nc.children;\r\n\t\t\t\t\r\n\t\t\t\to.removeChildren();\r\n\t\t\t\to.filterContainer = null;\r\n\t\t\t\twhile (c.length) {\r\n\t\t\t\t\tconst v = o.addChild(c[0]);\r\n\t\t\t\t\tv.x += n.x;\r\n\t\t\t\t\tv.y += n.y;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tnc.filters = [];\r\n\t\t\t\t//nc.cacheAsBitmap = false;\r\n\t\t\t\t\r\n\t\t\t\tthis._pixiData.subInstance = o;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis._createjsParams.filters = value;\r\n\t}\r\n\t//*/\r\n\r\n\tprivate _updateChildrenBlendModeForPixi(child: ICreatejsDisplayObjectUpdater) {\r\n\t\tconst blendMode = (this._createjsParams.compositeOperation && blendModes[this._createjsParams.compositeOperation]) || this._pixiData.reservedBlendMode;\r\n\t\tif (!blendMode) return;\r\n\t\tchild.updateBlendModeForPixi(blendMode);\r\n\t}\r\n\t\r\n\taddChild(child: ICreatejsDisplayObjectUpdater) {\r\n\t\tthis._pixiData.subInstance.addChild(child.pixi);\r\n\t\tthis._updateChildrenBlendModeForPixi(child);\r\n\r\n\t\treturn super.addChild(child);\r\n\t}\r\n\t\r\n\taddChildAt(child: ICreatejsDisplayObjectUpdater, index: number) {\r\n\t\tthis._pixiData.subInstance.addChildAt(child.pixi, index);\r\n\t\tthis._updateChildrenBlendModeForPixi(child);\r\n\t\t\r\n\t\treturn super.addChildAt(child, index);\r\n\t}\r\n\t\r\n\tremoveChild(child: ICreatejsDisplayObjectUpdater) {\r\n\t\tthis._pixiData.subInstance.removeChild(child.pixi);\r\n\t\t\r\n\t\treturn super.removeChild(child);\r\n\t}\r\n\t\r\n\tremoveChildAt(index: number) {\r\n\t\tthis._pixiData.subInstance.removeChildAt(index);\r\n\t\t\r\n\t\treturn super.removeChildAt(index);\r\n\t}\r\n\t\r\n\tremoveAllChldren() {\r\n\t\tthis._pixiData.subInstance.removeChildren();\r\n\t\t\r\n\t\treturn super.removeAllChldren();\r\n\t}\r\n}\r\n\r\ndelete(CreatejsMovieClip.prototype.endAnimation);\r\ndelete(CreatejsMovieClip.prototype.reachLabel);\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsMovieClipParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiMovieClipData(createObject<CreatejsMovieClip>(CreatejsMovieClip.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});\r\n\r\n","import { Sprite, Texture, BaseTexture } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject } from './utils';\r\nimport { CreatejsEventManager } from './EventManager';\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite}\r\n */\r\nexport class PixiSprite extends Sprite {\r\n\tprivate _createjs: CreatejsSprite | {};\r\n\t\r\n\tconstructor(cjs: CreatejsSprite | {}) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsSpriteParam extends ICreatejsParam {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams(): ICreatejsSpriteParam {\r\n\treturn createCreatejsParams();\r\n}\r\n\r\nexport interface IPixiSpriteData extends IPixiData<PixiSprite> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs: CreatejsSprite | {}): IPixiSpriteData {\r\n\tconst pixi = new PixiSprite(cjs);\r\n\t\r\n\treturn createPixiData<PixiSprite>(pixi, pixi.anchor)\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Sprite;\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite}\r\n */\r\nexport class CreatejsSprite extends mixinCreatejsDisplayObject<PixiSprite, ICreatejsSpriteParam>(createjs.Sprite) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiSpriteData;\r\n\tprotected _createjsParams: ICreatejsSpriteParam;\r\n\tprotected _createjsEventManager: CreatejsEventManager;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiSpriteData(this);\r\n\t\tthis._createjsParams = createCreatejsSpriteParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiSpriteData(this);\r\n\t\tthis._createjsParams = createCreatejsSpriteParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\tthis._pixiData.instance.blendMode = mode;\r\n\t}\r\n\t\r\n\tgotoAndStop(...args: any[]) {\r\n\t\tsuper.gotoAndStop(...args);\r\n\t\t\r\n\t\tconst frame = this.spriteSheet.getFrame(this.currentFrame);\r\n\t\tconst baseTexture = BaseTexture.from(frame.image);\r\n\t\tconst texture = new Texture(baseTexture, frame.rect);\r\n\t\t\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsSpriteParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiSpriteData(createObject<CreatejsSprite>(CreatejsSprite.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import { DisplayObject, Container } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { CreatejsGraphics } from './Graphics';\r\nimport { createObject } from './utils';\r\nimport { CreatejsEventManager } from './EventManager';\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container}\r\n */\r\nexport class PixiShape extends Container {\r\n\tprivate _createjs: CreatejsShape;\r\n\t\r\n\tconstructor(cjs: CreatejsShape) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsShapeParam extends ICreatejsParam {\r\n\tgraphics: CreatejsGraphics | null;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics: CreatejsGraphics | null): ICreatejsShapeParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\tgraphics\r\n\t});\r\n}\r\n\r\nexport interface IPixiShapeData extends IPixiData<PixiShape> {\r\n\t/**\r\n\t * inherited {@link http://pixijs.download/release/docs/PIXI.DisplayObject.html | PIXI.DisplayObject}\r\n\t */\r\n\tmasked: DisplayObject[];\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs: CreatejsShape) {\r\n\tconst pixi = new PixiShape(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData<PixiShape>(pixi, pixi.pivot), {\r\n\t\tmasked: []\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Shape;\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape}\r\n */\r\nexport class CreatejsShape extends mixinCreatejsDisplayObject<PixiShape, ICreatejsShapeParam>(createjs.Shape) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiShapeData;\r\n\tprotected _createjsParams: ICreatejsShapeParam;\r\n\tprotected _createjsEventManager: CreatejsEventManager;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiShapeData(this);\r\n\t\tthis._createjsParams = createCreatejsShapeParams(null);\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiShapeData(this);\r\n\t\tthis._createjsParams = createCreatejsShapeParams(null);\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\tthis._pixiData.reservedBlendMode = mode;\r\n\t\tthis._createjsParams.graphics?.updateBlendModeForPixi(mode);\r\n\t}\r\n\t\r\n\tget graphics() {\r\n\t\treturn this._createjsParams.graphics;\r\n\t}\r\n\t\r\n\tset graphics(value) {\r\n\t\tif (this._pixiData.masked.length) {\r\n\t\t\tthis._pixiData.instance.removeChildren();\r\n\t\t\t\r\n\t\t\tif (value) {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = this._pixiData.instance;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < this._pixiData.masked.length; i++) {\r\n\t\t\t\t\tthis._pixiData.masked[i].mask = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (value) {\r\n\t\t\tthis._pixiData.instance.addChild(value.pixi);\r\n\t\t}\r\n\t\t\r\n\t\tthis._createjsParams.graphics = value;\r\n\t}\r\n\t\r\n\tget masked() {\r\n\t\treturn this._pixiData.masked;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsShapeParams(null),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiShapeData(createObject<CreatejsShape>(CreatejsShape.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import { Sprite, Texture } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject } from './utils';\r\nimport { CreatejsEventManager } from './EventManager';\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite}\r\n */\r\nexport class PixiBitmap extends Sprite {\r\n\tprivate _createjs: CreatejsBitmap;\r\n\t\r\n\tconstructor(cjs: CreatejsBitmap) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsBitmapParam extends ICreatejsParam {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams(): ICreatejsBitmapParam {\r\n\treturn createCreatejsParams();\r\n}\r\n\r\nexport interface IPixiBitmapData extends IPixiData<PixiBitmap> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs: CreatejsBitmap): IPixiBitmapData {\r\n\tconst pixi = new PixiBitmap(cjs);\r\n\t\r\n\treturn createPixiData<PixiBitmap>(pixi, pixi.anchor);\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Bitmap;\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap}\r\n */\r\nexport class CreatejsBitmap extends mixinCreatejsDisplayObject<PixiBitmap, ICreatejsBitmapParam>(createjs.Bitmap) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiBitmapData;\r\n\tprotected _createjsParams: ICreatejsBitmapParam;\r\n\tprotected _createjsEventManager: CreatejsEventManager;\r\n\t \r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiBitmapData(this);\r\n\t\tthis._createjsParams = createCreatejsBitmapParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiBitmapData(this);\r\n\t\tthis._createjsParams = createCreatejsBitmapParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\tconst res = super.initialize(...args);\r\n\t\tconst texture = Texture.from(this.image);\r\n\t\tthis._pixiData.instance.texture = texture;\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\tthis._pixiData.instance.blendMode = mode;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsBitmapParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiBitmapData(createObject<CreatejsBitmap>(CreatejsBitmap.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});\r\n","import { Graphics, LINE_CAP, LINE_JOIN} from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam,  ITickerData, ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer } from './core';\r\nimport { createObject, DEG_TO_RAD } from './utils';\r\nimport { CreatejsEventManager } from './EventManager';\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics}\r\n */\r\nexport class PixiGraphics extends Graphics {\r\n\tprivate _createjs: CreatejsGraphics;\r\n\t\r\n\tconstructor(cjs: CreatejsGraphics) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface ICreatejsGraphicsParam extends ICreatejsParam {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams(): ICreatejsGraphicsParam {\r\n\treturn createCreatejsParams();\r\n}\r\n\r\nexport interface IPixiGraphicsData extends IPixiData<PixiGraphics> {\r\n\tstrokeFill: number;\r\n\tstrokeAlpha: number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs: CreatejsGraphics): IPixiGraphicsData {\r\n\tconst pixi = new PixiGraphics(cjs);\r\n\t\r\n\treturn Object.assign(createPixiData<PixiGraphics>(pixi, pixi.pivot), {\r\n\t\tstrokeFill: 0,\r\n\t\tstrokeAlpha: 1\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n\t0: LINE_CAP.BUTT,\r\n\t1: LINE_CAP.ROUND,\r\n\t2: LINE_CAP.SQUARE\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n\t0: LINE_JOIN.MITER,\r\n\t1: LINE_JOIN.ROUND,\r\n\t2: LINE_JOIN.BEVEL\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Graphics;\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics}\r\n */\r\nexport class CreatejsGraphics extends mixinCreatejsDisplayObject<PixiGraphics, ICreatejsGraphicsParam>(createjs.Graphics) implements ICreatejsDisplayObjectUpdater, ICreatejsDisplayObjectInitializer {\r\n\tprotected _pixiData: IPixiGraphicsData;\r\n\tprotected _createjsParams: ICreatejsGraphicsParam;\r\n\tprotected _createjsEventManager: CreatejsEventManager;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis._pixiData = createPixiGraphicsData(this);\r\n\t\tthis._createjsParams = createCreatejsGraphicsParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\tP.apply(this, args);\r\n\t\t\r\n\t\tthis._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n\t\tthis._pixiData.strokeFill = 0;\r\n\t\tthis._pixiData.strokeAlpha = 1;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tthis._pixiData = createPixiGraphicsData(this);\r\n\t\tthis._createjsParams = createCreatejsGraphicsParams();\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\treturn super.initialize(...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\tif (!mode) return;\r\n\t\tthis._pixiData.instance.blendMode = mode;\r\n\t}\r\n\t\r\n\t// path methods\r\n\t\r\n\tmoveTo(x: number, y: number) {\r\n\t\tif (this._pixiData.instance.clone().endFill().containsPoint({x: x, y: y})) {\r\n\t\t\tthis._pixiData.instance.beginHole();\r\n\t\t} else {\r\n\t\t\tthis._pixiData.instance.endHole();\r\n\t\t}\r\n\t\t\r\n\t\tthis._pixiData.instance.moveTo(x, y);\r\n\t\t\r\n\t\treturn super.moveTo(x, y);\r\n\t}\r\n\t\r\n\tmt(x: number, y: number) {\r\n\t\treturn this.moveTo(x, y);\r\n\t}\r\n\t\r\n\tlineTo(x: number, y: number) {\r\n\t\tthis._pixiData.instance.lineTo(x, y);\r\n\t\t\r\n\t\treturn super.lineTo(x, y);\r\n\t}\r\n\t\r\n\tlt(x: number, y: number) {\r\n\t\treturn this.lineTo(x, y);\r\n\t}\r\n\t\r\n\tarcTo(x1: number, y1: number, x2: number, y2: number, radius: number) {\r\n\t\tthis._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n\t\t\r\n\t\treturn super.arcTo(x1, y1, x2, y2, radius);\r\n\t}\r\n\t\r\n\tat(x1: number, y1: number, x2: number, y2: number, radius: number) {\r\n\t\treturn this.arcTo(x1, y1, x2, y2, radius);\r\n\t}\r\n\t\r\n\tarc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\r\n\t\tthis._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t\t\r\n\t\treturn super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t}\r\n\t\r\n\ta(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean) {\r\n\t\treturn this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n\t}\r\n\t\r\n\tquadraticCurveTo(cpx: number, cpy: number, x: number, y: number) {\r\n\t\tthis._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n\t\t\r\n\t\treturn super.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tqt(cpx: number, cpy: number, x: number, y: number) {\r\n\t\treturn this.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tcurveTo(cpx: number, cpy: number, x: number, y: number) {\r\n\t\treturn this.quadraticCurveTo(cpx, cpy, x, y);\r\n\t}\r\n\t\r\n\tbezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number) {\r\n\t\tthis._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t\t\r\n\t\treturn super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t}\r\n\t\r\n\tbt(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number) {\r\n\t\treturn this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n\t}\r\n\t\r\n\trect(x: number, y: number, w: number, h: number) {\r\n\t\tthis._pixiData.instance.drawRect(x, y, w, h);\r\n\t\t\r\n\t\treturn super.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tr(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tdrawRect(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tdr(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.rect(x, y, w, h);\r\n\t}\r\n\t\r\n\tclosePath() {\r\n\t\tthis._pixiData.instance.closePath();\r\n\t\t\r\n\t\treturn super.closePath();\r\n\t}\r\n\t\r\n\tcp() {\r\n\t\treturn this.closePath();\r\n\t}\r\n\t\r\n\tclear() {\r\n\t\tthis._pixiData.instance.clear();\r\n\t\t\r\n\t\treturn super.clear();\r\n\t}\r\n\t\r\n\tc() {\r\n\t\treturn this.clear();\r\n\t}\r\n\t\r\n\tprivate _parseColor(color: string) {\r\n\t\tconst res = {\r\n\t\t\tcolor: 0,\r\n\t\t\talpha: 1\r\n\t\t};\r\n\t\t\r\n\t\tif (!color) {\r\n\t\t\tres.alpha = 0;\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tif (color.charAt(0) === '#') {\r\n\t\t\tres.color = parseInt(color.slice(1), 16);\r\n\t\t\treturn res;\r\n\t\t}\r\n\t\t\r\n\t\tconst colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n\t\t\r\n\t\tres.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n\t\tres.alpha = Number(colors[3]);\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n\t\r\n\tbeginFill(color: string) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.instance.beginFill(c.color, c.alpha);\r\n\t\t\r\n\t\treturn super.beginFill(color);\r\n\t}\r\n\t\r\n\tf(color: string) {\r\n\t\treturn this.beginFill(color);\r\n\t}\r\n\t\r\n\tendFill() {\r\n\t\tthis._pixiData.instance.endFill();\r\n\t\t\r\n\t\treturn super.endFill();\r\n\t}\r\n\t\r\n\tef() {\r\n\t\treturn this.endFill();\r\n\t}\r\n\t\r\n\tsetStrokeStyle(thickness: number, caps: 0 | 1 | 2, joints: 0 | 1 | 2, miterLimit: number, ignoreScale: boolean) {\r\n\t\tthis._pixiData.instance.lineTextureStyle({\r\n\t\t\twidth: thickness,\r\n\t\t\tcolor: this._pixiData.strokeFill,\r\n\t\t\talpha: this._pixiData.strokeAlpha,\r\n\t\t\tcap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n\t\t\tjoin: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n\t\t\tmiterLimit\r\n\t\t});\r\n\t\t\r\n\t\treturn super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\t}\r\n\t\r\n\tss(thickness: number, caps: 0 | 1 | 2, joints: 0 | 1 | 2, miterLimit: number, ignoreScale: boolean) {\r\n\t\treturn this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n\t}\r\n\t\r\n\tbeginStroke(color: string) {\r\n\t\tconst c = this._parseColor(color);\r\n\t\tthis._pixiData.strokeFill = c.color;\r\n\t\tthis._pixiData.strokeAlpha = c.alpha;\r\n\t\t\r\n\t\treturn super.beginStroke(color);\r\n\t}\r\n\t\r\n\ts(color: string) {\r\n\t\treturn this.beginStroke(color);\r\n\t}\r\n\t\r\n\tdrawRoundRect(x: number, y: number, w: number, h: number, radius: number) {\r\n\t\tthis._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n\t\t\r\n\t\treturn super.drawRoundRect(x, y, w, h, radius);\r\n\t}\r\n\t\r\n\trr(x: number, y: number, w: number, h: number, radius: number) {\r\n\t\treturn this.drawRoundRect(x, y, w, h, radius);\r\n\t}\r\n\t\r\n\tdrawCircle(x: number, y: number, radius: number) {\r\n\t\tthis._pixiData.instance.drawCircle(x, y, radius);\r\n\t\t\r\n\t\treturn super.drawCircle(x, y, radius);\r\n\t}\r\n\t\r\n\tdc(x: number, y: number, radius: number) {\r\n\t\treturn this.drawCircle(x, y, radius);\r\n\t}\r\n\t\r\n\tdrawEllipse(x: number, y: number, w: number, h: number) {\r\n\t\tthis._pixiData.instance.drawEllipse(x, y, w, h);\r\n\t\t\r\n\t\treturn super.drawEllipse(x, y, w, h);\r\n\t}\r\n\t\r\n\tde(x: number, y: number, w: number, h: number) {\r\n\t\treturn this.drawEllipse(x, y, w, h);\r\n\t}\r\n\t\r\n\tdrawPolyStar(x: number, y: number, radius: number, sides: number, pointSize: number, angle: number) {\r\n\t\tthis._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n\t\t\r\n\t\treturn super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n\t}\r\n\t\r\n\tdp(x: number, y: number, radius: number, sides: number, pointSize: number, angle: number) {\r\n\t\treturn this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsGraphicsParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiGraphicsData(createObject<CreatejsGraphics>(CreatejsGraphics.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import { Container, Text } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { mixinCreatejsDisplayObject, createPixiData, createCreatejsParams, IPixiData, ICreatejsParam, ITickerData, ICreatejsDisplayObjectUpdater } from './core';\r\nimport { createObject } from './utils';\r\nimport { CreatejsEventManager } from './EventManager';\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text}\r\n */\r\nexport class PixiText extends Text {}\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container}\r\n */\r\nexport class PixiTextContainer extends Container {\r\n\tprivate _createjs: CreatejsText;\r\n\tprivate _text: PixiText;\r\n\t\r\n\tconstructor(cjs: CreatejsText, text: PixiText) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t\tthis._text = text;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._text;\r\n\t}\r\n}\r\n\r\nexport type TCreatejsTextAlign = 'left' | 'center' | 'right';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN: TCreatejsTextAlign = 'left';\r\n\r\nexport interface ICreatejsTextParam extends ICreatejsParam {\r\n\ttext: string;\r\n\tfont: string;\r\n\tcolor: string;\r\n\ttextAlign: TCreatejsTextAlign;\r\n\tlineHeight: number;\r\n\tlineWidth: number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text: string, font: string, color: string): ICreatejsTextParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\ttext: text,\r\n\t\tfont: font,\r\n\t\tcolor: color,\r\n\t\ttextAlign: DEF_ALIGN,\r\n\t\tlineHeight: 0,\r\n\t\tlineWidth: 0\r\n\t});\r\n}\r\n\r\nexport interface IPixiTextData extends IPixiData<PixiTextContainer> {\r\n\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs: CreatejsText, text: PixiText): IPixiTextData {\r\n\tconst pixi = new PixiTextContainer(cjs, text);\r\n\t\r\n\treturn createPixiData<PixiTextContainer>(pixi, pixi.pivot);\r\n}\r\n\r\nexport interface ICreatejsParsedText {\r\n\tfontSize: number;\r\n\tfontFamily: string;\r\n\tfontWeight?: string | number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.Text;\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text}\r\n */\r\nexport class CreatejsText extends mixinCreatejsDisplayObject<PixiTextContainer, ICreatejsTextParam>(createjs.Text) implements ICreatejsDisplayObjectUpdater {\r\n\tprotected _pixiData: IPixiTextData;\r\n\tprotected _createjsParams: ICreatejsTextParam;\r\n\tprotected _createjsEventManager: CreatejsEventManager;\r\n\t\r\n\tconstructor(text: string, font: string, color: string = '#000000', ...args: any[]) {\r\n\t\tsuper(text, font, color, ...args);\r\n\t\t\r\n\t\tthis._createjsParams = createCreatejsTextParams(text, font, color);\r\n\t\t\r\n\t\tconst _font = this._parseFont(font);\r\n\t\t\r\n\t\tconst t = new PixiText(text, {\r\n\t\t\tfontWeight: _font.fontWeight,\r\n\t\t\tfontSize: _font.fontSize,\r\n\t\t\tfontFamily: _font.fontFamily,\r\n\t\t\tfill: this._parseColor(color),\r\n\t\t\twordWrap: true\r\n\t\t});\r\n\t\t\r\n\t\tthis._pixiData = createPixiTextData(this, t);\r\n\t\tthis._pixiData.instance.addChild(t);\r\n\t\t\r\n\t\tthis._createjsEventManager = new CreatejsEventManager(this);\r\n\t\t\r\n\t\tP.call(this, text, font, color, ...args);\r\n\t}\r\n\t\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tupdateBlendModeForPixi(mode: PIXI.BLEND_MODES): void {\r\n\t\tthis._pixiData.instance.text.blendMode = mode;\r\n\t}\r\n\t\r\n\tget text() {\r\n\t\treturn this._createjsParams.text;\r\n\t}\r\n\t\r\n\tset text(text) {\r\n\t\tthis._pixiData.instance.text.text = text;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\tthis._createjsParams.text = text;\r\n\t}\r\n\t\r\n\tprivate _parseFont(font: string): ICreatejsParsedText {\r\n\t\tconst p = font.split(' ');\r\n\t\t\r\n\t\tlet w = 'normal';\r\n\t\tlet s = p.shift() || '';\r\n\t\t\r\n\t\tif (s.indexOf('px') === -1) {\r\n\t\t\tw = s;\r\n\t\t\ts = p.shift() || '';\r\n\t\t}\r\n\t\t\r\n\t\treturn {\r\n\t\t\tfontWeight: w,\r\n\t\t\tfontSize: Number((s || '0px').replace('px', '')),\r\n\t\t\tfontFamily: p.join(' ').replace(/'/g, '') //'\r\n\t\t};\r\n\t}\r\n\t\r\n\tget font() {\r\n\t\treturn this._createjsParams.font;\r\n\t}\r\n\t\r\n\tset font(font) {\r\n\t\tconst _font = this._parseFont(font);\r\n\t\tthis._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n\t\tthis._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n\t\t\r\n\t\tthis._createjsParams.font = font;\r\n\t}\r\n\t\r\n\tprivate _parseColor(color: string) {\r\n\t\treturn parseInt(color.slice(1), 16);\r\n\t}\r\n\t\r\n\tget color() {\r\n\t\treturn this._createjsParams.color;\r\n\t}\r\n\t\r\n\tset color(color) {\r\n\t\tthis._pixiData.instance.text.style.fill = this._parseColor(color);\r\n\t\t\r\n\t\tthis._createjsParams.color = color;\r\n\t}\r\n\t\r\n\tprivate _align(align: TCreatejsTextAlign) {\r\n\t\tif (align === 'left') {\r\n\t\t\tthis._pixiData.instance.text.x = 0;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'center') {\r\n\t\t\tthis._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (align === 'right') {\r\n\t\t\tthis._pixiData.instance.text.x =  -this._pixiData.instance.text.width;\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tget textAlign() {\r\n\t\treturn this._createjsParams.textAlign;\r\n\t}\r\n\t\r\n\tset textAlign(align) {\r\n\t\tthis._pixiData.instance.text.style.align = align;\r\n\t\tthis._align(align);\r\n\t\t\r\n\t\tthis._createjsParams.textAlign = align;\r\n\t}\r\n\t\r\n\tget lineHeight() {\r\n\t\treturn this._createjsParams.lineHeight;\r\n\t}\r\n\t\r\n\tset lineHeight(height) {\r\n\t\tthis._pixiData.instance.text.style.lineHeight = height;\r\n\t\t\r\n\t\tthis._createjsParams.lineHeight = height;\r\n\t}\r\n\t\r\n\tget lineWidth() {\r\n\t\treturn this._createjsParams.lineWidth;\r\n\t}\r\n\t\r\n\tset lineWidth(width) {\r\n\t\tthis._pixiData.instance.text.style.wordWrapWidth = width;\r\n\t\tthis._align(this.textAlign);\r\n\t\t\r\n\t\tthis._createjsParams.lineWidth = width;\r\n\t}\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsTextParams('', '', ''),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiTextData(createObject<CreatejsText>(CreatejsText.prototype), new PixiText('')),\r\n\t\twritable: true\r\n\t}\r\n});","import { filters } from 'pixi.js';\r\nimport createjs from '@tawaship/createjs-module';\r\nimport { ICreatejsParam, createCreatejsParams } from './core';\r\nimport { createObject } from './utils';\r\n\r\n/**\r\n * inherited {@link http://pixijs.download/release/docs/PIXI.ColorMatrixFilter.html | PIXI.Sprite}\r\n */\r\nexport class PixiColorMatrixFilter extends filters.ColorMatrixFilter {\r\n\tprivate _createjs: CreatejsColorFilter;\r\n\t\r\n\tconstructor(cjs: CreatejsColorFilter) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjs = cjs;\r\n\t}\r\n\t\r\n\tget createjs() {\r\n\t\treturn this._createjs;\r\n\t}\r\n}\r\n\r\nexport interface IPixiColorMatrixFilterData {\r\n\tinstance: PixiColorMatrixFilter;\r\n};\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiColorMatrixFilterData(cjs: CreatejsColorFilter): IPixiColorMatrixFilterData {\r\n\tconst pixi = new PixiColorMatrixFilter(cjs);\r\n\t\r\n\treturn { instance: pixi };\r\n}\r\n\r\nexport interface ICreatejsColorFilterParam extends ICreatejsParam {\r\n\tredMultiplier: number;\r\n    greenMultiplier: number;\r\n    blueMultiplier: number;\r\n    alphaMultiplier: number;\r\n    redOffset: number;\r\n    greenOffset: number;\r\n    blueOffset: number;\r\n    alphaOffset: number;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsColorFilterParams(): ICreatejsColorFilterParam {\r\n\treturn Object.assign(createCreatejsParams(), {\r\n\t\tredMultiplier: 1,\r\n        greenMultiplier: 1,\r\n        blueMultiplier: 1,\r\n        alphaMultiplier: 1,\r\n        redOffset: 0,\r\n        greenOffset: 0,\r\n        blueOffset: 0,\r\n        alphaOffset: 0\r\n\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.ColorFilter;\r\n\r\n/**\r\n * inherited {@link https://createjs.com/docs/easeljs/classes/ColorFilter.html | createjs.ColorFilter}\r\n */\r\nexport class CreatejsColorFilter extends createjs.ColorFilter {\r\n    protected _pixiData: IPixiColorMatrixFilterData;\r\n    protected _createjsParams: ICreatejsColorFilterParam;\r\n\r\n    constructor(...args: number[]) {\r\n        super(args);\r\n\r\n        const pixiData = this._pixiData = createPixiColorMatrixFilterData(this);\r\n        const createjsParams = this._createjsParams = createCreatejsColorFilterParams();\r\n\r\n        // ColorFilterのtweenは、列挙可能かつ hasOwnPropery なプロパティにアクセスしてしまうので、enumerableを切っておく\r\n        Object.defineProperties(this, {\r\n            _pixiData: {\r\n                enumerable: false,\r\n                value: pixiData\r\n            },\r\n            _createjsParams: {\r\n                enumerable: false,\r\n                value: createjsParams\r\n            },\r\n            redMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.redMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[0] = value, this._createjsParams.redMultiplier = value;\r\n                }\r\n            },\r\n            greenMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.greenMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[6] = value, this._createjsParams.greenMultiplier = value;\r\n                }\r\n            },\r\n            blueMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.blueMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[12] = value, this._createjsParams.blueMultiplier = value;\r\n                }\r\n            },\r\n            alphaMultiplier: {\r\n                get() {\r\n                    return this._createjsParams.alphaMultiplier;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[18] = value, this._createjsParams.alphaMultiplier = value;\r\n                },\r\n            },\r\n            redOffset: {\r\n                get() {\r\n                    return this._createjsParams.redOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[4] = value / 255, this._createjsParams.redOffset = value;\r\n                }\r\n            },\r\n            greenOffset: {\r\n                get() {\r\n                    return this._createjsParams.greenOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[9] = value / 255, this._createjsParams.greenOffset = value;\r\n                }\r\n            },\r\n            blueOffset: {\r\n                get() {\r\n                    return this._createjsParams.blueOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[14] = value / 255, this._createjsParams.blueOffset = value;\r\n                }\r\n            },\r\n            alphaOffset: {\r\n                get() {\r\n                    return this._createjsParams.alphaOffset;\r\n                },\r\n                set(value) {\r\n                    this._pixiData.instance.matrix[19] = value / 255, this._createjsParams.alphaOffset = value;\r\n                }\r\n            }\r\n        });\r\n\r\n        P.apply(this, args);\r\n    }\r\n    \r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n}\r\n\r\n// temporary prototype\r\nObject.defineProperties(CreatejsColorFilter.prototype, {\r\n\t_createjsParams: {\r\n\t\tvalue: createCreatejsColorFilterParams(),\r\n\t\twritable: true\r\n\t},\r\n\t_pixiData: {\r\n\t\tvalue: createPixiColorMatrixFilterData(createObject<CreatejsColorFilter>(CreatejsColorFilter.prototype)),\r\n\t\twritable: true\r\n\t}\r\n});","import * as PIXI from 'pixi.js';\r\nimport * as PA from './modules';\r\nimport createjs from '@tawaship/createjs-module';\r\n\r\ndeclare const AdobeAn: any;\r\ndeclare const window: any;\r\n\r\nexport interface IAnimateLibrary {\r\n\t[ name: string ]: any;\r\n}\r\n\r\nexport interface IAnimateLoadAssetOption {\r\n\t/**\r\n\t * Whether to use assets on a server in another domain.\r\n\t */\r\n\tcrossOrigin?: boolean;\r\n\r\n\t/**\r\n\t * Whether to use sound on createjs.\r\n\t * \r\n\t * However, if possible, try to use an external library such as ***howler.js***.\r\n\t */\r\n\tuseSound?: boolean;\r\n\r\n\t/**\r\n\t * Whether to fire events related to frames.\r\n\t */\r\n\tlistenFrameEvents?: PA.IAnimateFrameEventOption;\r\n};\r\n\r\nexport interface IAnimatePrepareTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\toptions?: IAnimateLoadAssetOption;\r\n};\r\n\r\nfunction playSound(id: string, loop: boolean, offset: number) {\r\n\treturn createjs.Sound.play(id, {\r\n\t\tinterrupt: createjs.Sound.INTERRUPT_EARLY,\r\n\t\tloop,\r\n\t\toffset\r\n\t});\r\n}\r\n\r\nexport interface IAnimateManifest {\r\n\tsrc: string;\r\n\tid: string;\r\n\ttype?: string;\r\n\tcrossOrigin?: boolean;\r\n\t[key: string]: any;\r\n}\r\n\r\n/*\r\nexport function dataURLToBlobURL(dataURL: string) {\r\n\tconst bin = atob(dataURL.replace(/^.*,/, ''));\r\n\tconst buffer = new Uint8Array(bin.length);\r\n\tfor (let i = 0; i < bin.length; i++) {\r\n\t\tbuffer[i] = bin.charCodeAt(i);\r\n\t}\r\n\r\n\tconst p = dataURL.slice(5);\r\n\ttry{\r\n\t\tconst blob = new Blob([buffer.buffer], {\r\n\t\t\ttype: p.slice(0, p.indexOf(\";\"))\r\n\t\t});\r\n\t\treturn (URL || webkitURL).createObjectURL(blob);\r\n\t} catch (e){\r\n\t\tthrow e;\r\n\t};\r\n}\r\n*/\r\n\r\n/**\r\n * Load the assets of createjs content published by Adobe Animate.\r\n * If you use multiple contents, each composition ID must be unique.\r\n * Please run \"Pixim.animate.init\" before running.\r\n */\r\nexport function loadAssetAsync(targets: IAnimatePrepareTarget | IAnimatePrepareTarget[]) {\r\n\tif (!Array.isArray(targets)) {\r\n\t\ttargets = [targets];\r\n\t}\r\n\t\r\n\tconst promises: Promise<IAnimateLibrary>[] = [];\r\n\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst target = targets[i];\r\n\r\n\t\tif (target.options?.useSound) {\r\n\t\t\twindow.playSound = playSound;\r\n\t\t}\r\n\t\t\r\n\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t}\r\n\t\t\r\n\t\tconst lib: IAnimateLibrary = comp.getLibrary();\r\n\t\tconst manifests: IAnimateManifest[] = lib.properties.manifest.map((v: any) => {\r\n\t\t\treturn JSON.parse(JSON.stringify(v));\r\n\t\t});\r\n\t\tconst crossOrigin = typeof(target.options?.crossOrigin) === 'boolean' ? target.options.crossOrigin : true;\r\n\t\t\r\n\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\tconst manifest = manifests[i];\r\n\t\t\tif (manifest.src.indexOf('data:image') === 0) {\r\n\t\t\t\tmanifest.type = createjs.Types.IMAGE;\r\n\t\t\t} else if (manifest.src.indexOf('data:audio') === 0) {\r\n\t\t\t\t/* note\r\n\t\t\t\t\tIt seems that data URL format sounds are not supported by the createjs loader.\r\n\t\t\t\t\tConverting to blob URL also didn't work.\r\n\t\t\t\t*/\r\n\t\t\t\tthrow new Error(\"data URL formatted sound is not supported.\");\r\n\t\t\t\t/*\r\n\t\t\t\tmanifest.type = createjs.Types.SOUND;\r\n\t\t\t\tmanifest.src = dataURLToBlobURL(manifest.src);\r\n\t\t\t\t*/\r\n\t\t\t} else if (manifest.src.indexOf('blob:') === 0) {\r\n\r\n\t\t\t} else if (manifest.src.indexOf('file:') === 0) {\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tmanifest.src = PIXI.utils.url.resolve(target.basepath, manifest.src);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (crossOrigin) {\r\n\t\t\tfor (let i = 0; i < manifests.length; i++) {\r\n\t\t\t\tmanifests[i].crossOrigin = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst loadPromise = new Promise((resolve, reject) => {\r\n\t\t\tif (manifests.length === 0) {\r\n\t\t\t\tresolve({});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst loader = new createjs.LoadQueue(false);\r\n\t\t\t\r\n\t\t\tif (target.options?.useSound) {\r\n\t\t\t\tloader.installPlugin(createjs.Sound);\r\n\t\t\t}\r\n\r\n\t\t\tconst errors: any[] = [];\r\n\t\t\t\r\n\t\t\tloader.addEventListener('fileload', (evt: any) => {\r\n\t\t\t\thandleFileLoad(evt, comp);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tloader.addEventListener('complete', (evt: any) => {\r\n\t\t\t\tif (errors.length) {\r\n\t\t\t\t\treject(errors);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tresolve(evt);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tloader.addEventListener('error', (evt: any) => {\r\n\t\t\t\terrors.push(evt.data);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tloader.loadManifest(manifests || []);\r\n\t\t})\r\n\t\t.then((evt: any) => {\r\n\t\t\tconst ss = comp.getSpriteSheet();\r\n\t\t\tconst queue = evt.target;\r\n\t\t\tconst ssMetadata = lib.ssMetadata;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < ssMetadata.length; i++) {\r\n\t\t\t\tss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n\t\t\t\t\timages: [\r\n\t\t\t\t\t\tqueue.getResult(ssMetadata[i].name)\r\n\t\t\t\t\t],\r\n\t\t\t\t\tframes: ssMetadata[i].frames\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn lib;\r\n\t\t});\r\n\r\n\t\tpromises.push(\r\n\t\t\tloadPromise\r\n\t\t\t.then((lib: IAnimateLibrary) => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof PA.CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t\tlib[i].prototype._listenFrameEvents = target.options?.listenFrameEvents;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn lib;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn Promise.all(promises)\r\n\t\t.then((resolvers: IAnimateLibrary[]) => {\r\n\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\treturn resolvers[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn resolvers;\r\n\t\t});\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt: any, comp: any) {\r\n\tconst images = comp.getImages();\r\n\tif (evt && (evt.item.type == 'image')) {\r\n\t\timages[evt.item.id] = evt.result;\r\n\t}\r\n}","import { Container as PixiContainer } from 'pixi.js';\r\nimport { CreatejsMovieClip, TCreatejsObject } from './createjs';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface IAnimateContainer extends PixiContainer {\r\n\thandleTick(delta: number): void;\r\n\taddCreatejs(cjs: TCreatejsObject): TCreatejsObject;\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number): TCreatejsObject;\r\n\tremoveCreatejs(cjs: TCreatejsObject): TCreatejsObject;\r\n}\r\n\r\nexport class CreatejsController {\r\n\tprivate _createjsData: {\r\n\t\tid: number;\r\n\t\ttargets: ICreatejsMovieClipDictionary;\r\n\t\tcontainer: IAnimateContainer;\r\n\t};\r\n\t\r\n\tconstructor(container: IAnimateContainer) {\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {},\r\n\t\t\tcontainer\r\n\t\t};\r\n\t}\r\n\t\r\n\thandleTick(delta: number) {\r\n\t\t// delta timeが1以上になるとフレーム飛びするので\r\n\t\tconst e = { delta: Math.min(delta, 1)};\r\n\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\tfor (let i in targets) {\r\n\t\t\ttargets[i].updateForPixi(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis._createjsData.container.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis._createjsData.container.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._createjsData.container.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}\r\n\r\n/**\r\n * inherited {@link https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container}\r\n */\r\nexport class Container extends PixiContainer implements IAnimateContainer {\r\n\tprivate _createjsData: {\r\n\t\tcontroller: CreatejsController;\r\n\t};\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tcontroller: new CreatejsController(this)\r\n\t\t};\r\n\t}\r\n\t\r\n\thandleTick(delta: number) {\r\n\t\treturn this._createjsData.controller.handleTick(delta);\r\n\t}\r\n\t\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\treturn this._createjsData.controller.addCreatejs(cjs);\r\n\t}\r\n\t\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\treturn this._createjsData.controller.addCreatejsAt(cjs, index);\r\n\t}\r\n\t\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\treturn this._createjsData.controller.removeCreatejs(cjs);\r\n\t}\r\n}","import * as PA from './createjs/modules';\r\nimport createjs from '@tawaship/createjs-module';\r\n\r\n// overrides\r\ncreatejs.Stage = PA.CreatejsStage;\r\ncreatejs.StageGL = PA.CreatejsStageGL;\r\ncreatejs.MovieClip = PA.CreatejsMovieClip;\r\ncreatejs.Sprite = PA.CreatejsSprite;\r\ncreatejs.Shape = PA.CreatejsShape;\r\ncreatejs.Bitmap = PA.CreatejsBitmap;\r\ncreatejs.Graphics = PA.CreatejsGraphics;\r\ncreatejs.Text = PA.CreatejsText;\r\ncreatejs.ButtonHelper = PA.CreatejsButtonHelper;\r\ncreatejs.ColorFilter = PA.CreatejsColorFilter;\r\n\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n\r\nexport * from './createjs';\r\nexport * from './Container';"],"names":["createjsInteractionEvents","utils","Container","P","Sprite","BaseTexture","Texture","Graphics","LINE_CAP","LINE_JOIN","Text","filters","PIXI","PA.CreatejsMovieClip","PixiContainer","PA.CreatejsStage","PA.CreatejsStageGL","PA.CreatejsSprite","PA.CreatejsShape","PA.CreatejsBitmap","PA.CreatejsGraphics","PA.CreatejsText","PA.CreatejsButtonHelper","PA.CreatejsColorFilter"],"mappings":"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"}
{"version":3,"file":"pixi-animate-container.min.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.0.3\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nexport { default as createjs } from '@tawaship/createjs-module';\nimport { Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        if (!child.isVisible()) {\r\n            continue;\r\n        }\r\n        //child.draw();\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._isDown = false;\r\n        this._events = {\r\n            pointerdown: [],\r\n            pointerover: [],\r\n            pointerout: [],\r\n            pointermove: [],\r\n            pointerup: [],\r\n            pointerupoutside: []\r\n        };\r\n        this._data = {\r\n            mousedown: {\r\n                types: ['pointerdown'],\r\n                factory: (cb) => {\r\n                    return this._mousedownFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollover: {\r\n                types: ['pointerover'],\r\n                factory: (cb) => {\r\n                    return this._rolloverFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollout: {\r\n                types: ['pointerout'],\r\n                factory: (cb) => {\r\n                    return this._rolloutFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressmove: {\r\n                types: ['pointermove'],\r\n                factory: (cb) => {\r\n                    console.log(cb);\r\n                    return this._pressmoveFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressup: {\r\n                types: ['pointerup', 'pointerupoutside'],\r\n                factory: (cb) => {\r\n                    return this._pressupFactory(cjs, cb);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    add(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        const func = data.factory(cb);\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            this._events[t].push({ func, origin: cb });\r\n            pixi.on(t, func);\r\n        }\r\n        pixi.interactive = true;\r\n    }\r\n    remove(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            const list = this._events[t];\r\n            if (list) {\r\n                for (var j = list.length - 1; j >= 0; j--) {\r\n                    if (list[j].origin === cb) {\r\n                        pixi.off(t, list[j].func);\r\n                        list.splice(j, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                if (list.length === 0) {\r\n                    this._events[t] = [];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _mousedownFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloverFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloutFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressmoveFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressupFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            this._isDown = false;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param comp Composition obtained from `AdobeAn.getComposition`.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(comp, basepath, options = {}) {\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false, basepath);\r\n        loader.installPlugin(createjs.Sound);\r\n        loader.addEventListener('fileload', function (evt) {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', function (evt) {\r\n            resolve(evt);\r\n        });\r\n        if (options.crossOrigin) {\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].crossOrigin = true;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, loadAssetAsync, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { CreatejsMovieClip as _CreatejsMovieClip, ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tthis.advance(e.delta * P);\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n}","import { createjs, loadAssetAsync as _loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport interface IPrepareTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n};\r\n\r\n/**\r\n * Load the assets of createjs content published by Adobe Animate.\r\n * If you use multiple contents, each composition ID must be unique.\r\n * Please run \"Pixim.animate.init\" before running.\r\n */\r\nexport function loadAssetAsync(targets: IPrepareTarget | IPrepareTarget[]) {\r\n\tif (!Array.isArray(targets)) {\r\n\t\ttargets = [targets];\r\n\t}\r\n\t\r\n\tconst promises: Promise<IAnimateLibrary>[] = [];\r\n\t\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst target = targets[i];\r\n\t\t\r\n\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t}\r\n\t\t\r\n\t\tpromises.push(_loadAssetAsync(comp, target.basepath, target.options)\r\n\t\t\t.then((lib: IAnimateLibrary) => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn lib;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn Promise.all(promises)\r\n\t\t.then((resolvers: IAnimateLibrary[]) => {\r\n\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\treturn resolvers[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn resolvers;\r\n\t\t});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;","import { Container as _Container, Ticker } from 'pixi.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(ticker: Ticker) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {}\r\n\t\t};\r\n\t\t\r\n\t\tthis.on('added', () => {\r\n\t\t\tticker.add(this._handleTick, this);\r\n\t\t});\r\n\t\t\r\n\t\tthis.on('removed', () => {\r\n\t\t\tticker.remove(this._handleTick, this);\r\n\t\t});\r\n\t}\r\n\t\r\n\tprivate _handleTick(delta: number) {\r\n\t\tconst e = { delta };\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\tfor (let i in targets) {\r\n\t\t\ttargets[i].updateForPixi(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","child","isVisible","updateForPixi","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","createjs","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","EventManager","_isDown","_events","pointerdown","pointerover","pointerout","pointermove","pointerup","pointerupoutside","_data","mousedown","types","factory","cb","_mousedownFactory","rollover","_rolloverFactory","rollout","_rolloutFactory","pressmove","_pressmoveFactory","pressup","_pressupFactory","add","type","data","func","t","push","origin","on","interactive","remove","j","off","splice","currentTarget","target","ev","rawX","global","x","rawY","y","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","masked","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","0","LINE_CAP","BUTT","1","ROUND","2","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","loadAssetAsync","comp","basepath","options","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","loader","LoadQueue","installPlugin","Sound","evt","images","getImages","item","id","result","handleFileLoad","crossOrigin","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","MotionGuidePlugin","install","framerate","_framerateBase","advance","delta","_CreatejsMovieClip","ticker","_createjsData","targets","_handleTick","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","Array","isArray","promises","AdobeAn","getComposition","_loadAssetAsync","fps","all","resolvers"],"mappings":"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"}
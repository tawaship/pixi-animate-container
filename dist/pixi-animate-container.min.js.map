{"version":3,"file":"pixi-animate-container.min.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.0.0\n * \n * @require pixi.js v5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport { Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        if (!child.isVisible()) {\r\n            continue;\r\n        }\r\n        //child.draw();\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * Global createjs object\r\n */\r\nconst createjs = window.createjs;\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._isDown = false;\r\n        this._events = {\r\n            pointerdown: [],\r\n            pointerover: [],\r\n            pointerout: [],\r\n            pointermove: [],\r\n            pointerup: [],\r\n            pointerupoutside: []\r\n        };\r\n        this._data = {\r\n            mousedown: {\r\n                types: ['pointerdown'],\r\n                factory: (cb) => {\r\n                    return this._mousedownFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollover: {\r\n                types: ['pointerover'],\r\n                factory: (cb) => {\r\n                    return this._rolloverFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollout: {\r\n                types: ['pointerout'],\r\n                factory: (cb) => {\r\n                    return this._rolloutFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressmove: {\r\n                types: ['pointermove'],\r\n                factory: (cb) => {\r\n                    console.log(cb);\r\n                    return this._pressmoveFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressup: {\r\n                types: ['pointerup', 'pointerupoutside'],\r\n                factory: (cb) => {\r\n                    return this._pressupFactory(cjs, cb);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    add(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        const func = data.factory(cb);\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            this._events[t].push({ func, origin: cb });\r\n            pixi.on(t, func);\r\n        }\r\n        pixi.interactive = true;\r\n    }\r\n    remove(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            const list = this._events[t];\r\n            if (list) {\r\n                for (var j = list.length - 1; j >= 0; j--) {\r\n                    if (list[j].origin === cb) {\r\n                        pixi.off(t, list[j].func);\r\n                        list.splice(j, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                if (list.length === 0) {\r\n                    this._events[t] = [];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _mousedownFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloverFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloutFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressmoveFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressupFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            this._isDown = false;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param id \"lib.properties.id\" in Animate content.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(id, basepath, options = {}) {\r\n    const comp = AdobeAn.getComposition(id);\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false, basepath);\r\n        loader.installPlugin(createjs.Sound);\r\n        loader.addEventListener('fileload', function (evt) {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', function (evt) {\r\n            resolve(evt);\r\n        });\r\n        if (options.crossOrigin) {\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].crossOrigin = true;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, createjs, loadAssetAsync, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { CreatejsMovieClip as _CreatejsMovieClip, ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tthis.advance(e.delta * P);\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n}","import { createjs, loadAssetAsync as _loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport interface IPrepareTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n};\r\n\r\n/**\r\n * Load the assets of createjs content published by Adobe Animate.\r\n * If you use multiple contents, each composition ID must be unique.\r\n * Please run \"Pixim.animate.init\" before running.\r\n */\r\nexport function loadAssetAsync(targets: IPrepareTarget | IPrepareTarget[]) {\r\n\tif (!Array.isArray(targets)) {\r\n\t\ttargets = [targets];\r\n\t}\r\n\t\r\n\tconst promises: Promise<IAnimateLibrary>[] = [];\r\n\t\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst comp = AdobeAn.getComposition(targets[i].id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${targets[i].id}`);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst target = targets[i];\r\n\t\t\r\n\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t}\r\n\t\t\r\n\t\tpromises.push(_loadAssetAsync(target.id, target.basepath, target.options)\r\n\t\t\t.then((lib: IAnimateLibrary) => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn lib;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn Promise.all(promises)\r\n\t\t.then((resolvers: IAnimateLibrary[]) => {\r\n\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\treturn resolvers[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn resolvers;\r\n\t\t});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;","import { Container as _Container, Ticker } from 'pixi.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(ticker: Ticker) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {}\r\n\t\t};\r\n\t\t\r\n\t\tthis.on('added', () => {\r\n\t\t\tticker.add(this._handleTick, this);\r\n\t\t});\r\n\t\t\r\n\t\tthis.on('removed', () => {\r\n\t\t\tticker.remove(this._handleTick, this);\r\n\t\t});\r\n\t}\r\n\t\r\n\tprivate _handleTick(delta: number) {\r\n\t\tconst e = { delta };\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\tfor (let i in targets) {\r\n\t\t\ttargets[i].updateForPixi(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","child","isVisible","updateForPixi","createjs","window","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","EventManager","_isDown","_events","pointerdown","pointerover","pointerout","pointermove","pointerup","pointerupoutside","_data","mousedown","types","factory","cb","_mousedownFactory","rollover","_rolloverFactory","rollout","_rolloutFactory","pressmove","_pressmoveFactory","pressup","_pressupFactory","add","type","data","func","t","push","origin","on","interactive","remove","j","off","splice","currentTarget","target","ev","rawX","global","x","rawY","y","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","masked","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","0","LINE_CAP","BUTT","1","ROUND","2","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","loadAssetAsync","id","basepath","options","comp","AdobeAn","getComposition","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","loader","LoadQueue","installPlugin","Sound","evt","images","getImages","item","result","handleFileLoad","crossOrigin","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","MotionGuidePlugin","install","framerate","_framerateBase","advance","delta","_CreatejsMovieClip","ticker","_createjsData","targets","_handleTick","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","Array","isArray","promises","_loadAssetAsync","fps","all","resolvers"],"mappings":"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"}
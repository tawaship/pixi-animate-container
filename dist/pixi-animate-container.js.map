{"version":3,"file":"pixi-animate-container.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.0.0\n * \n * @require pixi.js v5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport { Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        if (!child.isVisible()) {\r\n            continue;\r\n        }\r\n        //child.draw();\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * Global createjs object\r\n */\r\nconst createjs = window.createjs;\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._isDown = false;\r\n        this._events = {\r\n            pointerdown: [],\r\n            pointerover: [],\r\n            pointerout: [],\r\n            pointermove: [],\r\n            pointerup: [],\r\n            pointerupoutside: []\r\n        };\r\n        this._data = {\r\n            mousedown: {\r\n                types: ['pointerdown'],\r\n                factory: (cb) => {\r\n                    return this._mousedownFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollover: {\r\n                types: ['pointerover'],\r\n                factory: (cb) => {\r\n                    return this._rolloverFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollout: {\r\n                types: ['pointerout'],\r\n                factory: (cb) => {\r\n                    return this._rolloutFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressmove: {\r\n                types: ['pointermove'],\r\n                factory: (cb) => {\r\n                    console.log(cb);\r\n                    return this._pressmoveFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressup: {\r\n                types: ['pointerup', 'pointerupoutside'],\r\n                factory: (cb) => {\r\n                    return this._pressupFactory(cjs, cb);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    add(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        const func = data.factory(cb);\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            this._events[t].push({ func, origin: cb });\r\n            pixi.on(t, func);\r\n        }\r\n        pixi.interactive = true;\r\n    }\r\n    remove(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            const list = this._events[t];\r\n            if (list) {\r\n                for (var j = list.length - 1; j >= 0; j--) {\r\n                    if (list[j].origin === cb) {\r\n                        pixi.off(t, list[j].func);\r\n                        list.splice(j, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                if (list.length === 0) {\r\n                    this._events[t] = [];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _mousedownFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloverFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloutFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressmoveFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressupFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            this._isDown = false;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param id \"lib.properties.id\" in Animate content.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(id, basepath, options = {}) {\r\n    const comp = AdobeAn.getComposition(id);\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false, basepath);\r\n        loader.installPlugin(createjs.Sound);\r\n        loader.addEventListener('fileload', function (evt) {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', function (evt) {\r\n            resolve(evt);\r\n        });\r\n        if (options.crossOrigin) {\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].crossOrigin = true;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, createjs, loadAssetAsync, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { CreatejsMovieClip as _CreatejsMovieClip, ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tthis.advance(e.delta * P);\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n}","import { createjs, loadAssetAsync as _loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport interface IPrepareTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n};\r\n\r\n/**\r\n * Load the assets of createjs content published by Adobe Animate.\r\n * If you use multiple contents, each composition ID must be unique.\r\n * Please run \"Pixim.animate.init\" before running.\r\n */\r\nexport function loadAssetAsync(targets: IPrepareTarget | IPrepareTarget[]) {\r\n\tif (!Array.isArray(targets)) {\r\n\t\ttargets = [targets];\r\n\t}\r\n\t\r\n\tconst promises: Promise<IAnimateLibrary>[] = [];\r\n\t\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst comp = AdobeAn.getComposition(targets[i].id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${targets[i].id}`);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst target = targets[i];\r\n\t\t\r\n\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t}\r\n\t\t\r\n\t\tpromises.push(_loadAssetAsync(target.id, target.basepath, target.options)\r\n\t\t\t.then((lib: IAnimateLibrary) => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn lib;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn Promise.all(promises)\r\n\t\t.then((resolvers: IAnimateLibrary[]) => {\r\n\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\treturn resolvers[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn resolvers;\r\n\t\t});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;","import { Container as _Container, Ticker } from 'pixi.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(ticker: Ticker) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {}\r\n\t\t};\r\n\t\t\r\n\t\tthis.on('added', () => {\r\n\t\t\tticker.add(this._handleTick, this);\r\n\t\t});\r\n\t\t\r\n\t\tthis.on('removed', () => {\r\n\t\t\tticker.remove(this._handleTick, this);\r\n\t\t});\r\n\t}\r\n\t\r\n\tprivate _handleTick(delta: number) {\r\n\t\tconst e = { delta };\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\tfor (let i in targets) {\r\n\t\t\ttargets[i].updateForPixi(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","child","isVisible","updateForPixi","createjs","window","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","EventManager","_isDown","_events","pointerdown","pointerover","pointerout","pointermove","pointerup","pointerupoutside","_data","mousedown","types","factory","cb","_mousedownFactory","rollover","_rolloverFactory","rollout","_rolloutFactory","pressmove","console","log","_pressmoveFactory","pressup","_pressupFactory","add","type","data","func","t","push","origin","on","interactive","remove","j","off","splice","currentTarget","target","ev","rawX","global","x","rawY","y","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","masked","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","0","LINE_CAP","BUTT","1","ROUND","2","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","loadAssetAsync","id","basepath","options","comp","AdobeAn","getComposition","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","loader","LoadQueue","installPlugin","Sound","evt","images","getImages","item","result","handleFileLoad","crossOrigin","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","MotionGuidePlugin","install","framerate","_framerateBase","advance","delta","_CreatejsMovieClip","ticker","_createjsData","targets","_handleTick","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","Array","isArray","promises","_loadAssetAsync","fps","all","resolvers"],"mappings":";;;;;;;;;;;;;;;WAWA,SAASA,eAAeC,MAAMC;QAC1B,OAAO;oBACHA;YACAC,UAAUF;;;IAqBlB,SAASG,4BAA4BC,KAAKC;QAEtC,KADAC,IAAMC,OAAOH,IAAII,SAASC,SACjBC,IAAI,GAAGC,IAAIJ,KAAKK,QAAQF,IAAIC,GAAGD,KAAK;YACzCJ,IAAMO,QAAQN,KAAKG;YACdG,MAAMC,eAIXD,MAAME,cAAcV;;QAExB,QAAO;;QAMLW,WAAWC,OAAOD,UAKlBE;;;;;qFACFH,yBAAcI;YAOV,OANIC,KAAKC,gBACLD,KAAKE,KAAKH,QAEdC,KAAKG,cAAc,cACnBpB,4BAA4BiB,MAAMD;YAClCC,KAAKG,cAAc,aACZ;;MARaP,SAASQ,QAe/BC;;;;;2FACFV,yBAAcI;YAOV,OANIC,KAAKC,gBACLD,KAAKE,KAAKH,QAEdC,KAAKG,cAAc,cACnBpB,4BAA4BiB,MAAMD;YAClCC,KAAKG,cAAc,aACZ;;MAReP,SAASU;IAYvC,SAASC,aAAaC;QAClB,OAAOC,OAAOC,OAAOF;;IAKzBtB,IAAMyB,aAAaC,KAAKC,KAAK,KAEvBC,eACF,SAAY9B;;QACRgB,KAAKe,WAAU,GACff,KAAKgB,UAAU;YACXC,aAAa;YACbC,aAAa;YACbC,YAAY;YACZC,aAAa;YACbC,WAAW;YACXC,kBAAkB;WAEtBtB,KAAKuB,QAAQ;YACTC,WAAW;gBACPC,OAAO,EAAC;gBACRC,kBAAUC;oBACN,OAAO3B,OAAK4B,kBAAkB5C,KAAK2C;;;YAG3CE,UAAU;gBACNJ,OAAO,EAAC;gBACRC,kBAAUC;oBACN,OAAO3B,OAAK8B,iBAAiB9C,KAAK2C;;;YAG1CI,SAAS;gBACLN,OAAO,EAAC;gBACRC,kBAAUC;oBACN,OAAO3B,OAAKgC,gBAAgBhD,KAAK2C;;;YAGzCM,WAAW;gBACPR,OAAO,EAAC;gBACRC,kBAAUC;oBAEN,OADAO,QAAQC,IAAIR,KACL3B,OAAKoC,kBAAkBpD,KAAK2C;;;YAG3CU,SAAS;gBACLZ,OAAO,EAAC,aAAa;gBACrBC,kBAAUC;oBACN,OAAO3B,OAAKsC,gBAAgBtD,KAAK2C;;;;;2BAKjDY,eAAI3D,MAAM4D,MAAMb;QAIZ,KAHAzC,IAAMuD,OAAOzC,KAAKuB,MAAMiB,OAClBf,QAAQgB,KAAKhB,OACbiB,OAAOD,KAAKf,QAAQC,KACjBrC,IAAI,GAAGA,IAAImC,MAAMjC,QAAQF,KAAK;YACnCJ,IAAMyD,IAAIlB,MAAMnC;YAChBU,KAAKgB,QAAQ2B,GAAGC,KAAK;sBAAEF;gBAAMG,QAAQlB;gBACrC/C,KAAKkE,GAAGH,GAAGD;;QAEf9D,KAAKmE,eAAc;8BAEvBC,kBAAOpE,MAAM4D,MAAMb;QAGf,KAFAzC,IACMuC,QADOzB,KAAKuB,MAAMiB,MACLf,OACVnC,IAAI,GAAGA,IAAImC,MAAMjC,QAAQF,KAAK;YACnCJ,IAAMyD,IAAIlB,MAAMnC,IACVH,OAAOa,KAAKgB,QAAQ2B;YAC1B,IAAIxD,MAAM;gBACN,KAAK,IAAI8D,IAAI9D,KAAKK,SAAS,GAAGyD,KAAK,GAAGA;oBAClC,IAAI9D,KAAK8D,GAAGJ,WAAWlB,IAAI;wBACvB/C,KAAKsE,IAAIP,GAAGxD,KAAK8D,GAAGP,OACpBvD,KAAKgE,OAAOF,GAAG;wBACf;;;gBAGY,MAAhB9D,KAAKK,WACLQ,KAAKgB,QAAQ2B,KAAK;;;8BAKlCf,6BAAkB5C,KAAK2C;;QACnB,gBAAQ1C;YACJA,EAAEmE,gBAAgBnE,EAAEmE,cAAcxD,UAClCX,EAAEoE,SAASpE,EAAEoE,OAAOzD;YACpBV,IAAMoE,KAAKrE,EAAEwD;YACbxD,EAAEsE,OAAOD,GAAGE,OAAOC,GACnBxE,EAAEyE,OAAOJ,GAAGE,OAAOG,GACnB3D,OAAKe,WAAU,GACfY,GAAG1C;;8BAGX6C,4BAAiB9C,KAAK2C;;QAClB,gBAAQ1C;YACJA,EAAEmE,gBAAgBnE,EAAEmE,cAAcxD,UAClCX,EAAEoE,SAASpE,EAAEmE,cAAcxD;YAC3BV,IAAMoE,KAAKrE,EAAEwD;YACbxD,EAAEsE,OAAOD,GAAGE,OAAOC,GACnBxE,EAAEyE,OAAOJ,GAAGE,OAAOG,GACnB3D,OAAKe,WAAU,GACfY,GAAG1C;;8BAGX+C,2BAAgBhD,KAAK2C;;QACjB,gBAAQ1C;YACJA,EAAEmE,gBAAgBnE,EAAEmE,cAAcxD,UAClCX,EAAEoE,SAASpE,EAAEmE,cAAcxD;YAC3BV,IAAMoE,KAAKrE,EAAEwD;YACbxD,EAAEsE,OAAOD,GAAGE,OAAOC,GACnBxE,EAAEyE,OAAOJ,GAAGE,OAAOG,GACnB3D,OAAKe,WAAU,GACfY,GAAG1C;;8BAGXmD,6BAAkBpD,KAAK2C;;QACnB,gBAAQ1C;YACJ,IAAKe,OAAKe,SAAV;gBAGA9B,EAAEmE,gBAAgBpE,KAClBC,EAAEoE,SAASpE,EAAEoE,UAAUpE,EAAEoE,OAAOzD;gBAChCV,IAAMoE,KAAKrE,EAAEwD;gBACbxD,EAAEsE,OAAOD,GAAGE,OAAOC,GACnBxE,EAAEyE,OAAOJ,GAAGE,OAAOG,GACnBhC,GAAG1C;;;8BAGXqD,2BAAgBtD,KAAK2C;;QACjB,gBAAQ1C;YACJ,IAAKe,OAAKe,SAAV;gBAGA9B,EAAEmE,gBAAgBpE,KAClBgB,OAAKe,WAAU,GACf9B,EAAEoE,SAASpE,EAAEoE,UAAUpE,EAAEoE,OAAOzD;gBAChCV,IAAMoE,KAAKrE,EAAEwD;gBACbxD,EAAEsE,OAAOD,GAAGE,OAAOC,GACnBxE,EAAEyE,OAAOJ,GAAGE,OAAOG,GACnBhC,GAAG1C;;;;IAQf,IAAM2E;QACF;;;;YACIC,uBAASC;YACT5E,IAAMU,WAAWkE,KAAK,IAChBlF,OAAOgB,SAAShB,MAChBmF,YAAYD,KAAK,IACjBE,YAAYF,KAAK,IACjBG,YAAYH,KAAK,IACjBI,MAAMC,UAAU,IAChBC,WAAWN,KAAK;YACtBI,IAAIG,YAAYD;YAChBlF,IAAMoF,UAAU1F,KAAK2F,SAASL,IAAItF;YAClC0F,QAAQE,QAAQ;YAChBC,IAAIC,UAAS,GACTC,UAAS;YACbL,QAAQxB,GAAG,gBAAe;gBACtB4B,UAAS,GACLC,SACA/E,SAASyE,YAAYJ,aAGrBrE,SAASyE,YAAYL;iBAG7BM,QAAQxB,GAAG,eAAc;gBACrB4B,UAAS,GACLC,SACA/E,SAASyE,YAAYL,aAGrBpE,SAASyE,YAAYN;iBAG7BO,QAAQxB,GAAG,gBAAe;gBACtB6B,UAAS,GACT/E,SAASyE,YAAYJ;iBAEzBK,QAAQxB,GAAG,cAAa;gBACpB6B,UAAS,GACLD,SACA9E,SAASyE,YAAYL,aAGrBpE,SAASyE,YAAYN;iBAG7BO,QAAQxB,GAAG,qBAAoB;gBAC3B6B,UAAS,GACLD,SACA9E,SAASyE,YAAYL,aAGrBpE,SAASyE,YAAYN;iBAG7BO,QAAQvB,eAAc,GACtBuB,QAAQM,SAAS;;;;MAxDUhF,SAASiF,eA+DtCC;QACF,uBAAY9F;YACR6E,sBACA7D,KAAK+E,mBAAmB,MACxB/E,KAAKgF,YAAYhG;;;;;;;;;;;;eAErBiG,mBAAIC;YACA,OAAOlF,KAAK+E;WAEhBE,mBAAIC,+BAAgBC;YAChBnF,KAAK+E,mBAAmBI;WAE5BF,mBAAIrF;YACA,OAAOI,KAAKgF;;MAbQI;IAyB5B,SAASC,wBAAwBrG;QAC7BE,IAAMN,OAAO,IAAIkG,cAAc9F;QAC/B,OAAOyB,OAAO6E,OAAO3G,eAAeC,MAAMA,KAAK2G,QAAQ;YACnDC,aAAa5G;;;IAMrBM,IAAMuG,IAAI7F,SAAS8F,WAIbC;QACF;;;;YACI9B,uBACA7D,KAAK4F,YAAYP,wBAAwBrF,OACzCA,KAAK6F,kBA/TF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eAkTTxG,KAAKyG,wBAAwB,IAAI3F,aAAad,OAC9CyF,EAAEiB,MAAM1G,MAAM8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2CAElB6C;;;;YAII,OAHA3G,KAAK4F,YAAYP,wBAAwBrF,OACzCA,KAAK6F,kBArUF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eAwTTxG,KAAKyG,wBAAwB,IAAI3F,aAAad,OACvC6D,qBAAM8C,uBAAc7C;WAE/B8C,qBAAIhI;YACA,OAAOoB,KAAK4F,UAAU9G;uCAE1Ba,yBAAcV;YAEV,OADAe,KAAK6G,gBACE9H,4BAA4BiB,MAAMf;WAE7C2H,qBAAInD;YACA,OAAOzD,KAAK6F,gBAAgBpC;WAEhCmD,qBAAInD,iBAAE0B;YACFnF,KAAK4F,UAAU9G,SAAS2E,IAAI0B,OAC5BnF,KAAK6F,gBAAgBpC,IAAI0B;WAE7ByB,qBAAIjD;YACA,OAAO3D,KAAK6F,gBAAgBlC;WAEhCiD,qBAAIjD,iBAAEwB;YACFnF,KAAK4F,UAAU9G,SAAS6E,IAAIwB,OAC5BnF,KAAK6F,gBAAgBlC,IAAIwB;WAE7ByB,qBAAId;YACA,OAAO9F,KAAK6F,gBAAgBC;WAEhCc,qBAAId,sBAAOX;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMrD,IAAI0B,OAClCnF,KAAK6F,gBAAgBC,SAASX;WAElCyB,qBAAIb;YACA,OAAO/F,KAAK6F,gBAAgBE;WAEhCa,qBAAIb,sBAAOZ;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMnD,IAAIwB,OAClCnF,KAAK6F,gBAAgBE,SAASZ;WAElCyB,qBAAIV;YACA,OAAOlG,KAAK6F,gBAAgBK;WAEhCU,qBAAIV,qBAAMf;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKtD,KAAK0B,QAAQxE,YAC1CX,KAAK6F,gBAAgBK,QAAQf;WAEjCyB,qBAAIT;YACA,OAAOnG,KAAK6F,gBAAgBM;WAEhCS,qBAAIT,qBAAMhB;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKpD,IAAIwB,QAAQxE,YACzCX,KAAK6F,gBAAgBM,QAAQhB;WAEjCyB,qBAAIZ;YACA,OAAOhG,KAAK6F,gBAAgBG;WAEhCY,qBAAIZ,oBAAKb;YACLnF,KAAK4F,UAAU/G,OAAO4E,IAAI0B,OAC1BnF,KAAK6F,gBAAgBG,OAAOb;WAEhCyB,qBAAIX;YACA,OAAOjG,KAAK6F,gBAAgBI;WAEhCW,qBAAIX,oBAAKd;YACLnF,KAAK4F,UAAU/G,OAAO8E,IAAIwB,OAC1BnF,KAAK6F,gBAAgBI,OAAOd;WAEhCyB,qBAAIR;YACA,OAAOpG,KAAK6F,gBAAgBO;WAEhCQ,qBAAIR,wBAASjB;YACTnF,KAAK4F,UAAU9G,SAASsH,WAAWjB,QAAQxE,YAC3CX,KAAK6F,gBAAgBO,WAAWjB;WAEpCyB,qBAAIP;YACA,OAAOrG,KAAK6F,gBAAgBQ;WAEhCO,qBAAIP,uBAAQlB;YACRA,UAAUA,OACVnF,KAAK4F,UAAU9G,SAASuH,UAAUlB,OAClCnF,KAAK6F,gBAAgBQ,UAAUlB;WAEnCyB,qBAAIpC;YACA,OAAOxE,KAAK6F,gBAAgBrB;WAEhCoC,qBAAIpC,qBAAMW;YACNnF,KAAK4F,UAAU9G,SAAS0F,QAAQW,OAChCnF,KAAK6F,gBAAgBrB,QAAQW;WAEjCyB,qBAAIN;YACA,OAAOtG,KAAK6F,gBAAgBS;WAEhCM,qBAAIN,oBAAKnB;YACLnF,KAAK4F,UAAU9G,SAASkI,cAAc7B,OACtCnF,KAAK6F,gBAAgBS,OAAOnB;uCAEhC8B,4BAAiBzE,MAAMb;;;;YAMnB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBlE,IAAIvC,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAG/DkC,qBAAMoD,+BAAiBzE,MAAMb,YAAOmC;uCAE/CoD,+BAAoB1E,MAAMb;;;;YAMtB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBzD,OAAOhD,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAGlEkC,qBAAMqD,kCAAoB1E,MAAMb,YAAOmC;WAElD8C,qBAAIL;YACA,OAAOvG,KAAK6F,gBAAgBU;WAEhCK,qBAAIL,oBAAKpB;;YACDA,SACAA,MAAMgC,OAAOvE,KAAK5C,KAAK4F,UAAU9G,WACjCkB,KAAK4F,UAAU9G,SAASyH,OAAOpB,MAAMvG;YACrCoB,KAAK4F,UAAU9G,SAASsI,KAAK;gBACzBpH,OAAK4F,UAAU9G,SAASuI,OAAO9C,SAASY,MAAMvG;mBAIlDoB,KAAK4F,UAAU9G,SAASyH,OAAO,MAEnCvG,KAAK6F,gBAAgBU,OAAOpB;WAEhCyB,qBAAIJ;YACA,OAAOxG,KAAK6F,gBAAgBW;WAEhCI,qBAAIJ,uBAAQrB;YACR,IAAIA,OAAO;gBAEP,KADAjG,IAAMC,OAAO,IACJG,IAAI,GAAGA,IAAI6F,MAAM3F,QAAQF,KAAK;oBACnCJ,IAAMoI,IAAInC,MAAM7F;oBAChB,MAAIgI,aAAa1H,SAAS2H,oBAA1B;wBAGArI,IAAMsI,IAAI,IAAIhB,gBAAQe;wBACtBC,EAAEC,SAAS,EACPH,EAAEI,eAAe,GAAG,GAAG,GAAGJ,EAAEK,YAAY,KACxC,GAAGL,EAAEM,iBAAiB,GAAG,GAAGN,EAAEO,cAAc,KAC5C,GAAG,GAAGP,EAAEQ,gBAAgB,GAAGR,EAAES,aAAa,KAC1C,GAAG,GAAG,GAAGT,EAAEU,iBAAiBV,EAAEW,cAAc,KAC5C,GAAG,GAAG,GAAG,GAAG;wBAEhB9I,KAAKyD,KAAK4E;;;gBAMd,KAJA,IAAIU,IAAIlI,KAAK4F,UAAU9G,UACnBqJ,IAAID,EAAE9I,UACNgJ,IAAI,IAAIhD,mBACRiD,KAAKrI,KAAK4F,UAAUJ,cAAc4C,EAAE7D,SAAS,IAAIa,oBAC9C+C,EAAE3I;oBACL6I,GAAG9D,SAAS4D,EAAE;;gBAElBD,EAAE3D,SAAS6D,IACXF,EAAEhD,kBAAkBmD,IACpBA,GAAGC,mBACHD,GAAGE;gBACHrJ,IAAMsJ,IAAIH,GAAGI,kBACPhF,IAAI+E,EAAE/E,GACNE,IAAI6E,EAAE7E;gBACZ,KAASrE,IAAI,GAAGA,IAAI+I,GAAGjJ,SAASI,QAAQF,KAAK;oBACzCJ,IAAMO,QAAQ4I,GAAGjJ,SAASE;oBAG1B,IAFAG,MAAMgE,KAAKA,GACXhE,MAAMkE,KAAKA,GACPlE,iBAAiBqF,eAAe;wBAChC5F,IAAMwJ,KAAKjJ,MAAMyF;wBACbwD,OACAA,GAAGC,iBAAgB;;;gBAI/BP,EAAE3E,IAAIA,GACN2E,EAAEzE,IAAIA,GACN0E,GAAG7B,UAAUrH,MACbkJ,GAAGM,iBAAgB;mBAElB;gBACDzJ,IAAMgJ,MAAIlI,KAAK4F,UAAU9G;gBACzB,IAAIoJ,IAAEhD,iBAAiB;oBACnBhG,IAAMmJ,OAAKrI,KAAK4F,UAAUJ,aACpB4C,MAAIC,KAAGhB,QACPc,MAAIE,KAAGjJ;oBAGb,KAFA8I,IAAEU,kBACFV,IAAEhD,kBAAkB,MACbiD,IAAE3I,UAAQ;wBACbN,IAAM2J,IAAIX,IAAE3D,SAAS4D,IAAE;wBACvBU,EAAEpF,KAAK2E,IAAE3E,GACToF,EAAElF,KAAKyE,IAAEzE;;oBAEb0E,KAAG7B,UAAU,IACb6B,KAAGM,iBAAgB,GACnB3I,KAAK4F,UAAUJ,cAAc0C;;;YAGrClI,KAAK6F,gBAAgBW,UAAUrB;uCAEnCZ,oBAAS9E;YAEL,OADAO,KAAK4F,UAAUJ,YAAYjB,SAAS9E,MAAMb,OACnCiF,qBAAMU,oBAAS9E;uCAE1BqJ,sBAAWrJ,OAAOsJ;YAEd,OADA/I,KAAK4F,UAAUJ,YAAYsD,WAAWrJ,MAAMb,MAAMmK,QAC3ClF,qBAAMiF,sBAAWrJ,OAAOsJ;uCAEnCC,uBAAYvJ;YAER,OADAO,KAAK4F,UAAUJ,YAAYwD,YAAYvJ,MAAMb,OACtCiF,qBAAMmF,uBAAYvJ;uCAE7BwJ,yBAAcF;YAEV,OADA/I,KAAK4F,UAAUJ,YAAYyD,cAAcF,QAClClF,qBAAMoF,yBAAcF;uCAE/BG;YAEI,OADAlJ,KAAK4F,UAAUJ,YAAYoD,kBACpB/E,qBAAMqF;;MAnOWtJ,SAAS8F;IAuOzCjF,OAAO0I,iBAAiBxD,kBAAkByD,WAAW;QACjDvD,iBAAiB;YACbV,OApiBG;gBACH1B,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;;YAuhBT6C,WAAU;;QAEdzD,WAAW;YACPT,OAAOE,wBAAwB9E,aAAaoF,kBAAkByD;YAC9DC,WAAU;;;IAOlB,IAAMC;QACF,oBAAYtK;YACR6E,mBACA7D,KAAKgF,YAAYhG;;;;;;;;;eAErBuK,qBAAI3J;YACA,OAAOI,KAAKgF;;MANKwE;IAkBzB,SAASC,qBAAqBzK;QAC1BE,IAAMN,OAAO,IAAI0K,WAAWtK;QAC5B,OAAOL,eAAeC,MAAMA,KAAK8K;;IAKrCxK,IAAMyK,MAAM/J,SAAS4J,QAIfI;QACF;;;;YACI/F,uBAASC,OACT9D,KAAK4F,YAAY6D,qBAAqBzJ,OACtCA,KAAK6F,kBAjlBF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eAokBTxG,KAAKyG,wBAAwB,IAAI3F,aAAad,OAC9C2J,IAAIjD,MAAM1G,MAAM8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wCAEpB6C;;;;YAII,OAHA3G,KAAK4F,YAAY6D,qBAAqBzJ,OACtCA,KAAK6F,kBAvlBF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eA0kBTxG,KAAKyG,wBAAwB,IAAI3F,aAAad,OACvC6D,qBAAM8C,uBAAc7C;WAE/B+F,qBAAIjL;YACA,OAAOoB,KAAK4F,UAAU9G;oCAE1Ba,yBAAcV;YACV,QAAO;WAEX4K,qBAAIpG;YACA,OAAOzD,KAAK6F,gBAAgBpC;WAEhCoG,qBAAIpG,iBAAE0B;YACFnF,KAAK4F,UAAU9G,SAAS2E,IAAI0B,OAC5BnF,KAAK6F,gBAAgBpC,IAAI0B;WAE7B0E,qBAAIlG;YACA,OAAO3D,KAAK6F,gBAAgBlC;WAEhCkG,qBAAIlG,iBAAEwB;YACFnF,KAAK4F,UAAU9G,SAAS6E,IAAIwB,OAC5BnF,KAAK6F,gBAAgBlC,IAAIwB;WAE7B0E,qBAAI/D;YACA,OAAO9F,KAAK6F,gBAAgBC;WAEhC+D,qBAAI/D,sBAAOX;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMrD,IAAI0B,OAClCnF,KAAK6F,gBAAgBC,SAASX;WAElC0E,qBAAI9D;YACA,OAAO/F,KAAK6F,gBAAgBE;WAEhC8D,qBAAI9D,sBAAOZ;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMnD,IAAIwB,OAClCnF,KAAK6F,gBAAgBE,SAASZ;WAElC0E,qBAAI3D;YACA,OAAOlG,KAAK6F,gBAAgBK;WAEhC2D,qBAAI3D,qBAAMf;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKtD,KAAK0B,QAAQxE,YAC1CX,KAAK6F,gBAAgBK,QAAQf;WAEjC0E,qBAAI1D;YACA,OAAOnG,KAAK6F,gBAAgBM;WAEhC0D,qBAAI1D,qBAAMhB;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKpD,IAAIwB,QAAQxE,YACzCX,KAAK6F,gBAAgBM,QAAQhB;WAEjC0E,qBAAI7D;YACA,OAAOhG,KAAK6F,gBAAgBG;WAEhC6D,qBAAI7D,oBAAKb;YACLnF,KAAK4F,UAAU/G,OAAO4E,IAAI0B,OAC1BnF,KAAK6F,gBAAgBG,OAAOb;WAEhC0E,qBAAI5D;YACA,OAAOjG,KAAK6F,gBAAgBI;WAEhC4D,qBAAI5D,oBAAKd;YACLnF,KAAK4F,UAAU/G,OAAO8E,IAAIwB,OAC1BnF,KAAK6F,gBAAgBI,OAAOd;WAEhC0E,qBAAIzD;YACA,OAAOpG,KAAK6F,gBAAgBO;WAEhCyD,qBAAIzD,wBAASjB;YACTnF,KAAK4F,UAAU9G,SAASsH,WAAWjB,QAAQxE,YAC3CX,KAAK6F,gBAAgBO,WAAWjB;WAEpC0E,qBAAIxD;YACA,OAAOrG,KAAK6F,gBAAgBQ;WAEhCwD,qBAAIxD,uBAAQlB;YACRA,UAAUA,OACVnF,KAAK4F,UAAU9G,SAASuH,UAAUlB,OAClCnF,KAAK6F,gBAAgBQ,UAAUlB;WAEnC0E,qBAAIrF;YACA,OAAOxE,KAAK6F,gBAAgBrB;WAEhCqF,qBAAIrF,qBAAMW;YACNnF,KAAK4F,UAAU9G,SAAS0F,QAAQW,OAChCnF,KAAK6F,gBAAgBrB,QAAQW;WAEjC0E,qBAAIvD;YACA,OAAOtG,KAAK6F,gBAAgBS;WAEhCuD,qBAAIvD,oBAAKnB;YACLnF,KAAK4F,UAAU9G,SAASkI,cAAc7B,OACtCnF,KAAK6F,gBAAgBS,OAAOnB;oCAEhC8B,4BAAiBzE,MAAMb;;;;YAMnB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBlE,IAAIvC,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAG/DkC,qBAAMoD,+BAAiBzE,MAAMb,YAAOmC;oCAE/CoD,+BAAoB1E,MAAMb;;;;YAMtB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBzD,OAAOhD,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAGlEkC,qBAAMqD,kCAAoB1E,MAAMb,YAAOmC;WAElD+F,qBAAItD;YACA,OAAOvG,KAAK6F,gBAAgBU;WAEhCsD,qBAAItD,oBAAKpB;;YACDA,SACAA,MAAMgC,OAAOvE,KAAK5C,KAAK4F,UAAU9G,WACjCkB,KAAK4F,UAAU9G,SAASyH,OAAOpB,MAAMvG;YACrCoB,KAAK4F,UAAU9G,SAASsI,KAAK;gBACzBpH,OAAK4F,UAAU9G,SAASuI,OAAO9C,SAASY,MAAMvG;mBAIlDoB,KAAK4F,UAAU9G,SAASyH,OAAO,MAEnCvG,KAAK6F,gBAAgBU,OAAOpB;oCAEhCd;;;;YACIR,qBAAMQ,wBAAeP;YACrB5E,IAAM4K,QAAQ9J,KAAK+J,YAAYC,SAAShK,KAAKiK,eACvCC,cAAcC,oBAAYC,KAAKN,MAAMO,QACrCC,UAAU,IAAIC,gBAAQL,aAAaJ,MAAMU;YAC/CxK,KAAK4F,UAAU9G,SAASwL,UAAUA;;MA9Ib1K,SAAS4J;IAkJtC/I,OAAO0I,iBAAiBS,eAAeR,WAAW;QAC9CvD,iBAAiB;YACbV,OAjuBG;gBACH1B,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;;YAotBT6C,WAAU;;QAEdzD,WAAW;YACPT,OAAOsE,qBAAqBlJ,aAAaqJ,eAAeR;YACxDC,WAAU;;;IAOlB,IAAMoB;QACF,mBAAYzL;YACR6E,sBACA7D,KAAKgF,YAAYhG;;;;;;;;;eAErB0L,qBAAI9K;YACA,OAAOI,KAAKgF;;MANII;IAYxB,SAASuF,0BAA0BC;QAC/B,OAAOnK,OAAO6E,OA1vBP;YACH7B,GAAG;YACHE,GAAG;YACHmC,QAAQ;YACRC,QAAQ;YACRC,MAAM;YACNC,MAAM;YACNC,OAAO;YACPC,OAAO;YACPC,UAAU;YACVC,UAAS;YACT7B,OAAO;YACP8B,OAAM;YACNC,MAAM;YACNC,SAAS;WA4uBgC;sBACzCoE;;;IAMR,SAASC,oBAAoB7L;QACzBE,IAAMN,OAAO,IAAI6L,UAAUzL;QAC3B,OAAOyB,OAAO6E,OAAO3G,eAAeC,MAAMA,KAAK2G,QAAQ;YACnD4B,QAAQ;;;IAMhBjI,IAAM4L,MAAMlL,SAASmL,OAIfC;QACF;;;;YACInH,uBAASC,OACT9D,KAAK4F,YAAYiF,oBAAoB7K,OACrCA,KAAK6F,kBAAkB8E,0BAA0B;YACjD3K,KAAKyG,wBAAwB,IAAI3F,aAAad,OAC9C8K,IAAIpE,MAAM1G,MAAM8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uCAEpB6C;;;;YAII,OAHA3G,KAAK4F,YAAYiF,oBAAoB7K,OACrCA,KAAK6F,kBAAkB8E,0BAA0B;YACjD3K,KAAKyG,wBAAwB,IAAI3F,aAAad,OACvC6D,qBAAM8C,uBAAc7C;WAE/BmH,qBAAIrM;YACA,OAAOoB,KAAK4F,UAAU9G;mCAE1Ba,yBAAcV;YACV,QAAO;WAEXgM,qBAAIxH;YACA,OAAOzD,KAAK6F,gBAAgBpC;WAEhCwH,qBAAIxH,iBAAE0B;YACFnF,KAAK4F,UAAU9G,SAAS2E,IAAI0B,OAC5BnF,KAAK6F,gBAAgBpC,IAAI0B;WAE7B8F,qBAAItH;YACA,OAAO3D,KAAK6F,gBAAgBlC;WAEhCsH,qBAAItH,iBAAEwB;YACFnF,KAAK4F,UAAU9G,SAAS6E,IAAIwB,OAC5BnF,KAAK6F,gBAAgBlC,IAAIwB;WAE7B8F,qBAAInF;YACA,OAAO9F,KAAK6F,gBAAgBC;WAEhCmF,qBAAInF,sBAAOX;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMrD,IAAI0B,OAClCnF,KAAK6F,gBAAgBC,SAASX;WAElC8F,qBAAIlF;YACA,OAAO/F,KAAK6F,gBAAgBE;WAEhCkF,qBAAIlF,sBAAOZ;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMnD,IAAIwB,OAClCnF,KAAK6F,gBAAgBE,SAASZ;WAElC8F,qBAAI/E;YACA,OAAOlG,KAAK6F,gBAAgBK;WAEhC+E,qBAAI/E,qBAAMf;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKtD,KAAK0B,QAAQxE,YAC1CX,KAAK6F,gBAAgBK,QAAQf;WAEjC8F,qBAAI9E;YACA,OAAOnG,KAAK6F,gBAAgBM;WAEhC8E,qBAAI9E,qBAAMhB;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKpD,IAAIwB,QAAQxE,YACzCX,KAAK6F,gBAAgBM,QAAQhB;WAEjC8F,qBAAIjF;YACA,OAAOhG,KAAK6F,gBAAgBG;WAEhCiF,qBAAIjF,oBAAKb;YACLnF,KAAK4F,UAAU/G,OAAO4E,IAAI0B,OAC1BnF,KAAK6F,gBAAgBG,OAAOb;WAEhC8F,qBAAIhF;YACA,OAAOjG,KAAK6F,gBAAgBI;WAEhCgF,qBAAIhF,oBAAKd;YACLnF,KAAK4F,UAAU/G,OAAO8E,IAAIwB,OAC1BnF,KAAK6F,gBAAgBI,OAAOd;WAEhC8F,qBAAI7E;YACA,OAAOpG,KAAK6F,gBAAgBO;WAEhC6E,qBAAI7E,wBAASjB;YACTnF,KAAK4F,UAAU9G,SAASsH,WAAWjB,QAAQxE,YAC3CX,KAAK6F,gBAAgBO,WAAWjB;WAEpC8F,qBAAI5E;YACA,OAAOrG,KAAK6F,gBAAgBQ;WAEhC4E,qBAAI5E,uBAAQlB;YACRA,UAAUA,OACVnF,KAAK4F,UAAU9G,SAASuH,UAAUlB,OAClCnF,KAAK6F,gBAAgBQ,UAAUlB;WAEnC8F,qBAAIzG;YACA,OAAOxE,KAAK6F,gBAAgBrB;WAEhCyG,qBAAIzG,qBAAMW;YACNnF,KAAK4F,UAAU9G,SAAS0F,QAAQW,OAChCnF,KAAK6F,gBAAgBrB,QAAQW;WAEjC8F,qBAAI3E;YACA,OAAOtG,KAAK6F,gBAAgBS;WAEhC2E,qBAAI3E,oBAAKnB;YACLnF,KAAK4F,UAAU9G,SAASkI,cAAc7B,OACtCnF,KAAK6F,gBAAgBS,OAAOnB;mCAEhC8B,4BAAiBzE,MAAMb;;;;YAMnB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBlE,IAAIvC,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAG/DkC,qBAAMoD,+BAAiBzE,MAAMb,YAAOmC;mCAE/CoD,+BAAoB1E,MAAMb;;;;YAMtB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBzD,OAAOhD,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAGlEkC,qBAAMqD,kCAAoB1E,MAAMb,YAAOmC;WAElDmH,qBAAI1E;YACA,OAAOvG,KAAK6F,gBAAgBU;WAEhC0E,qBAAI1E,oBAAKpB;;YACDA,SACAA,MAAMgC,OAAOvE,KAAK5C,KAAK4F,UAAU9G,WACjCkB,KAAK4F,UAAU9G,SAASyH,OAAOpB,MAAMvG;YACrCoB,KAAK4F,UAAU9G,SAASsI,KAAK;gBACzBpH,OAAK4F,UAAU9G,SAASuI,OAAO9C,SAASY,MAAMvG;mBAIlDoB,KAAK4F,UAAU9G,SAASyH,OAAO,MAEnCvG,KAAK6F,gBAAgBU,OAAOpB;WAEhC8F,qBAAIL;YACA,OAAO5K,KAAK6F,gBAAgB+E;WAEhCK,qBAAIL,wBAASzF;YACT,IAAInF,KAAK4F,UAAUuB,OAAO3H;gBAEtB,IADAQ,KAAK4F,UAAU9G,SAAS8J,kBACpBzD;oBACA,KAAKV,IAAInF,IAAI,GAAGA,IAAIU,KAAK4F,UAAUuB,OAAO3H,QAAQF;wBAC9CU,KAAK4F,UAAUuB,OAAO7H,GAAGiH,OAAOvG,KAAK4F,UAAU9G;;;oBAInD,KAAK2F,IAAInF,MAAI,GAAGA,MAAIU,KAAK4F,UAAUuB,OAAO3H,QAAQF;wBAC9CU,KAAK4F,UAAUuB,OAAO7H,KAAGiH,OAAO;;;;YAIxCpB,SACAnF,KAAK4F,UAAU9G,SAASyF,SAASY,MAAMvG,OAE3CoB,KAAK6F,gBAAgB+E,WAAWzF;WAEpC8F,qBAAI9D;YACA,OAAOnH,KAAK4F,UAAUuB;;MAhKFvH,SAASmL;IAoKrCtK,OAAO0I,iBAAiB6B,cAAc5B,WAAW;QAC7CvD,iBAAiB;YACbV,OAAOwF,0BAA0B;YACjCtB,WAAU;;QAEdzD,WAAW;YACPT,OAAO0F,oBAAoBtK,aAAayK,cAAc5B;YACtDC,WAAU;;;IAOlB,IAAM6B;QACF,oBAAYlM;YACR6E,mBACA7D,KAAKgF,YAAYhG;;;;;;;;;eAErBmM,qBAAIvL;YACA,OAAOI,KAAKgF;;MANKwE;IAkBzB,SAAS4B,qBAAqBpM;QAC1BE,IAAMN,OAAO,IAAIsM,WAAWlM;QAC5B,OAAOL,eAAeC,MAAMA,KAAK8K;;IAKrCxK,IAAMmM,MAAMzL,SAAS0L,QAIfC;QACF;;;;YACI1H,uBAASC,OACT9D,KAAK4F,YAAYwF,qBAAqBpL,OACtCA,KAAK6F,kBAj+BF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eAo9BTxG,KAAKyG,wBAAwB,IAAI3F,aAAad,OAC9CqL,IAAI3E,MAAM1G,MAAM8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wCAEpB6C;;;;YACI3G,KAAK4F,YAAYwF,qBAAqBpL,OACtCA,KAAK6F,kBAv+BF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eA09BTxG,KAAKyG,wBAAwB,IAAI3F,aAAad;YAC9Cd,IAAMsM,MAAM3H,qBAAM8C,uBAAc7C,OAC1BwG,UAAUC,gBAAQH,KAAKpK,KAAKqK;YAElC,OADArK,KAAK4F,UAAU9G,SAASwL,UAAUA,SAC3BkB;WAEXC,qBAAI7M;YACA,OAAOoB,KAAK4F,UAAU9G;oCAE1Ba,yBAAcV;YACV,QAAO;WAEXwM,qBAAIhI;YACA,OAAOzD,KAAK6F,gBAAgBpC;WAEhCgI,qBAAIhI,iBAAE0B;YACFnF,KAAK4F,UAAU9G,SAAS2E,IAAI0B,OAC5BnF,KAAK6F,gBAAgBpC,IAAI0B;WAE7BsG,qBAAI9H;YACA,OAAO3D,KAAK6F,gBAAgBlC;WAEhC8H,qBAAI9H,iBAAEwB;YACFnF,KAAK4F,UAAU9G,SAAS6E,IAAIwB,OAC5BnF,KAAK6F,gBAAgBlC,IAAIwB;WAE7BsG,qBAAI3F;YACA,OAAO9F,KAAK6F,gBAAgBC;WAEhC2F,qBAAI3F,sBAAOX;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMrD,IAAI0B,OAClCnF,KAAK6F,gBAAgBC,SAASX;WAElCsG,qBAAI1F;YACA,OAAO/F,KAAK6F,gBAAgBE;WAEhC0F,qBAAI1F,sBAAOZ;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMnD,IAAIwB,OAClCnF,KAAK6F,gBAAgBE,SAASZ;WAElCsG,qBAAIvF;YACA,OAAOlG,KAAK6F,gBAAgBK;WAEhCuF,qBAAIvF,qBAAMf;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKtD,KAAK0B,QAAQxE,YAC1CX,KAAK6F,gBAAgBK,QAAQf;WAEjCsG,qBAAItF;YACA,OAAOnG,KAAK6F,gBAAgBM;WAEhCsF,qBAAItF,qBAAMhB;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKpD,IAAIwB,QAAQxE,YACzCX,KAAK6F,gBAAgBM,QAAQhB;WAEjCsG,qBAAIzF;YACA,OAAOhG,KAAK6F,gBAAgBG;WAEhCyF,qBAAIzF,oBAAKb;YACLnF,KAAK4F,UAAU/G,OAAO4E,IAAI0B,OAC1BnF,KAAK6F,gBAAgBG,OAAOb;WAEhCsG,qBAAIxF;YACA,OAAOjG,KAAK6F,gBAAgBI;WAEhCwF,qBAAIxF,oBAAKd;YACLnF,KAAK4F,UAAU/G,OAAO8E,IAAIwB,OAC1BnF,KAAK6F,gBAAgBI,OAAOd;WAEhCsG,qBAAIrF;YACA,OAAOpG,KAAK6F,gBAAgBO;WAEhCqF,qBAAIrF,wBAASjB;YACTnF,KAAK4F,UAAU9G,SAASsH,WAAWjB,QAAQxE,YAC3CX,KAAK6F,gBAAgBO,WAAWjB;WAEpCsG,qBAAIpF;YACA,OAAOrG,KAAK6F,gBAAgBQ;WAEhCoF,qBAAIpF,uBAAQlB;YACRA,UAAUA,OACVnF,KAAK4F,UAAU9G,SAASuH,UAAUlB,OAClCnF,KAAK6F,gBAAgBQ,UAAUlB;WAEnCsG,qBAAIjH;YACA,OAAOxE,KAAK6F,gBAAgBrB;WAEhCiH,qBAAIjH,qBAAMW;YACNnF,KAAK4F,UAAU9G,SAAS0F,QAAQW,OAChCnF,KAAK6F,gBAAgBrB,QAAQW;WAEjCsG,qBAAInF;YACA,OAAOtG,KAAK6F,gBAAgBS;WAEhCmF,qBAAInF,oBAAKnB;YACLnF,KAAK4F,UAAU9G,SAASkI,cAAc7B,OACtCnF,KAAK6F,gBAAgBS,OAAOnB;oCAEhC8B,4BAAiBzE,MAAMb;;;;YAMnB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBlE,IAAIvC,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAG/DkC,qBAAMoD,+BAAiBzE,MAAMb,YAAOmC;oCAE/CoD,+BAAoB1E,MAAMb;;;;YAMtB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBzD,OAAOhD,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAGlEkC,qBAAMqD,kCAAoB1E,MAAMb,YAAOmC;WAElD2H,qBAAIlF;YACA,OAAOvG,KAAK6F,gBAAgBU;WAEhCkF,qBAAIlF,oBAAKpB;;YACDA,SACAA,MAAMgC,OAAOvE,KAAK5C,KAAK4F,UAAU9G,WACjCkB,KAAK4F,UAAU9G,SAASyH,OAAOpB,MAAMvG;YACrCoB,KAAK4F,UAAU9G,SAASsI,KAAK;gBACzBpH,OAAK4F,UAAU9G,SAASuI,OAAO9C,SAASY,MAAMvG;mBAIlDoB,KAAK4F,UAAU9G,SAASyH,OAAO,MAEnCvG,KAAK6F,gBAAgBU,OAAOpB;;MA1IPvF,SAAS0L;IA8ItC7K,OAAO0I,iBAAiBoC,eAAenC,WAAW;QAC9CvD,iBAAiB;YACbV,OA7mCG;gBACH1B,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;;YAgmCT6C,WAAU;;QAEdzD,WAAW;YACPT,OAAOiG,qBAAqB7K,aAAagL,eAAenC;YACxDC,WAAU;;;IAOlB,IAAMqC;QACF,sBAAY1M;YACR6E,qBACA7D,KAAKgF,YAAYhG;;;;;;;;;eAErB2M,qBAAI/L;YACA,OAAOI,KAAKgF;;MANO4G;IAkB3B,SAASC,uBAAuB7M;QAC5BE,IAAMN,OAAO,IAAI8M,aAAa1M;QAC9B,OAAOyB,OAAO6E,OAAO3G,eAAeC,MAAMA,KAAK2G,QAAQ;YACnDuG,YAAY;YACZC,aAAa;;;IAMrB7M,IAQM8M,UAAU;QACZC,GAAGC,iBAASC;QACZC,GAAGF,iBAASG;QACZC,GAAGJ,iBAASK;OAKVC,WAAW;QACbP,GAAGQ,kBAAUC;QACbN,GAAGK,kBAAUJ;QACbC,GAAGG,kBAAUE;OAKXC,MAAMhN,SAASgM,UAIfiB;QACF;;;;YACIhJ,uBAASC,OACT9D,KAAK4F,YAAYiG,uBAAuB7L,OACxCA,KAAK6F,kBArrCF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eAwqCTxG,KAAKyG,wBAAwB,IAAI3F,aAAad,OAC9C4M,IAAIlG,MAAM1G,MAAM8D,OAChB9D,KAAK4F,UAAU9G,SAASgO,UAAU,UAAU;YAC5C9M,KAAK4F,UAAUkG,aAAa,GAC5B9L,KAAK4F,UAAUmG,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAEjCpF;;;;YAII,OAHA3G,KAAK4F,YAAYiG,uBAAuB7L,OACxCA,KAAK6F,kBA9rCF;gBACHpC,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;eAirCTxG,KAAKyG,wBAAwB,IAAI3F,aAAad,OACvC6D,qBAAM8C,uBAAc7C;WAE/BiJ,qBAAInO;YACA,OAAOoB,KAAK4F,UAAU9G;sCAE1Ba,yBAAcV;YACV,QAAO;WAEX8N,qBAAItJ;YACA,OAAOzD,KAAK6F,gBAAgBpC;WAEhCsJ,qBAAItJ,iBAAE0B;YACFnF,KAAK4F,UAAU9G,SAAS2E,IAAI0B,OAC5BnF,KAAK6F,gBAAgBpC,IAAI0B;WAE7B4H,qBAAIpJ;YACA,OAAO3D,KAAK6F,gBAAgBlC;WAEhCoJ,qBAAIpJ,iBAAEwB;YACFnF,KAAK4F,UAAU9G,SAAS6E,IAAIwB,OAC5BnF,KAAK6F,gBAAgBlC,IAAIwB;WAE7B4H,qBAAIjH;YACA,OAAO9F,KAAK6F,gBAAgBC;WAEhCiH,qBAAIjH,sBAAOX;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMrD,IAAI0B,OAClCnF,KAAK6F,gBAAgBC,SAASX;WAElC4H,qBAAIhH;YACA,OAAO/F,KAAK6F,gBAAgBE;WAEhCgH,qBAAIhH,sBAAOZ;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMnD,IAAIwB,OAClCnF,KAAK6F,gBAAgBE,SAASZ;WAElC4H,qBAAI7G;YACA,OAAOlG,KAAK6F,gBAAgBK;WAEhC6G,qBAAI7G,qBAAMf;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKtD,KAAK0B,QAAQxE,YAC1CX,KAAK6F,gBAAgBK,QAAQf;WAEjC4H,qBAAI5G;YACA,OAAOnG,KAAK6F,gBAAgBM;WAEhC4G,qBAAI5G,qBAAMhB;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKpD,IAAIwB,QAAQxE,YACzCX,KAAK6F,gBAAgBM,QAAQhB;WAEjC4H,qBAAI/G;YACA,OAAOhG,KAAK6F,gBAAgBG;WAEhC+G,qBAAI/G,oBAAKb;YACLnF,KAAK4F,UAAU/G,OAAO4E,IAAI0B,OAC1BnF,KAAK6F,gBAAgBG,OAAOb;WAEhC4H,qBAAI9G;YACA,OAAOjG,KAAK6F,gBAAgBI;WAEhC8G,qBAAI9G,oBAAKd;YACLnF,KAAK4F,UAAU/G,OAAO8E,IAAIwB,OAC1BnF,KAAK6F,gBAAgBI,OAAOd;WAEhC4H,qBAAI3G;YACA,OAAOpG,KAAK6F,gBAAgBO;WAEhC2G,qBAAI3G,wBAASjB;YACTnF,KAAK4F,UAAU9G,SAASsH,WAAWjB,QAAQxE,YAC3CX,KAAK6F,gBAAgBO,WAAWjB;WAEpC4H,qBAAI1G;YACA,OAAOrG,KAAK6F,gBAAgBQ;WAEhC0G,qBAAI1G,uBAAQlB;YACRA,UAAUA,OACVnF,KAAK4F,UAAU9G,SAASuH,UAAUlB,OAClCnF,KAAK6F,gBAAgBQ,UAAUlB;WAEnC4H,qBAAIvI;YACA,OAAOxE,KAAK6F,gBAAgBrB;WAEhCuI,qBAAIvI,qBAAMW;YACNnF,KAAK4F,UAAU9G,SAAS0F,QAAQW,OAChCnF,KAAK6F,gBAAgBrB,QAAQW;WAEjC4H,qBAAIzG;YACA,OAAOtG,KAAK6F,gBAAgBS;WAEhCyG,qBAAIzG,oBAAKnB;YACLnF,KAAK4F,UAAU9G,SAASkI,cAAc7B,OACtCnF,KAAK6F,gBAAgBS,OAAOnB;sCAEhC8B,4BAAiBzE,MAAMb;;;;YAMnB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBlE,IAAIvC,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAG/DkC,qBAAMoD,+BAAiBzE,MAAMb,YAAOmC;sCAE/CoD,+BAAoB1E,MAAMb;;;;YAMtB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBzD,OAAOhD,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAGlEkC,qBAAMqD,kCAAoB1E,MAAMb,YAAOmC;WAElDiJ,qBAAIxG;YACA,OAAOvG,KAAK6F,gBAAgBU;WAEhCwG,qBAAIxG,oBAAKpB;;YACDA,SACAA,MAAMgC,OAAOvE,KAAK5C,KAAK4F,UAAU9G,WACjCkB,KAAK4F,UAAU9G,SAASyH,OAAOpB,MAAMvG;YACrCoB,KAAK4F,UAAU9G,SAASsI,KAAK;gBACzBpH,OAAK4F,UAAU9G,SAASuI,OAAO9C,SAASY,MAAMvG;mBAIlDoB,KAAK4F,UAAU9G,SAASyH,OAAO,MAEnCvG,KAAK6F,gBAAgBU,OAAOpB;sCAGhC6H,kBAAOvJ,GAAGE;YAQN,OAPI3D,KAAK4F,UAAU9G,SAASmO,QAAQC,UAAUC,cAAc;gBAAE1J,GAAGA;gBAAGE,GAAGA;iBACnE3D,KAAK4F,UAAU9G,SAASsO,cAGxBpN,KAAK4F,UAAU9G,SAASuO,WAE5BrN,KAAK4F,UAAU9G,SAASkO,OAAOvJ,GAAGE;YAC3BE,qBAAMmJ,kBAAOvJ,GAAGE;sCAE3B2J,cAAG7J,GAAGE;YACF,OAAO3D,KAAKgN,OAAOvJ,GAAGE;sCAE1B4J,kBAAO9J,GAAGE;YAEN,OADA3D,KAAK4F,UAAU9G,SAASyO,OAAO9J,GAAGE,IAC3BE,qBAAM0J,kBAAO9J,GAAGE;sCAE3B6J,cAAG/J,GAAGE;YACF,OAAO3D,KAAKuN,OAAO9J,GAAGE;sCAE1B8J,iBAAMC,IAAIC,IAAIC,IAAIC,IAAIC;YAElB,OADA9N,KAAK4F,UAAU9G,SAAS2O,MAAMC,IAAIC,IAAIC,IAAIC,IAAIC,SACvCjK,qBAAM4J,iBAAMC,IAAIC,IAAIC,IAAIC,IAAIC;sCAEvCC,cAAGL,IAAIC,IAAIC,IAAIC,IAAIC;YACf,OAAO9N,KAAKyN,MAAMC,IAAIC,IAAIC,IAAIC,IAAIC;sCAEtCE,eAAIvK,GAAGE,GAAGmK,QAAQG,YAAYC,UAAUC;YAEpC,OADAnO,KAAK4F,UAAU9G,SAASkP,IAAIvK,GAAGE,GAAGmK,QAAQG,YAAYC,UAAUC;YACzDtK,qBAAMmK,eAAIvK,GAAGE,GAAGmK,QAAQG,YAAYC,UAAUC;sCAEzDC,aAAE3K,GAAGE,GAAGmK,QAAQG,YAAYC,UAAUC;YAClC,OAAOnO,KAAKgO,IAAIvK,GAAGE,GAAGmK,QAAQG,YAAYC,UAAUC;sCAExDE,4BAAiBC,KAAKC,KAAK9K,GAAGE;YAE1B,OADA3D,KAAK4F,UAAU9G,SAASuP,iBAAiBC,KAAKC,KAAK9K,GAAGE,IAC/CE,qBAAMwK,4BAAiBC,KAAKC,KAAK9K,GAAGE;sCAE/C6K,cAAGF,KAAKC,KAAK9K,GAAGE;YACZ,OAAO3D,KAAKqO,iBAAiBC,KAAKC,KAAK9K,GAAGE;sCAE9C8K,mBAAQH,KAAKC,KAAK9K,GAAGE;YACjB,OAAO3D,KAAKqO,iBAAiBC,KAAKC,KAAK9K,GAAGE;sCAE9C+K,yBAAcC,MAAMC,MAAMC,MAAMC,MAAMrL,GAAGE;YAErC,OADA3D,KAAK4F,UAAU9G,SAAS4P,cAAcC,MAAMC,MAAMC,MAAMC,MAAMrL,GAAGE,IAC1DE,qBAAM6K,yBAAcC,MAAMC,MAAMC,MAAMC,MAAMrL,GAAGE;sCAE1DoL,cAAGJ,MAAMC,MAAMC,MAAMC,MAAMrL,GAAGE;YAC1B,OAAO3D,KAAK0O,cAAcC,MAAMC,MAAMC,MAAMC,MAAMrL,GAAGE;sCAEzD6G,gBAAK/G,GAAGE,GAAGqL,GAAGC;YAEV,OADAjP,KAAK4F,UAAU9G,SAASoQ,SAASzL,GAAGE,GAAGqL,GAAGC,IACnCpL,qBAAM2G,gBAAK/G,GAAGE,GAAGqL,GAAGC;sCAE/BE,aAAE1L,GAAGE,GAAGqL,GAAGC;YACP,OAAOjP,KAAKwK,KAAK/G,GAAGE,GAAGqL,GAAGC;sCAE9BC,oBAASzL,GAAGE,GAAGqL,GAAGC;YACd,OAAOjP,KAAKwK,KAAK/G,GAAGE,GAAGqL,GAAGC;sCAE9BG,cAAG3L,GAAGE,GAAGqL,GAAGC;YACR,OAAOjP,KAAKwK,KAAK/G,GAAGE,GAAGqL,GAAGC;sCAE9BI;YAEI,OADArP,KAAK4F,UAAU9G,SAASuQ,aACjBxL,qBAAMwL;sCAEjBC;YACI,OAAOtP,KAAKqP;sCAEhBE;YAEI,OADAvP,KAAK4F,UAAU9G,SAASyQ,SACjB1L,qBAAM0L;sCAEjBpH;YACI,OAAOnI,KAAKuP;sCAEhBC,uBAAYC;YACRvQ,IAAMsM,MAAM;gBACRiE,OAAO;gBACPjL,OAAO;;YAEX,KAAKiL;gBAED,OADAjE,IAAIhH,QAAQ,GACLgH;;YAEX,IAAwB,QAApBiE,MAAMC,OAAO;gBAEb,OADAlE,IAAIiE,QAAQE,SAASF,MAAMpQ,MAAM,IAAI,KAC9BmM;;YAEXtM,IAAM0Q,SAASH,MAAMI,QAAQ,kBAAkB,IAAIC,MAAM;YAGzD,OAFAtE,IAAIiE,QArQM,QAqQEM,OAAOH,OAAO,MAjQd,MAiQgCG,OAAOH,OAAO,MAAoBG,OAAOH,OAAO;YAC5FpE,IAAIhH,QAAQuL,OAAOH,OAAO,KACnBpE;sCAEXsB,qBAAU2C;YACNvQ,IAAMiJ,IAAInI,KAAKwP,YAAYC;YAE3B,OADAzP,KAAK4F,UAAU9G,SAASgO,UAAU3E,EAAEsH,OAAOtH,EAAE3D,QACtCX,qBAAMiJ,qBAAU2C;sCAE3BnI,aAAEmI;YACE,OAAOzP,KAAK8M,UAAU2C;sCAE1BvC;YAEI,OADAlN,KAAK4F,UAAU9G,SAASoO,WACjBrJ,qBAAMqJ;sCAEjB8C;YACI,OAAOhQ,KAAKkN;sCAEhB+C,0BAAeC,WAAWC,MAAMC,QAAQC,YAAYC;YAShD,OARAtQ,KAAK4F,UAAU9G,SAASyR,iBAAiB;gBACrCC,OAAON;gBACPT,OAAOzP,KAAK4F,UAAUkG;gBACtBtH,OAAOxE,KAAK4F,UAAUmG;gBACtB0E,KAAMN,QAAQnE,UAAWA,QAAQmE,QAAQnE,QAAQ;gBACjD0E,MAAON,UAAU5D,WAAYA,SAAS4D,UAAU5D,SAAS;4BACzD6D;gBAEGxM,qBAAMoM,0BAAeC,WAAWC,MAAMC,QAAQC,YAAYC;sCAErEK,cAAGT,WAAWC,MAAMC,QAAQC,YAAYC;YACpC,OAAOtQ,KAAKiQ,eAAeC,WAAWC,MAAMC,QAAQC,YAAYC;sCAEpEM,uBAAYnB;YACRvQ,IAAMiJ,IAAInI,KAAKwP,YAAYC;YAG3B,OAFAzP,KAAK4F,UAAUkG,aAAa3D,EAAEsH,OAC9BzP,KAAK4F,UAAUmG,cAAc5D,EAAE3D;YACxBX,qBAAM+M,uBAAYnB;sCAE7BoB,aAAEpB;YACE,OAAOzP,KAAK4Q,YAAYnB;sCAE5BqB,yBAAcrN,GAAGE,GAAGqL,GAAGC,GAAGnB;YAEtB,OADA9N,KAAK4F,UAAU9G,SAASiS,gBAAgBtN,GAAGE,GAAGqL,GAAGC,GAAGnB,SAC7CjK,qBAAMiN,yBAAcrN,GAAGE,GAAGqL,GAAGC,GAAGnB;sCAE3CkD,cAAGvN,GAAGE,GAAGqL,GAAGC,GAAGnB;YACX,OAAO9N,KAAK8Q,cAAcrN,GAAGE,GAAGqL,GAAGC,GAAGnB;sCAE1CmD,sBAAWxN,GAAGE,GAAGmK;YAEb,OADA9N,KAAK4F,UAAU9G,SAASmS,WAAWxN,GAAGE,GAAGmK,SAClCjK,qBAAMoN,sBAAWxN,GAAGE,GAAGmK;sCAElCoD,cAAGzN,GAAGE,GAAGmK;YACL,OAAO9N,KAAKiR,WAAWxN,GAAGE,GAAGmK;sCAEjCqD,uBAAY1N,GAAGE,GAAGqL,GAAGC;YAEjB,OADAjP,KAAK4F,UAAU9G,SAASqS,YAAY1N,GAAGE,GAAGqL,GAAGC,IACtCpL,qBAAMsN,uBAAY1N,GAAGE,GAAGqL,GAAGC;sCAEtCmC,cAAG3N,GAAGE,GAAGqL,GAAGC;YACR,OAAOjP,KAAKmR,YAAY1N,GAAGE,GAAGqL,GAAGC;sCAErCoC,wBAAa5N,GAAGE,GAAGmK,QAAQwD,OAAOC,WAAWC;YAEzC,OADAxR,KAAK4F,UAAU9G,SAAS2S,mBAAmBhO,GAAGE,GAAGmK,QAAQwD,OAAOE,QAAQ7Q;YACjEkD,qBAAMwN,wBAAa5N,GAAGE,GAAGmK,QAAQwD,OAAOC,WAAWC;sCAE9DE,cAAGjO,GAAGE,GAAGmK,QAAQwD,OAAOC,WAAWC;YAC/B,OAAOxR,KAAKqR,aAAa5N,GAAGE,GAAGmK,QAAQwD,OAAOC,WAAWC;;MA7SlC5R,SAASgM;IAiTxCnL,OAAO0I,iBAAiB0D,iBAAiBzD,WAAW;QAChDvD,iBAAiB;YACbV,OAp+CG;gBACH1B,GAAG;gBACHE,GAAG;gBACHmC,QAAQ;gBACRC,QAAQ;gBACRC,MAAM;gBACNC,MAAM;gBACNC,OAAO;gBACPC,OAAO;gBACPC,UAAU;gBACVC,UAAS;gBACT7B,OAAO;gBACP8B,OAAM;gBACNC,MAAM;gBACNC,SAAS;;YAu9CT6C,WAAU;;QAEdzD,WAAW;YACPT,OAAO0G,uBAAuBtL,aAAasM,iBAAiBzD;YAC5DC,WAAU;;;IAOlB,IAAMsI;;;;;;MAAiBC,eAKjBC;QACF,2BAAY7S,KAAK8S;YACbjO,sBACA7D,KAAKgF,YAAYhG,KACjBgB,KAAK+R,QAAQD;;;;;;;;;;;;eAEjBE,sBAAIpS;YACA,OAAOI,KAAKgF;WAEhBgN,sBAAIF;YACA,OAAO9R,KAAK+R;;;MAVY3M;IAoBhC,SAAS6M,yBAAyBH,MAAMI,MAAMzC;QAC1C,OAAOhP,OAAO6E,OA1gDP;YACH7B,GAAG;YACHE,GAAG;YACHmC,QAAQ;YACRC,QAAQ;YACRC,MAAM;YACNC,MAAM;YACNC,OAAO;YACPC,OAAO;YACPC,UAAU;YACVC,UAAS;YACT7B,OAAO;YACP8B,OAAM;YACNC,MAAM;YACNC,SAAS;WA4/CgC;YACzCsL,MAAMA;YACNI,MAAMA;YACNzC,OAAOA;YACP0C,WATU;YAUVC,YAAY;YACZC,WAAW;;;IAMnB,SAASC,mBAAmBtT,KAAK8S;QAC7B5S,IAAMN,OAAO,IAAIiT,kBAAkB7S,KAAK8S;QACxC,OAAOnT,eAAeC,MAAMA,KAAK2G;;IAKrCrG,IAAMqT,MAAM3S,SAASgS,MAIfY;QACF,sBAAYV,MAAMI,MAAMzC;yCAAQ;;;;YAC5B5L,yBAAMiO,MAAMI,MAAMzC,eAAU3L,QAC5B9D,KAAK6F,kBAAkBoM,yBAAyBH,MAAMI,MAAMzC;YAC5DvQ,IAAMuT,QAAQzS,KAAK0S,WAAWR,OACxBvP,IAAI,IAAIgP,SAASG,MAAM;gBACzBa,YAAYF,MAAME;gBAClBC,UAAUH,MAAMG;gBAChBC,YAAYJ,MAAMI;gBAClBC,MAAM9S,KAAKwP,YAAYC;gBACvBsD,WAAU;;YAEd/S,KAAK4F,YAAY0M,mBAAmBtS,MAAM2C,IAC1C3C,KAAK4F,UAAU9G,SAASyF,SAAS5B;YACjC3C,KAAKyG,wBAAwB,IAAI3F,aAAad,OAC9CuS,IAAIS,kBAAKhT,MAAM8R,MAAMI,MAAMzC,eAAU3L;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEzCmP,sBAAIrU;YACA,OAAOoB,KAAK4F,UAAU9G;kCAE1Ba,yBAAcV;YACV,QAAO;WAEXgU,sBAAIxP;YACA,OAAOzD,KAAK6F,gBAAgBpC;WAEhCwP,sBAAIxP,iBAAE0B;YACFnF,KAAK4F,UAAU9G,SAAS2E,IAAI0B,OAC5BnF,KAAK6F,gBAAgBpC,IAAI0B;WAE7B8N,sBAAItP;YACA,OAAO3D,KAAK6F,gBAAgBlC;WAEhCsP,sBAAItP,iBAAEwB;YACFnF,KAAK4F,UAAU9G,SAAS6E,IAAIwB,OAC5BnF,KAAK6F,gBAAgBlC,IAAIwB;WAE7B8N,sBAAInN;YACA,OAAO9F,KAAK6F,gBAAgBC;WAEhCmN,sBAAInN,sBAAOX;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMrD,IAAI0B,OAClCnF,KAAK6F,gBAAgBC,SAASX;WAElC8N,sBAAIlN;YACA,OAAO/F,KAAK6F,gBAAgBE;WAEhCkN,sBAAIlN,sBAAOZ;YACPnF,KAAK4F,UAAU9G,SAASgI,MAAMnD,IAAIwB,OAClCnF,KAAK6F,gBAAgBE,SAASZ;WAElC8N,sBAAI/M;YACA,OAAOlG,KAAK6F,gBAAgBK;WAEhC+M,sBAAI/M,qBAAMf;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKtD,KAAK0B,QAAQxE,YAC1CX,KAAK6F,gBAAgBK,QAAQf;WAEjC8N,sBAAI9M;YACA,OAAOnG,KAAK6F,gBAAgBM;WAEhC8M,sBAAI9M,qBAAMhB;YACNnF,KAAK4F,UAAU9G,SAASiI,KAAKpD,IAAIwB,QAAQxE,YACzCX,KAAK6F,gBAAgBM,QAAQhB;WAEjC8N,sBAAIjN;YACA,OAAOhG,KAAK6F,gBAAgBG;WAEhCiN,sBAAIjN,oBAAKb;YACLnF,KAAK4F,UAAU/G,OAAO4E,IAAI0B,OAC1BnF,KAAK6F,gBAAgBG,OAAOb;WAEhC8N,sBAAIhN;YACA,OAAOjG,KAAK6F,gBAAgBI;WAEhCgN,sBAAIhN,oBAAKd;YACLnF,KAAK4F,UAAU/G,OAAO8E,IAAIwB,OAC1BnF,KAAK6F,gBAAgBI,OAAOd;WAEhC8N,sBAAI7M;YACA,OAAOpG,KAAK6F,gBAAgBO;WAEhC6M,sBAAI7M,wBAASjB;YACTnF,KAAK4F,UAAU9G,SAASsH,WAAWjB,QAAQxE,YAC3CX,KAAK6F,gBAAgBO,WAAWjB;WAEpC8N,sBAAI5M;YACA,OAAOrG,KAAK6F,gBAAgBQ;WAEhC4M,sBAAI5M,uBAAQlB;YACRA,UAAUA,OACVnF,KAAK4F,UAAU9G,SAASuH,UAAUlB,OAClCnF,KAAK6F,gBAAgBQ,UAAUlB;WAEnC8N,sBAAIzO;YACA,OAAOxE,KAAK6F,gBAAgBrB;WAEhCyO,sBAAIzO,qBAAMW;YACNnF,KAAK4F,UAAU9G,SAAS0F,QAAQW,OAChCnF,KAAK6F,gBAAgBrB,QAAQW;WAEjC8N,sBAAI3M;YACA,OAAOtG,KAAK6F,gBAAgBS;WAEhC2M,sBAAI3M,oBAAKnB;YACLnF,KAAK4F,UAAU9G,SAASkI,cAAc7B,OACtCnF,KAAK6F,gBAAgBS,OAAOnB;kCAEhC8B,4BAAiBzE,MAAMb;;;;YAMnB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBlE,IAAIvC,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAG/DkC,qBAAMoD,+BAAiBzE,MAAMb,YAAOmC;kCAE/CoD,+BAAoB1E,MAAMb;;;;YAMtB,OALMA,cAAciC,wBACH,gBAATpB,QAAiC,eAATA,QAAgC,cAATA,QAA+B,gBAATA,QAAiC,cAATA,QAC7FxC,KAAKyG,sBAAsBzD,OAAOhD,KAAK4F,UAAU9G,UAAU0D,MAAMb;YAGlEkC,qBAAMqD,kCAAoB1E,MAAMb,YAAOmC;WAElDmP,sBAAI1M;YACA,OAAOvG,KAAK6F,gBAAgBU;WAEhC0M,sBAAI1M,oBAAKpB;;YACDA,SACAA,MAAMgC,OAAOvE,KAAK5C,KAAK4F,UAAU9G,WACjCkB,KAAK4F,UAAU9G,SAASyH,OAAOpB,MAAMvG;YACrCoB,KAAK4F,UAAU9G,SAASsI,KAAK;gBACzBpH,OAAK4F,UAAU9G,SAASuI,OAAO9C,SAASY,MAAMvG;mBAIlDoB,KAAK4F,UAAU9G,SAASyH,OAAO,MAEnCvG,KAAK6F,gBAAgBU,OAAOpB;WAEhC8N,sBAAInB;YACA,OAAO9R,KAAK6F,gBAAgBiM;WAEhCmB,sBAAInB,oBAAKA;YACL9R,KAAK4F,UAAU9G,SAASgT,KAAKA,OAAOA,MACpC9R,KAAKkT,OAAOlT,KAAKmS,YACjBnS,KAAK6F,gBAAgBiM,OAAOA;kCAEhCY,sBAAWR;YACPhT,IAAMiU,IAAIjB,KAAKpC,MAAM,MACjBd,IAAI,UACJ6B,IAAIsC,EAAEC,WAAW;YAKrB,QAJyB,MAArBvC,EAAEwC,QAAQ,UACVrE,IAAI6B,GACJA,IAAIsC,EAAEC,WAAW,KAEd;gBACHT,YAAY3D;gBACZ4D,UAAU7C,QAAQc,KAAK,OAAOhB,QAAQ,MAAM;gBAC5CgD,YAAYM,EAAEzC,KAAK,KAAKb,QAAQ,MAAM;;WAG9CoD,sBAAIf;YACA,OAAOlS,KAAK6F,gBAAgBqM;WAEhCe,sBAAIf,oBAAKA;YACLhT,IAAMuT,QAAQzS,KAAK0S,WAAWR;YAC9BlS,KAAK4F,UAAU9G,SAASgT,KAAKwB,MAAMV,WAAWH,MAAMG,UACpD5S,KAAK4F,UAAU9G,SAASgT,KAAKwB,MAAMT,aAAaJ,MAAMI;YACtD7S,KAAK6F,gBAAgBqM,OAAOA;kCAEhC1C,uBAAYC;YACR,OAAOE,SAASF,MAAMpQ,MAAM,IAAI;WAEpC4T,sBAAIxD;YACA,OAAOzP,KAAK6F,gBAAgB4J;WAEhCwD,sBAAIxD,qBAAMA;YACNzP,KAAK4F,UAAU9G,SAASgT,KAAKwB,MAAMR,OAAO9S,KAAKwP,YAAYC,QAC3DzP,KAAK6F,gBAAgB4J,QAAQA;kCAEjCyD,kBAAOK;YACW,WAAVA,QAIU,aAAVA,QAIU,YAAVA,UACAvT,KAAK4F,UAAU9G,SAASgT,KAAKrO,KAAKzD,KAAK4F,UAAU9G,SAASgT,KAAKtB,SAJ/DxQ,KAAK4F,UAAU9G,SAASgT,KAAKrO,KAAKzD,KAAK4F,UAAU9G,SAASgT,KAAKtB,QAAQ,IAJvExQ,KAAK4F,UAAU9G,SAASgT,KAAKrO,IAAI;WAYzCwP,sBAAId;YACA,OAAOnS,KAAK6F,gBAAgBsM;WAEhCc,sBAAId,yBAAUoB;YACVvT,KAAK4F,UAAU9G,SAASgT,KAAKwB,MAAMC,QAAQA,OAC3CvT,KAAKkT,OAAOK,QACZvT,KAAK6F,gBAAgBsM,YAAYoB;WAErCN,sBAAIb;YACA,OAAOpS,KAAK6F,gBAAgBuM;WAEhCa,sBAAIb,0BAAWoB;YACXxT,KAAK4F,UAAU9G,SAASgT,KAAKwB,MAAMlB,aAAaoB,QAChDxT,KAAK6F,gBAAgBuM,aAAaoB;WAEtCP,sBAAIZ;YACA,OAAOrS,KAAK6F,gBAAgBwM;WAEhCY,sBAAIZ,yBAAU7B;YACVxQ,KAAK4F,UAAU9G,SAASgT,KAAKwB,MAAMG,gBAAgBjD,OACnDxQ,KAAKkT,OAAOlT,KAAKmS;YACjBnS,KAAK6F,gBAAgBwM,YAAY7B;;MAxNd5Q,SAASgS;IA6OpC,SAAS8B,eAAeC,IAAIC,UAAUC;yCAAU;QAC5C3U,IAAM4U,OAAOC,QAAQC,eAAeL;QACpC,KAAKG;YACD,MAAM,IAAIG,MAAM;;QAEpB/U,IAAMgV,MAAMJ,KAAKK;QACjB,OAAO,IAAIC,kBAASC,SAASC;YACc,MAAnCJ,IAAIK,WAAWC,SAAShV,UACxB6U,QAAQ,KAERT,aACAA,YAAYA,WAAW,KAAK/D,QAAQ,eAAe;YAEvD3Q,IAAMuV,SAAS,IAAI7U,SAAS8U,WAAU,GAAOd;YAQ7C,IAPAa,OAAOE,cAAc/U,SAASgV,QAC9BH,OAAOxN,iBAAiB,aAAY,SAAU4N;iBA4CtD,SAAwBA,KAAKf;oBACzB5U,IAAM4V,SAAShB,KAAKiB;oBAChBF,OAAyB,WAAjBA,IAAIG,KAAKxS,SACjBsS,OAAOD,IAAIG,KAAKrB,MAAMkB,IAAII;iBA9CtBC,CAAeL,KAAKf;iBAExBW,OAAOxN,iBAAiB,aAAY,SAAU4N;gBAC1CR,QAAQQ;iBAERhB,QAAQsB;gBAER,KADAjW,IAAMsI,IAAI0M,IAAIK,WAAWC,UAChBlV,IAAI,GAAGA,IAAIkI,EAAEhI,QAAQF;oBAC1BkI,EAAElI,GAAG6V,eAAc;;;YAG3BV,OAAOW,aAAalB,IAAIK,WAAWC;YAElCa,eAAMR;YAIP,KAHA3V,IAAMyR,KAAKmD,KAAKwB,kBACVC,QAAQV,IAAIxR,QACZmS,aAAatB,IAAIsB,YACdlW,IAAI,GAAGA,IAAIkW,WAAWhW,QAAQF;gBACnCqR,GAAG6E,WAAWlW,GAAGmW,QAAQ,IAAI7V,SAAS8V,YAAY;oBAC9CZ,QAAQ,EACJS,MAAMI,UAAUH,WAAWlW,GAAGmW;oBAElCG,QAAQJ,WAAWlW,GAAGsW;;;YAG9B,OAAO1B;;;IA1DfzT,OAAO0I,iBAAiBqJ,aAAapJ,WAAW;QAC5CvD,iBAAiB;YACbV,OAAO8M,yBAAyB,IAAI,IAAI;YACxC5I,WAAU;;QAEdzD,WAAW;YACPT,OAAOmN,mBAAmB/R,aAAaiS,aAAapJ,YAAY,IAAIuI,SAAS;YAC7EtI,WAAU;;QAuDlBzJ,SAASQ,QAAQN,eACjBF,SAASU,UAAUD,iBACnBT,SAAS8F,YAAYC;IACrB/F,SAAS4J,SAASI,gBAClBhK,SAASmL,QAAQC,eACjBpL,SAAS0L,SAASC;IAClB3L,SAASgM,WAAWiB,kBACpBjN,SAASgS,OAAOY,cAChB5S,SAASiF,eAAejB;IAExBhE,SAASiW,kBAAkBC;ICh1D3B5W,IAKayG;QAGZ;;;;YACC9B,+BAASC,OAET9D,KAAK+V,YAAY/V,KAAKgW;;;;iGAGvBrP;;;;YACC9C,6BAAM8C,uBAAc7C,OAEpB9D,KAAK+V,YAAY/V,KAAKgW;uCAMvBrW,yBAAcV;YAGb,OAFAe,KAAKiW,QAxBW,qBAwBHhX,EAAEiX,QAERrS,6BAAMlE,yBAAcV;;MArBUkX;ICkEvCvW,SAAS8F,YAAYC;QC9DRP;QAGZ,mBAAYgR;;YACXvS,uBAEA7D,KAAKqW,gBAAgB;gBACpB1C,IAAI;gBACJ2C,SAAS;eAGVtW,KAAK8C,GAAG;gBACPsT,OAAO7T,IAAIvC,OAAKuW,aAAavW;iBAG9BA,KAAK8C,GAAG;gBACPsT,OAAOpT,OAAOhD,OAAKuW,aAAavW;;;;yEAI1BuW,uBAAYL;YACnBhX,IAAMD,IAAI;uBAAEiX;eACNI,UAAUtW,KAAKqW,cAAcC;YACnC,KAAK7R,IAAInF,KAAKgX;gBACbA,QAAQhX,GAAGK,cAAcV;;+BAInBuX,wBAAaxX;;YACpB,IAAIA,eAAe2G,qBAAmB;gBACrCzG,IAAMiU,IAAInU,IAAIJ,KAAKyI;gBAEnBrI,IAAIJ,KAAKwI,KAAK;oBACTpI,IAAIJ,KAAKyI,WAAW8L,KACvBnU,IAAIyX,YAAY;oBAGjBvX,IAAMyU,KAAK3T,OAAKqW,cAAc1C;oBAC9B3T,OAAKqW,cAAcC,QAAQ3C,MAAM3U,KAEjCA,IAAIJ,KAAKwI,KAAK;+BACNpH,OAAKqW,cAAcC,QAAQ3C;;;;+BAStC+C,uBAAY1X;YAIX,OAHAgB,KAAKwW,aAAaxX,MAClBgB,KAAKuE,SAASvF,IAAIJ,OAEXI;+BAMR2X,yBAAc3X,KAAsB+J;YAInC,OAHA/I,KAAKwW,aAAaxX,MAClBgB,KAAK8I,WAAW9J,IAAIJ,MAAMmK,QAEnB/J;+BAMR4X,0BAAe5X;YAGd,OAFAgB,KAAKgJ,YAAYhK,IAAIJ,OAEdI;;MAzEsB6X;;mEDgBAP;QACzBQ,MAAMC,QAAQT,aAClBA,UAAU,EAACA;QAKZ,KAFApX,IAAM8X,WAAuC,IAEpC1X,IAAI,GAAGA,IAAIgX,QAAQ9W,QAAQF,KAAK;YAExC,KADayU,QAAQC,eAAesC,QAAQhX,GAAGqU;gBAE9C,MAAM,IAAIM,2BAAyBqC,QAAQhX;;;QAI7C,KAAKmF,IAAInF,MAAI,GAAGA,MAAIgX,QAAQ9W,QAAQF,OAAK;YACxCJ,IAAMmE,SAASiT,QAAQhX;YAGvB,KADayU,QAAQC,eAAe3Q,OAAOsQ;gBAE1C,MAAM,IAAIM,2BAAyB5Q;;YAGpC2T,SAASpU,KAAKqU,eAAgB5T,OAAOsQ,IAAItQ,OAAOuQ,UAAUvQ,OAAOwQ,SAC/DwB,eAAMnB;gBACN,KAAKzP,IAAInF,KAAM4U;oBACVA,IAAI5U,GAAG8J,qBAAqBzD,wBAC/BuO,IAAI5U,GAAG8J,UAAU4M,iBAAiB9B,IAAIK,WAAW2C;;gBAInD,OAAOhD;;;QAKV,OAAOE,QAAQ+C,IAAIH,UACjB3B,eAAM+B;YACN,OAAyB,MAArBA,UAAU5X,SACN4X,UAAU,KAGXA;;;"}
{"version":3,"file":"pixi-animate-container.js","sources":["../node_modules/@tawaship/pixi-animate-core/dist/pixi-animate-core.esm.js","../src/MovieClip.ts","../src/core.ts","../src/Container.ts"],"sourcesContent":["/*!\n * @tawaship/pixi-animate-core - v3.0.3\n * \n * @require pixi.js v^5.3.2\n * @author tawaship (makazu.mori@gmail.com)\n * @license MIT\n */\n\nimport createjs from '@tawaship/createjs-module';\nexport { default as createjs } from '@tawaship/createjs-module';\nimport { Container, filters, Sprite, BaseTexture, Texture, Graphics, LINE_CAP, LINE_JOIN, Text } from 'pixi.js';\nexport { Point as PixiPoint } from 'pixi.js';\n\nfunction createPixiData(pixi, regObj) {\r\n    return {\r\n        regObj,\r\n        instance: pixi\r\n    };\r\n}\r\nfunction createCreatejsParams() {\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        scaleX: 0,\r\n        scaleY: 0,\r\n        regX: 0,\r\n        regY: 0,\r\n        skewX: 0,\r\n        skewY: 0,\r\n        rotation: 0,\r\n        visible: true,\r\n        alpha: 1,\r\n        _off: false,\r\n        mask: null,\r\n        filters: null\r\n    };\r\n}\r\nfunction updateDisplayObjectChildren(cjs, e) {\r\n    const list = cjs.children.slice();\r\n    for (let i = 0, l = list.length; i < l; i++) {\r\n        const child = list[i];\r\n        if (!child.isVisible()) {\r\n            continue;\r\n        }\r\n        //child.draw();\r\n        child.updateForPixi(e);\r\n    }\r\n    return true;\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Stage.html | createjs.Stage]]\r\n */\r\nclass CreatejsStage extends createjs.Stage {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/StageGL.html | createjs.StageGL]]\r\n */\r\nclass CreatejsStageGL extends createjs.StageGL {\r\n    updateForPixi(props) {\r\n        if (this.tickOnUpdate) {\r\n            this.tick(props);\r\n        }\r\n        this.dispatchEvent(\"drawstart\");\r\n        updateDisplayObjectChildren(this, props);\r\n        this.dispatchEvent(\"drawend\");\r\n        return true;\r\n    }\r\n}\n\nfunction createObject(proto) {\r\n    return Object.create(proto);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEG_TO_RAD = Math.PI / 180;\n\nclass EventManager {\r\n    constructor(cjs) {\r\n        this._isDown = false;\r\n        this._events = {\r\n            pointerdown: [],\r\n            pointerover: [],\r\n            pointerout: [],\r\n            pointermove: [],\r\n            pointerup: [],\r\n            pointerupoutside: []\r\n        };\r\n        this._data = {\r\n            mousedown: {\r\n                types: ['pointerdown'],\r\n                factory: (cb) => {\r\n                    return this._mousedownFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollover: {\r\n                types: ['pointerover'],\r\n                factory: (cb) => {\r\n                    return this._rolloverFactory(cjs, cb);\r\n                }\r\n            },\r\n            rollout: {\r\n                types: ['pointerout'],\r\n                factory: (cb) => {\r\n                    return this._rolloutFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressmove: {\r\n                types: ['pointermove'],\r\n                factory: (cb) => {\r\n                    console.log(cb);\r\n                    return this._pressmoveFactory(cjs, cb);\r\n                }\r\n            },\r\n            pressup: {\r\n                types: ['pointerup', 'pointerupoutside'],\r\n                factory: (cb) => {\r\n                    return this._pressupFactory(cjs, cb);\r\n                }\r\n            }\r\n        };\r\n    }\r\n    add(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        const func = data.factory(cb);\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            this._events[t].push({ func, origin: cb });\r\n            pixi.on(t, func);\r\n        }\r\n        pixi.interactive = true;\r\n    }\r\n    remove(pixi, type, cb) {\r\n        const data = this._data[type];\r\n        const types = data.types;\r\n        for (let i = 0; i < types.length; i++) {\r\n            const t = types[i];\r\n            const list = this._events[t];\r\n            if (list) {\r\n                for (var j = list.length - 1; j >= 0; j--) {\r\n                    if (list[j].origin === cb) {\r\n                        pixi.off(t, list[j].func);\r\n                        list.splice(j, 1);\r\n                        break;\r\n                    }\r\n                }\r\n                if (list.length === 0) {\r\n                    this._events[t] = [];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    _mousedownFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloverFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _rolloutFactory(cjs, cb) {\r\n        return (e) => {\r\n            e.currentTarget = e.currentTarget.createjs;\r\n            e.target = e.currentTarget.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            this._isDown = true;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressmoveFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n    _pressupFactory(cjs, cb) {\r\n        return (e) => {\r\n            if (!this._isDown) {\r\n                return;\r\n            }\r\n            e.currentTarget = cjs;\r\n            this._isDown = false;\r\n            e.target = e.target && e.target.createjs;\r\n            const ev = e.data;\r\n            e.rawX = ev.global.x;\r\n            e.rawY = ev.global.y;\r\n            cb(e);\r\n        };\r\n    }\r\n}\n\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/ButtonHelper.html | createjs.ButtonHelper]]\r\n */\r\nclass CreatejsButtonHelper extends createjs.ButtonHelper {\r\n    constructor(...args) {\r\n        super(...args);\r\n        const createjs = args[0];\r\n        const pixi = createjs.pixi;\r\n        const baseFrame = args[1];\r\n        const overFrame = args[2];\r\n        const downFrame = args[3];\r\n        const hit = arguments[5];\r\n        const hitFrame = args[6];\r\n        hit.gotoAndStop(hitFrame);\r\n        const hitPixi = pixi.addChild(hit.pixi);\r\n        hitPixi.alpha = 0.00001;\r\n        let isOver = false;\r\n        let isDown = false;\r\n        hitPixi.on('pointerover', function () {\r\n            isOver = true;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(downFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerout', function () {\r\n            isOver = false;\r\n            if (isDown) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerdown', function () {\r\n            isDown = true;\r\n            createjs.gotoAndStop(downFrame);\r\n        });\r\n        hitPixi.on('pointerup', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.on('pointerupoutside', function () {\r\n            isDown = false;\r\n            if (isOver) {\r\n                createjs.gotoAndStop(overFrame);\r\n            }\r\n            else {\r\n                createjs.gotoAndStop(baseFrame);\r\n            }\r\n        });\r\n        hitPixi.interactive = true;\r\n        hitPixi.cursor = 'pointer';\r\n    }\r\n}\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiMovieClip extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._filterContainer = null;\r\n        this._createjs = cjs;\r\n    }\r\n    get filterContainer() {\r\n        return this._filterContainer;\r\n    }\r\n    set filterContainer(value) {\r\n        this._filterContainer = value;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsMovieClipParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiMovieClipData(cjs) {\r\n    const pixi = new PixiMovieClip(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        subInstance: pixi\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P = createjs.MovieClip;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/MovieClip.html | createjs.MovieClip]]\r\n */\r\nclass CreatejsMovieClip extends createjs.MovieClip {\r\n    constructor(...args) {\r\n        super();\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiMovieClipData(this);\r\n        this._createjsParams = createCreatejsMovieClipParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        this._updateState();\r\n        return updateDisplayObjectChildren(this, e);\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get filters() {\r\n        return this._createjsParams.filters;\r\n    }\r\n    set filters(value) {\r\n        if (value) {\r\n            const list = [];\r\n            for (var i = 0; i < value.length; i++) {\r\n                const f = value[i];\r\n                if (f instanceof createjs.ColorMatrixFilter) {\r\n                    continue;\r\n                }\r\n                const m = new filters.ColorMatrixFilter();\r\n                m.matrix = [\r\n                    f.redMultiplier, 0, 0, 0, f.redOffset / 255,\r\n                    0, f.greenMultiplier, 0, 0, f.greenOffset / 255,\r\n                    0, 0, f.blueMultiplier, 0, f.blueOffset / 255,\r\n                    0, 0, 0, f.alphaMultiplier, f.alphaOffset / 255,\r\n                    0, 0, 0, 0, 1\r\n                ];\r\n                list.push(m);\r\n            }\r\n            var o = this._pixiData.instance;\r\n            var c = o.children;\r\n            var n = new Container();\r\n            var nc = this._pixiData.subInstance = n.addChild(new Container());\r\n            while (c.length) {\r\n                nc.addChild(c[0]);\r\n            }\r\n            o.addChild(n);\r\n            o.filterContainer = nc;\r\n            nc.updateTransform();\r\n            nc.calculateBounds();\r\n            const b = nc.getLocalBounds();\r\n            const x = b.x;\r\n            const y = b.y;\r\n            for (var i = 0; i < nc.children.length; i++) {\r\n                const child = nc.children[i];\r\n                child.x -= x;\r\n                child.y -= y;\r\n                if (child instanceof PixiMovieClip) {\r\n                    const fc = child.filterContainer;\r\n                    if (fc) {\r\n                        fc.cacheAsBitmap = false;\r\n                    }\r\n                }\r\n            }\r\n            n.x = x;\r\n            n.y = y;\r\n            nc.filters = list;\r\n            nc.cacheAsBitmap = true;\r\n        }\r\n        else {\r\n            const o = this._pixiData.instance;\r\n            if (o.filterContainer) {\r\n                const nc = this._pixiData.subInstance;\r\n                const n = nc.parent;\r\n                const c = nc.children;\r\n                o.removeChildren();\r\n                o.filterContainer = null;\r\n                while (c.length) {\r\n                    const v = o.addChild(c[0]);\r\n                    v.x += n.x;\r\n                    v.y += n.y;\r\n                }\r\n                nc.filters = [];\r\n                nc.cacheAsBitmap = false;\r\n                this._pixiData.subInstance = o;\r\n            }\r\n        }\r\n        this._createjsParams.filters = value;\r\n    }\r\n    addChild(child) {\r\n        this._pixiData.subInstance.addChild(child.pixi);\r\n        return super.addChild(child);\r\n    }\r\n    addChildAt(child, index) {\r\n        this._pixiData.subInstance.addChildAt(child.pixi, index);\r\n        return super.addChildAt(child, index);\r\n    }\r\n    removeChild(child) {\r\n        this._pixiData.subInstance.removeChild(child.pixi);\r\n        return super.removeChild(child);\r\n    }\r\n    removeChildAt(index) {\r\n        this._pixiData.subInstance.removeChildAt(index);\r\n        return super.removeChildAt(index);\r\n    }\r\n    removeAllChldren() {\r\n        this._pixiData.subInstance.removeChildren();\r\n        return super.removeAllChldren();\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsMovieClip.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsMovieClipParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiMovieClipData(createObject(CreatejsMovieClip.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiSprite extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsSpriteParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiSpriteData(cjs) {\r\n    const pixi = new PixiSprite(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$1 = createjs.Sprite;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Sprite.html | createjs.Sprite]]\r\n */\r\nclass CreatejsSprite extends createjs.Sprite {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$1.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiSpriteData(this);\r\n        this._createjsParams = createCreatejsSpriteParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    gotoAndStop(...args) {\r\n        super.gotoAndStop(...args);\r\n        const frame = this.spriteSheet.getFrame(this.currentFrame);\r\n        const baseTexture = BaseTexture.from(frame.image);\r\n        const texture = new Texture(baseTexture, frame.rect);\r\n        this._pixiData.instance.texture = texture;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsSprite.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsSpriteParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiSpriteData(createObject(CreatejsSprite.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiShape extends Container {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsShapeParams(graphics) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        graphics\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiShapeData(cjs) {\r\n    const pixi = new PixiShape(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        masked: []\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$2 = createjs.Shape;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Shape.html | createjs.Shape]]\r\n */\r\nclass CreatejsShape extends createjs.Shape {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$2.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiShapeData(this);\r\n        this._createjsParams = createCreatejsShapeParams(null);\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get graphics() {\r\n        return this._createjsParams.graphics;\r\n    }\r\n    set graphics(value) {\r\n        if (this._pixiData.masked.length) {\r\n            this._pixiData.instance.removeChildren();\r\n            if (value) {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = this._pixiData.instance;\r\n                }\r\n            }\r\n            else {\r\n                for (let i = 0; i < this._pixiData.masked.length; i++) {\r\n                    this._pixiData.masked[i].mask = null;\r\n                }\r\n            }\r\n        }\r\n        if (value) {\r\n            this._pixiData.instance.addChild(value.pixi);\r\n        }\r\n        this._createjsParams.graphics = value;\r\n    }\r\n    get masked() {\r\n        return this._pixiData.masked;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsShape.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsShapeParams(null),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiShapeData(createObject(CreatejsShape.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Sprite.html | PIXI.Sprite]]\r\n */\r\nclass PixiBitmap extends Sprite {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsBitmapParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiBitmapData(cjs) {\r\n    const pixi = new PixiBitmap(cjs);\r\n    return createPixiData(pixi, pixi.anchor);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$3 = createjs.Bitmap;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Bitmap.html | createjs.Bitmap]]\r\n */\r\nclass CreatejsBitmap extends createjs.Bitmap {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$3.apply(this, args);\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiBitmapData(this);\r\n        this._createjsParams = createCreatejsBitmapParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        const res = super.initialize(...args);\r\n        const texture = Texture.from(this.image);\r\n        this._pixiData.instance.texture = texture;\r\n        return res;\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsBitmap.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsBitmapParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiBitmapData(createObject(CreatejsBitmap.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Graphics.html | PIXI.Graphics]]\r\n */\r\nclass PixiGraphics extends Graphics {\r\n    constructor(cjs) {\r\n        super();\r\n        this._createjs = cjs;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsGraphicsParams() {\r\n    return createCreatejsParams();\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiGraphicsData(cjs) {\r\n    const pixi = new PixiGraphics(cjs);\r\n    return Object.assign(createPixiData(pixi, pixi.pivot), {\r\n        strokeFill: 0,\r\n        strokeAlpha: 1\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_RED = 16 * 16 * 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst COLOR_GREEN = 16 * 16;\r\n/**\r\n * @ignore\r\n */\r\nconst LineCap = {\r\n    0: LINE_CAP.BUTT,\r\n    1: LINE_CAP.ROUND,\r\n    2: LINE_CAP.SQUARE\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst LineJoin = {\r\n    0: LINE_JOIN.MITER,\r\n    1: LINE_JOIN.ROUND,\r\n    2: LINE_JOIN.BEVEL\r\n};\r\n/**\r\n * @ignore\r\n */\r\nconst P$4 = createjs.Graphics;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Graphics.html | createjs.Graphics]]\r\n */\r\nclass CreatejsGraphics extends createjs.Graphics {\r\n    constructor(...args) {\r\n        super(...args);\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$4.apply(this, args);\r\n        this._pixiData.instance.beginFill(0xFFEEEE, 1);\r\n        this._pixiData.strokeFill = 0;\r\n        this._pixiData.strokeAlpha = 1;\r\n    }\r\n    initialize(...args) {\r\n        this._pixiData = createPixiGraphicsData(this);\r\n        this._createjsParams = createCreatejsGraphicsParams();\r\n        this._createjsEventManager = new EventManager(this);\r\n        return super.initialize(...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    // path methods\r\n    moveTo(x, y) {\r\n        if (this._pixiData.instance.clone().endFill().containsPoint({ x: x, y: y })) {\r\n            this._pixiData.instance.beginHole();\r\n        }\r\n        else {\r\n            this._pixiData.instance.endHole();\r\n        }\r\n        this._pixiData.instance.moveTo(x, y);\r\n        return super.moveTo(x, y);\r\n    }\r\n    mt(x, y) {\r\n        return this.moveTo(x, y);\r\n    }\r\n    lineTo(x, y) {\r\n        this._pixiData.instance.lineTo(x, y);\r\n        return super.lineTo(x, y);\r\n    }\r\n    lt(x, y) {\r\n        return this.lineTo(x, y);\r\n    }\r\n    arcTo(x1, y1, x2, y2, radius) {\r\n        this._pixiData.instance.arcTo(x1, y1, x2, y2, radius);\r\n        return super.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    at(x1, y1, x2, y2, radius) {\r\n        return this.arcTo(x1, y1, x2, y2, radius);\r\n    }\r\n    arc(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        this._pixiData.instance.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n        return super.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    a(x, y, radius, startAngle, endAngle, anticlockwise) {\r\n        return this.arc(x, y, radius, startAngle, endAngle, anticlockwise);\r\n    }\r\n    quadraticCurveTo(cpx, cpy, x, y) {\r\n        this._pixiData.instance.quadraticCurveTo(cpx, cpy, x, y);\r\n        return super.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    qt(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    curveTo(cpx, cpy, x, y) {\r\n        return this.quadraticCurveTo(cpx, cpy, x, y);\r\n    }\r\n    bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        this._pixiData.instance.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n        return super.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    bt(cp1x, cp1y, cp2x, cp2y, x, y) {\r\n        return this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\r\n    }\r\n    rect(x, y, w, h) {\r\n        this._pixiData.instance.drawRect(x, y, w, h);\r\n        return super.rect(x, y, w, h);\r\n    }\r\n    r(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    drawRect(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    dr(x, y, w, h) {\r\n        return this.rect(x, y, w, h);\r\n    }\r\n    closePath() {\r\n        this._pixiData.instance.closePath();\r\n        return super.closePath();\r\n    }\r\n    cp() {\r\n        return this.closePath();\r\n    }\r\n    clear() {\r\n        this._pixiData.instance.clear();\r\n        return super.clear();\r\n    }\r\n    c() {\r\n        return this.clear();\r\n    }\r\n    _parseColor(color) {\r\n        const res = {\r\n            color: 0,\r\n            alpha: 1\r\n        };\r\n        if (!color) {\r\n            res.alpha = 0;\r\n            return res;\r\n        }\r\n        if (color.charAt(0) === '#') {\r\n            res.color = parseInt(color.slice(1), 16);\r\n            return res;\r\n        }\r\n        const colors = color.replace(/rgba|\\(|\\)|\\s/g, '').split(',');\r\n        res.color = Number(colors[0]) * COLOR_RED + Number(colors[1]) * COLOR_GREEN + Number(colors[2]);\r\n        res.alpha = Number(colors[3]);\r\n        return res;\r\n    }\r\n    beginFill(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.instance.beginFill(c.color, c.alpha);\r\n        return super.beginFill(color);\r\n    }\r\n    f(color) {\r\n        return this.beginFill(color);\r\n    }\r\n    endFill() {\r\n        this._pixiData.instance.endFill();\r\n        return super.endFill();\r\n    }\r\n    ef() {\r\n        return this.endFill();\r\n    }\r\n    setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        this._pixiData.instance.lineTextureStyle({\r\n            width: thickness,\r\n            color: this._pixiData.strokeFill,\r\n            alpha: this._pixiData.strokeAlpha,\r\n            cap: (caps in LineCap) ? LineCap[caps] : LineCap[0],\r\n            join: (joints in LineJoin) ? LineJoin[joints] : LineJoin[0],\r\n            miterLimit\r\n        });\r\n        return super.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    ss(thickness, caps, joints, miterLimit, ignoreScale) {\r\n        return this.setStrokeStyle(thickness, caps, joints, miterLimit, ignoreScale);\r\n    }\r\n    beginStroke(color) {\r\n        const c = this._parseColor(color);\r\n        this._pixiData.strokeFill = c.color;\r\n        this._pixiData.strokeAlpha = c.alpha;\r\n        return super.beginStroke(color);\r\n    }\r\n    s(color) {\r\n        return this.beginStroke(color);\r\n    }\r\n    drawRoundRect(x, y, w, h, radius) {\r\n        this._pixiData.instance.drawRoundedRect(x, y, w, h, radius);\r\n        return super.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    rr(x, y, w, h, radius) {\r\n        return this.drawRoundRect(x, y, w, h, radius);\r\n    }\r\n    drawCircle(x, y, radius) {\r\n        this._pixiData.instance.drawCircle(x, y, radius);\r\n        return super.drawCircle(x, y, radius);\r\n    }\r\n    dc(x, y, radius) {\r\n        return this.drawCircle(x, y, radius);\r\n    }\r\n    drawEllipse(x, y, w, h) {\r\n        this._pixiData.instance.drawEllipse(x, y, w, h);\r\n        return super.drawEllipse(x, y, w, h);\r\n    }\r\n    de(x, y, w, h) {\r\n        return this.drawEllipse(x, y, w, h);\r\n    }\r\n    drawPolyStar(x, y, radius, sides, pointSize, angle) {\r\n        this._pixiData.instance.drawRegularPolygon(x, y, radius, sides, angle * DEG_TO_RAD);\r\n        return super.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n    dp(x, y, radius, sides, pointSize, angle) {\r\n        return this.drawPolyStar(x, y, radius, sides, pointSize, angle);\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsGraphics.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsGraphicsParams(),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiGraphicsData(createObject(CreatejsGraphics.prototype)),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Text.html | PIXI.Text]]\r\n */\r\nclass PixiText extends Text {\r\n}\r\n/**\r\n * [[http://pixijs.download/release/docs/PIXI.Container.html | PIXI.Container]]\r\n */\r\nclass PixiTextContainer extends Container {\r\n    constructor(cjs, text) {\r\n        super();\r\n        this._createjs = cjs;\r\n        this._text = text;\r\n    }\r\n    get createjs() {\r\n        return this._createjs;\r\n    }\r\n    get text() {\r\n        return this._text;\r\n    }\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst DEF_ALIGN = 'left';\r\n/**\r\n * @ignore\r\n */\r\nfunction createCreatejsTextParams(text, font, color) {\r\n    return Object.assign(createCreatejsParams(), {\r\n        text: text,\r\n        font: font,\r\n        color: color,\r\n        textAlign: DEF_ALIGN,\r\n        lineHeight: 0,\r\n        lineWidth: 0\r\n    });\r\n}\r\n/**\r\n * @ignore\r\n */\r\nfunction createPixiTextData(cjs, text) {\r\n    const pixi = new PixiTextContainer(cjs, text);\r\n    return createPixiData(pixi, pixi.pivot);\r\n}\r\n/**\r\n * @ignore\r\n */\r\nconst P$5 = createjs.Text;\r\n/**\r\n * [[https://createjs.com/docs/easeljs/classes/Text.html | createjs.Text]]\r\n */\r\nclass CreatejsText extends createjs.Text {\r\n    constructor(text, font, color = '#000000', ...args) {\r\n        super(text, font, color, ...args);\r\n        this._createjsParams = createCreatejsTextParams(text, font, color);\r\n        const _font = this._parseFont(font);\r\n        const t = new PixiText(text, {\r\n            fontWeight: _font.fontWeight,\r\n            fontSize: _font.fontSize,\r\n            fontFamily: _font.fontFamily,\r\n            fill: this._parseColor(color),\r\n            wordWrap: true\r\n        });\r\n        this._pixiData = createPixiTextData(this, t);\r\n        this._pixiData.instance.addChild(t);\r\n        this._createjsEventManager = new EventManager(this);\r\n        P$5.call(this, text, font, color, ...args);\r\n    }\r\n    get pixi() {\r\n        return this._pixiData.instance;\r\n    }\r\n    updateForPixi(e) {\r\n        return true;\r\n    }\r\n    get x() {\r\n        return this._createjsParams.x;\r\n    }\r\n    set x(value) {\r\n        this._pixiData.instance.x = value;\r\n        this._createjsParams.x = value;\r\n    }\r\n    get y() {\r\n        return this._createjsParams.y;\r\n    }\r\n    set y(value) {\r\n        this._pixiData.instance.y = value;\r\n        this._createjsParams.y = value;\r\n    }\r\n    get scaleX() {\r\n        return this._createjsParams.scaleX;\r\n    }\r\n    set scaleX(value) {\r\n        this._pixiData.instance.scale.x = value;\r\n        this._createjsParams.scaleX = value;\r\n    }\r\n    get scaleY() {\r\n        return this._createjsParams.scaleY;\r\n    }\r\n    set scaleY(value) {\r\n        this._pixiData.instance.scale.y = value;\r\n        this._createjsParams.scaleY = value;\r\n    }\r\n    get skewX() {\r\n        return this._createjsParams.skewX;\r\n    }\r\n    set skewX(value) {\r\n        this._pixiData.instance.skew.x = -value * DEG_TO_RAD;\r\n        this._createjsParams.skewX = value;\r\n    }\r\n    get skewY() {\r\n        return this._createjsParams.skewY;\r\n    }\r\n    set skewY(value) {\r\n        this._pixiData.instance.skew.y = value * DEG_TO_RAD;\r\n        this._createjsParams.skewY = value;\r\n    }\r\n    get regX() {\r\n        return this._createjsParams.regX;\r\n    }\r\n    set regX(value) {\r\n        this._pixiData.regObj.x = value;\r\n        this._createjsParams.regX = value;\r\n    }\r\n    get regY() {\r\n        return this._createjsParams.regY;\r\n    }\r\n    set regY(value) {\r\n        this._pixiData.regObj.y = value;\r\n        this._createjsParams.regY = value;\r\n    }\r\n    get rotation() {\r\n        return this._createjsParams.rotation;\r\n    }\r\n    set rotation(value) {\r\n        this._pixiData.instance.rotation = value * DEG_TO_RAD;\r\n        this._createjsParams.rotation = value;\r\n    }\r\n    get visible() {\r\n        return this._createjsParams.visible;\r\n    }\r\n    set visible(value) {\r\n        value = !!value;\r\n        this._pixiData.instance.visible = value;\r\n        this._createjsParams.visible = value;\r\n    }\r\n    get alpha() {\r\n        return this._createjsParams.alpha;\r\n    }\r\n    set alpha(value) {\r\n        this._pixiData.instance.alpha = value;\r\n        this._createjsParams.alpha = value;\r\n    }\r\n    get _off() {\r\n        return this._createjsParams._off;\r\n    }\r\n    set _off(value) {\r\n        this._pixiData.instance.renderable = !value;\r\n        this._createjsParams._off = value;\r\n    }\r\n    addEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.add(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.addEventListener(type, cb, ...args);\r\n    }\r\n    removeEventListener(type, cb, ...args) {\r\n        if (!(cb instanceof CreatejsButtonHelper)) {\r\n            if (type === 'mousedown' || type === 'rollover' || type === 'rollout' || type === 'pressmove' || type === 'pressup') {\r\n                this._createjsEventManager.remove(this._pixiData.instance, type, cb);\r\n            }\r\n        }\r\n        return super.removeEventListener(type, cb, ...args);\r\n    }\r\n    get mask() {\r\n        return this._createjsParams.mask;\r\n    }\r\n    set mask(value) {\r\n        if (value) {\r\n            value.masked.push(this._pixiData.instance);\r\n            this._pixiData.instance.mask = value.pixi;\r\n            this._pixiData.instance.once('added', () => {\r\n                this._pixiData.instance.parent.addChild(value.pixi);\r\n            });\r\n        }\r\n        else {\r\n            this._pixiData.instance.mask = null;\r\n        }\r\n        this._createjsParams.mask = value;\r\n    }\r\n    get text() {\r\n        return this._createjsParams.text;\r\n    }\r\n    set text(text) {\r\n        this._pixiData.instance.text.text = text;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.text = text;\r\n    }\r\n    _parseFont(font) {\r\n        const p = font.split(' ');\r\n        let w = 'normal';\r\n        let s = p.shift() || '';\r\n        if (s.indexOf('px') === -1) {\r\n            w = s;\r\n            s = p.shift() || '';\r\n        }\r\n        return {\r\n            fontWeight: w,\r\n            fontSize: Number((s || '0px').replace('px', '')),\r\n            fontFamily: p.join(' ').replace(/'/g, '') //'\r\n        };\r\n    }\r\n    get font() {\r\n        return this._createjsParams.font;\r\n    }\r\n    set font(font) {\r\n        const _font = this._parseFont(font);\r\n        this._pixiData.instance.text.style.fontSize = _font.fontSize;\r\n        this._pixiData.instance.text.style.fontFamily = _font.fontFamily;\r\n        this._createjsParams.font = font;\r\n    }\r\n    _parseColor(color) {\r\n        return parseInt(color.slice(1), 16);\r\n    }\r\n    get color() {\r\n        return this._createjsParams.color;\r\n    }\r\n    set color(color) {\r\n        this._pixiData.instance.text.style.fill = this._parseColor(color);\r\n        this._createjsParams.color = color;\r\n    }\r\n    _align(align) {\r\n        if (align === 'left') {\r\n            this._pixiData.instance.text.x = 0;\r\n            return;\r\n        }\r\n        if (align === 'center') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width / 2;\r\n            return;\r\n        }\r\n        if (align === 'right') {\r\n            this._pixiData.instance.text.x = -this._pixiData.instance.text.width;\r\n            return;\r\n        }\r\n    }\r\n    get textAlign() {\r\n        return this._createjsParams.textAlign;\r\n    }\r\n    set textAlign(align) {\r\n        this._pixiData.instance.text.style.align = align;\r\n        this._align(align);\r\n        this._createjsParams.textAlign = align;\r\n    }\r\n    get lineHeight() {\r\n        return this._createjsParams.lineHeight;\r\n    }\r\n    set lineHeight(height) {\r\n        this._pixiData.instance.text.style.lineHeight = height;\r\n        this._createjsParams.lineHeight = height;\r\n    }\r\n    get lineWidth() {\r\n        return this._createjsParams.lineWidth;\r\n    }\r\n    set lineWidth(width) {\r\n        this._pixiData.instance.text.style.wordWrapWidth = width;\r\n        this._align(this.textAlign);\r\n        this._createjsParams.lineWidth = width;\r\n    }\r\n}\r\n// temporary prototype\r\nObject.defineProperties(CreatejsText.prototype, {\r\n    _createjsParams: {\r\n        value: createCreatejsTextParams('', '', ''),\r\n        writable: true\r\n    },\r\n    _pixiData: {\r\n        value: createPixiTextData(createObject(CreatejsText.prototype), new PixiText('')),\r\n        writable: true\r\n    }\r\n});\n\n/**\r\n * Load assets of createjs content published with Adobe Animate.\r\n *\r\n * @param comp Composition obtained from `AdobeAn.getComposition`.\r\n * @param basepath Directory path of Animate content.\r\n */\r\nfunction loadAssetAsync(comp, basepath, options = {}) {\r\n    if (!comp) {\r\n        throw new Error('no composition');\r\n    }\r\n    const lib = comp.getLibrary();\r\n    return new Promise((resolve, reject) => {\r\n        if (lib.properties.manifest.length === 0) {\r\n            resolve({});\r\n        }\r\n        if (basepath) {\r\n            basepath = (basepath + '/').replace(/([^\\:])\\/\\//, \"$1/\");\r\n        }\r\n        const loader = new createjs.LoadQueue(false, basepath);\r\n        loader.installPlugin(createjs.Sound);\r\n        loader.addEventListener('fileload', function (evt) {\r\n            handleFileLoad(evt, comp);\r\n        });\r\n        loader.addEventListener('complete', function (evt) {\r\n            resolve(evt);\r\n        });\r\n        if (options.crossOrigin) {\r\n            const m = lib.properties.manifest;\r\n            for (let i = 0; i < m.length; i++) {\r\n                m[i].crossOrigin = true;\r\n            }\r\n        }\r\n        loader.loadManifest(lib.properties.manifest);\r\n    })\r\n        .then((evt) => {\r\n        const ss = comp.getSpriteSheet();\r\n        const queue = evt.target;\r\n        const ssMetadata = lib.ssMetadata;\r\n        for (let i = 0; i < ssMetadata.length; i++) {\r\n            ss[ssMetadata[i].name] = new createjs.SpriteSheet({\r\n                images: [\r\n                    queue.getResult(ssMetadata[i].name)\r\n                ],\r\n                frames: ssMetadata[i].frames\r\n            });\r\n        }\r\n        return lib;\r\n    });\r\n}\r\n// overrides\r\ncreatejs.Stage = CreatejsStage;\r\ncreatejs.StageGL = CreatejsStageGL;\r\ncreatejs.MovieClip = CreatejsMovieClip;\r\ncreatejs.Sprite = CreatejsSprite;\r\ncreatejs.Shape = CreatejsShape;\r\ncreatejs.Bitmap = CreatejsBitmap;\r\ncreatejs.Graphics = CreatejsGraphics;\r\ncreatejs.Text = CreatejsText;\r\ncreatejs.ButtonHelper = CreatejsButtonHelper;\r\n// install plugins\r\ncreatejs.MotionGuidePlugin.install();\r\n/**\r\n * @ignore\r\n */\r\nfunction handleFileLoad(evt, comp) {\r\n    const images = comp.getImages();\r\n    if (evt && (evt.item.type == 'image')) {\r\n        images[evt.item.id] = evt.result;\r\n    }\r\n}\n\nexport { CreatejsBitmap, CreatejsButtonHelper, CreatejsGraphics, CreatejsMovieClip, CreatejsShape, CreatejsSprite, CreatejsStage, CreatejsStageGL, CreatejsText, PixiBitmap, PixiGraphics, PixiMovieClip, PixiShape, PixiSprite, PixiText, PixiTextContainer, createCreatejsParams, createPixiData, loadAssetAsync, updateDisplayObjectChildren };\n//# sourceMappingURL=pixi-animate-core.esm.js.map\n","import { CreatejsMovieClip as _CreatejsMovieClip, ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\nexport { ITickerData } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst P: number = 1000 / 60;\r\n\r\n/**\r\n * \\@tawaship/pixi-animate-core [[https://tawaship.github.io/pixi-animate-core/classes/createjsmovieclip.html | CreatejsMovieClip]]\r\n */\r\nexport class CreatejsMovieClip extends _CreatejsMovieClip {\r\n\tdeclare _framerateBase: number;\r\n\t\r\n\tconstructor(...args: any[]) {\r\n\t\tsuper(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\tinitialize(...args: any[]) {\r\n\t\tsuper.initialize(...args);\r\n\t\t\r\n\t\tthis.framerate = this._framerateBase;\r\n\t}\r\n\t\r\n\t/**\r\n\t * @override\r\n\t */\r\n\tupdateForPixi(e: ITickerData) {\r\n\t\tthis.advance(e.delta * P);\r\n\t\t\r\n\t\treturn super.updateForPixi(e);\r\n\t}\r\n}","import { createjs, loadAssetAsync as _loadAssetAsync, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\nexport { createjs, ILoadAssetOption, IAnimateLibrary } from '@tawaship/pixi-animate-core';\r\n\r\n/**\r\n * @ignore\r\n */\r\ndeclare const AdobeAn: any;\r\n\r\nexport interface IPrepareTarget {\r\n\t/**\r\n\t * \"lib.properties.id\" in Animate content.\r\n\t */\r\n\tid: string;\r\n\t\r\n\t/**\r\n\t * Directory path of Animate content.\r\n\t */\r\n\tbasepath: string;\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/interfaces/iloadassetoption.html | PixiAnimateCore.ILoadAssetOption]]\r\n\t */\r\n\toptions?: ILoadAssetOption;\r\n};\r\n\r\n/**\r\n * Load the assets of createjs content published by Adobe Animate.\r\n * If you use multiple contents, each composition ID must be unique.\r\n * Please run \"Pixim.animate.init\" before running.\r\n */\r\nexport function loadAssetAsync(targets: IPrepareTarget | IPrepareTarget[]) {\r\n\tif (!Array.isArray(targets)) {\r\n\t\ttargets = [targets];\r\n\t}\r\n\t\r\n\tconst promises: Promise<IAnimateLibrary>[] = [];\r\n\t\r\n\tfor (let i = 0; i < targets.length; i++) {\r\n\t\tconst target = targets[i];\r\n\t\t\r\n\t\tconst comp = AdobeAn.getComposition(target.id);\r\n\t\tif (!comp) {\r\n\t\t\tthrow new Error(`no composition: ${target.id}`);\r\n\t\t}\r\n\t\t\r\n\t\tpromises.push(_loadAssetAsync(comp, target.basepath, target.options)\r\n\t\t\t.then((lib: IAnimateLibrary) => {\r\n\t\t\t\tfor (let i  in lib) {\r\n\t\t\t\t\tif (lib[i].prototype instanceof CreatejsMovieClip) {\r\n\t\t\t\t\t\tlib[i].prototype._framerateBase = lib.properties.fps;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn lib;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\t\r\n\treturn Promise.all(promises)\r\n\t\t.then((resolvers: IAnimateLibrary[]) => {\r\n\t\t\tif (resolvers.length === 1) {\r\n\t\t\t\treturn resolvers[0];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn resolvers;\r\n\t\t});\r\n}\r\n\r\n// overrides\r\ncreatejs.MovieClip = CreatejsMovieClip;","import { Container as _Container, Ticker } from 'pixi.js';\r\nimport { TCreatejsObject } from '@tawaship/pixi-animate-core';\r\nimport { CreatejsMovieClip } from './MovieClip';\r\n\r\nexport interface ICreatejsMovieClipDictionary {\r\n\t[id: number]: CreatejsMovieClip;\r\n}\r\n\r\nexport interface ICreatejsData {\r\n\tid: number;\r\n\ttargets: ICreatejsMovieClipDictionary;\r\n}\r\n\r\n/**\r\n * [[https://tawaship.github.io/Pixim.js/classes/container.html | Pixim.Container]]\r\n */\r\nexport class Container extends _Container {\r\n\tprivate _createjsData: ICreatejsData;\r\n\t\r\n\tconstructor(ticker: Ticker) {\r\n\t\tsuper();\r\n\t\t\r\n\t\tthis._createjsData = {\r\n\t\t\tid: 0,\r\n\t\t\ttargets: {}\r\n\t\t};\r\n\t\t\r\n\t\tthis.on('added', () => {\r\n\t\t\tticker.add(this._handleTick, this);\r\n\t\t});\r\n\t\t\r\n\t\tthis.on('removed', () => {\r\n\t\t\tticker.remove(this._handleTick, this);\r\n\t\t});\r\n\t}\r\n\t\r\n\tprivate _handleTick(delta: number) {\r\n\t\tconst e = { delta };\r\n\t\tconst targets = this._createjsData.targets;\r\n\t\tfor (let i in targets) {\r\n\t\t\ttargets[i].updateForPixi(e);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate _addCreatejs(cjs: TCreatejsObject) {\r\n\t\tif (cjs instanceof CreatejsMovieClip) {\r\n\t\t\tconst p = cjs.pixi.parent;\r\n\t\t\t\r\n\t\t\tcjs.pixi.once('added', () => {\r\n\t\t\t\tif (cjs.pixi.parent !== p) {\r\n\t\t\t\t\tcjs.gotoAndPlay(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst id = this._createjsData.id++;\r\n\t\t\t\tthis._createjsData.targets[id] = cjs;\r\n\t\t\t\t\r\n\t\t\t\tcjs.pixi.once('removed', () => {\r\n\t\t\t\t\tdelete(this._createjsData.targets[id]);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\taddCreatejsAt(cjs: TCreatejsObject, index: number) {\r\n\t\tthis._addCreatejs(cjs);\r\n\t\tthis.addChildAt(cjs.pixi, index);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n\t\r\n\t/**\r\n\t * [[https://tawaship.github.io/pixi-animate-core/modules.html#tcreatejsobject | TCreatejsObject]]\r\n\t */\r\n\tremoveCreatejs(cjs: TCreatejsObject) {\r\n\t\tthis.removeChild(cjs.pixi);\r\n\t\t\r\n\t\treturn cjs;\r\n\t}\r\n}"],"names":["createPixiData","pixi","regObj","instance","updateDisplayObjectChildren","cjs","e","const","list","children","slice","i","l","length","child","isVisible","updateForPixi","CreatejsStage","props","this","tickOnUpdate","tick","dispatchEvent","Stage","CreatejsStageGL","createjs","StageGL","createObject","proto","Object","create","DEG_TO_RAD","Math","PI","EventManager","_isDown","_events","pointerdown","pointerover","pointerout","pointermove","pointerup","pointerupoutside","_data","mousedown","types","factory","cb","_mousedownFactory","rollover","_rolloverFactory","rollout","_rolloutFactory","pressmove","console","log","_pressmoveFactory","pressup","_pressupFactory","add","type","data","func","t","push","origin","on","interactive","remove","j","off","splice","currentTarget","target","ev","rawX","global","x","rawY","y","CreatejsButtonHelper","super","args","baseFrame","overFrame","downFrame","hit","arguments","hitFrame","gotoAndStop","hitPixi","addChild","alpha","let","isOver","isDown","cursor","ButtonHelper","PixiMovieClip","_filterContainer","_createjs","prototypeAccessors","filterContainer","value","Container","createPixiMovieClipData","assign","pivot","subInstance","P","MovieClip","CreatejsMovieClip","_pixiData","_createjsParams","scaleX","scaleY","regX","regY","skewX","skewY","rotation","visible","_off","mask","filters","_createjsEventManager","apply","initialize","prototypeAccessors$1","_updateState","scale","skew","renderable","addEventListener","removeEventListener","masked","once","parent","f","ColorMatrixFilter","m","matrix","redMultiplier","redOffset","greenMultiplier","greenOffset","blueMultiplier","blueOffset","alphaMultiplier","alphaOffset","o","c","n","nc","updateTransform","calculateBounds","b","getLocalBounds","fc","cacheAsBitmap","removeChildren","v","addChildAt","index","removeChild","removeChildAt","removeAllChldren","defineProperties","prototype","writable","PixiSprite","prototypeAccessors$2","Sprite","createPixiSpriteData","anchor","P$1","CreatejsSprite","prototypeAccessors$3","frame","spriteSheet","getFrame","currentFrame","baseTexture","BaseTexture","from","image","texture","Texture","rect","PixiShape","prototypeAccessors$4","createCreatejsShapeParams","graphics","createPixiShapeData","P$2","Shape","CreatejsShape","prototypeAccessors$5","PixiBitmap","prototypeAccessors$6","createPixiBitmapData","P$3","Bitmap","CreatejsBitmap","res","prototypeAccessors$7","PixiGraphics","prototypeAccessors$8","Graphics","createPixiGraphicsData","strokeFill","strokeAlpha","LineCap","0","LINE_CAP","BUTT","1","ROUND","2","SQUARE","LineJoin","LINE_JOIN","MITER","BEVEL","P$4","CreatejsGraphics","beginFill","prototypeAccessors$9","moveTo","clone","endFill","containsPoint","beginHole","endHole","mt","lineTo","lt","arcTo","x1","y1","x2","y2","radius","at","arc","startAngle","endAngle","anticlockwise","a","quadraticCurveTo","cpx","cpy","qt","curveTo","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","bt","w","h","drawRect","r","dr","closePath","cp","clear","_parseColor","color","charAt","parseInt","colors","replace","split","Number","ef","setStrokeStyle","thickness","caps","joints","miterLimit","ignoreScale","lineTextureStyle","width","cap","join","ss","beginStroke","s","drawRoundRect","drawRoundedRect","rr","drawCircle","dc","drawEllipse","de","drawPolyStar","sides","pointSize","angle","drawRegularPolygon","dp","PixiText","Text","PixiTextContainer","text","_text","prototypeAccessors$10","createCreatejsTextParams","font","textAlign","lineHeight","lineWidth","createPixiTextData","P$5","CreatejsText","_font","_parseFont","fontWeight","fontSize","fontFamily","fill","wordWrap","call","prototypeAccessors$11","_align","p","shift","indexOf","style","align","height","wordWrapWidth","loadAssetAsync","comp","basepath","options","Error","lib","getLibrary","Promise","resolve","reject","properties","manifest","loader","LoadQueue","installPlugin","Sound","evt","images","getImages","item","id","result","handleFileLoad","crossOrigin","loadManifest","then","getSpriteSheet","queue","ssMetadata","name","SpriteSheet","getResult","frames","MotionGuidePlugin","install","framerate","_framerateBase","advance","delta","_CreatejsMovieClip","ticker","_createjsData","targets","_handleTick","_addCreatejs","gotoAndPlay","addCreatejs","addCreatejsAt","removeCreatejs","_Container","Array","isArray","promises","AdobeAn","getComposition","_loadAssetAsync","fps","all","resolvers"],"mappings":"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"}